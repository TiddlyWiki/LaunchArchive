bplist00“_WebSubresources_WebMainResource°”	
_WebResourceData^WebResourceURL_WebResourceMIMETypeO-ê/* -------- OVERALL -------- */

body {
   color: #000;
       background-color: #fff;
       font-size: 90%;
       font-family: "frutiger linotype", verdana, arial, helvetica, sans-serif; 
/* font-family: "lucida sans", "lucida grande", verdana, arial, helvetica; */
        margin: 0;
       padding: 0;
       position: relative;
       }

a:link, a:visited, a:hover, a:active {
    text-decoration: none;
       }

#storeArea, #copyright, #saveTest {
     display: none;
       }

/* -------- SITE MASTHEAD -------- */

#header {
  margin-bottom: 1em;
       }

#titleLine {
       color: #666;
       background-color: #fff;
       border-bottom:1px solid #FFDF84;
      font-family: Georgia, "Palatino Linotype", Palatino, "Book Antiqua", Times, "Times New Roman", serif;
     padding: 0.75em;
       }

#titleLine a {
      color: #0080C4;
       }

#titleLine a:hover, #titleLine a:focus, #titleLine a:active {
  color: #00A4FB;
       }

#siteTitle {
       font-size: 180%;
       }

#siteSubtitle {
       padding-left: 1em;
       font-size: 110%;
       }

/* -------- LEFT SIDEBAR -------- */

#leftside {
  border-right: 1px solid #FFDF84;
     line-height: 160%;
       padding: 0 1em 1em 0.5em;
    width: 14em;
       float: left;
       }

#mainMenu, #tagMenuTitle, #tagMenu {
     width: 13em;
       padding: 0.5em;
       }

/* --- main menu at top left --- */

#mainMenu {
       text-align: right;
       float: left;
       padding: 0 0.5em 1em 0.5em;
    margin-bottom: 0.75em;
       }

#mainMenu a {
      color: #0080C4;
       }

#mainMenu a:hover, #mainMenu a:focus {
    color: #00A4FB;
       }

/* --- tag list area for finding tiddlers --- */

#tagMenuTitle { /* title for tags list */
        color: #333;
       /* background: #FFFAE8; */
     border-bottom: 1px solid #FFDF84;
     font-weight: bold;
       line-height: 100%;
       }

#tagMenu { /* tag list area */
  color: #666;
       text-align: right;
       margin-bottom: 0.75em;
       }

#tagMenu A {
      color: #0080C4;
       display: block;
       }

#tagMenu a:hover, #tagMenu a:focus, #tagMenu a:active {
  color: #00A4FB;
       }

/* -------- TIDDLER DISPLAY AREA -------- */

/* --- overall styles for tiddler display area --- */

#displayArea { /* contains all tiddlers on display */
 border-left: 1px solid #FFDF84;
     border-right: 1px solid #FFDF84;
     margin: 0 16em;
      }

#displayArea .externalLink {
      text-decoration: underline;
       }

#displayArea .tiddlyLinkExisting {
      font-weight: bold;
       }

#displayArea .tiddlyLinkNonExisting {
      font-style: italic;
       }

/* --- for message area that appears when you save changes --- */

#messageArea {
   background-color: #FFF1C6;
       color: #333;
       font-size:85%;
        padding: 0.75em;
       display: none;
       }

#messageArea a:link, #messageArea a:visited {
    color: #0080C4;
       text-decoration: underline;
       display: inline;
       }

#messageArea a:hover, #messageArea a:active {
    color: #00A4FB;
       }

/* -------- TIDDLER COMPONENTS -------- */

.tiddler { /* layer 1, outermost */
     font-size: 110%;
       padding: 0;
       }

.innerTiddler { /* layer 2 */
  padding: 1em 1em 0 1em;
     }

.body { /* layer 3, holds bodytext of tiddler */
       padding-top: 0.5em;
       }

/* --- tiddler title --- */

.title { /* layer 3 */
      font-size: 105%;
       font-weight: bold;
       font-family: Georgia, "Palatino Linotype", Palatino, "Book Antiqua", Times, "Times New Roman", serif;
     float: left;
       }

/* --- tiddler toolbar --- */

.toolbar { /* layer 3 */
      color: #666;
       font-size: 90%;
       font-weight: normal;
       text-align: right;
       padding: 0;
       visibility: hidden;
       }

.toolbar A {
      color: #666;
       border: 1px dotted #999;
     padding: 0.15em 0.3em;
      }

.toolbar A:hover, .toolbar A:active {
    color: #0080C4;
       border: 1px solid #00A4FB;
     font-weight: bold;
       }

/* --- tags line at bottom --- */

.tags {
        color: #666;
       font-size: 90%;
       margin: 0.5em 0;
      padding: 0;
       visibility: hidden;
       }

.tags a {
      color: #0080C4;
       padding: 0.2em 0.4em;
      }

.tags a:hover, .tags a:focus, .tags a:active {
  color: #00A4FB;
       }

/* -------- TIDDLER VIEWING -------- */

.viewer { /* layer 4 */
      border-top: 2px solid #FFC430;
     line-height: 140%;
       padding-top: 0.4em;
       }

/* --- headings --- */

.viewer h2, h3, h4, h5, h6 {
      color: #DEA100;
       font-weight: bold;
       font-family: Georgia, "Palatino Linotype", Palatino, "Book Antiqua", Times, "Times New Roman", serif;
     padding-left: 0.5em;
       }

.viewer h2 {
      font-size: 125%;
       }

.viewer h3 {
      font-size: 110%;
       }

.viewer h4 {
      font-size: 100%;
       }

.viewer h5 {
      font-size: 95%;
       }

.viewer h6 {
      font-size: 85%;
       }

/* --- links --- */

.viewer a {
  color: #0080C4;
       }

.viewer a:hover, .viewer a:focus, .viewer a:active {
  color: #00A4FB;
       }

.viewer a.externalLink:visited {
      color: #DE5F00;
       }        

/* --- lists --- */

.viewer ol {
  margin-left: 0.5em;
       padding-left: 1.5em;
       }

.viewer ul {
      margin-left: 0.5em;
       padding-left: 1.5em;
       }

/* --- miscellaneous --- */

.viewer blockquote {
  border-left: 3px solid #666;
     font-size: 92%;
       line-height: 150%;
       margin-left: 2em;
       padding-left: 0.8em;
       }

.viewer blockquote blockquote {
     font-size: 100%;
       }

.viewer hr {
      color: #666;
       border: none;
       border-top: dashed 1px #606060;
     height: 1px;
       }

.viewer pre, .viewer code {
    color: #666;
       font-size: 90%;
       font-family:"lucida sans typewriter", "andale mono", "lucida console", monospace;
 line-height: 1.4em;
       overflow: auto;
       }

/* --- tables --- */

.viewer table {
  border: 1px solid #333;
     border-collapse: collapse;
       font-size: 90%;
       margin: 0.8em 1em
      }

.viewer th {
      color: #000;
       background-color: #FFF1C6;
       border: 1px dotted #666;
     border-bottom: 1px solid #333;
     padding: 0.2em 0.4em;
      }

.viewer td, tr {
     border: 1px dotted #666;
     padding: 0.2em 0.4em;
      }

.viewer caption {
      background: #FFF7DE;
       padding: 0.15em;
       }

/* -------- TIDDLER EDITING -------- */

.editor input {
 border: 1px solid #666;
     display: block;
       width: 100%;
       }

.editor textarea {
      border: 1px solid #666;
     font: 90%/130% "andale mono", "lucida console", "bitstream vera sans mono", monospace !important;
     height: 20em;
       display: block;
       width: 100%;
       margin: 0.5em 0;
      }

.editor input:hover, .editor input:focus, .editor textarea:hover {
  border: 1px solid #FFC430;
     }

.editorPrompt { /* help tip on how to type tags */
      color: #666;
       font-size: 85%;
       margin: 0.3em 0;
      }

/* --- RIGHT SIDEBAR --- */
/* --- starting at the top and going down --- */

#sidebar {
        color: #666;
       border-left: 1px solid #FFDF84;
     line-height: 140%;
       padding: 0 0.5em 1em 1em;
    float: right;
       width: 14em;
       position: relative;
       }

/* --- tiddlywiki command block --- */

#commandPanel {
 background-color: #fff;
       border-bottom: 1px solid #FFDF84;
     padding-top: 0.5em;
       }

#commandPanel A {
      color: #0080C4;
       display: block;
       padding: 0.2em 0.2em 0.2em 0.5em;
    }

#commandPanel A:hover, #commandPanel A:focus {
    color: #00A4FB;
       background-color: #FFF1C6;
       font-weight:bold;
        text-decoration: none;
       }

#commandPanel A:active {
      color: #00A4FB;
       background-color: #FFF1C6;
       }

#commandPanel input {
      border: 1px solid #FFDF84;
     margin: 0.4em 0 0.3em 0.5em;
    }

/* --- options block (usually hidden) --- */

#optionsPanel {
        background-color: #FFF7DE;
       border: 1px solid #FFDF84;
     font-size: 90%;
       line-height:130%;
        display: none;
       padding: 0.5em 0.5em 0.5em 0.5em;
    }

#optionsPanel a:link, #optionsPanel a:visited {
    color: #0080C4;
       font-weight: bold;
       }

#optionsPanel a:hover {
      color: #00A4FB;
       text-decoration: none;
       }

#optionsPanel input {
      border: 1px solid #FFDF84;
     margin: 0.4em 0 0.3em 1em;
    }

.optionsText {
       margin-top: 0.25em;
       margin-bottom: 0.75em;
       }

.optionsItem {
       font-size: 90%;
       }

/* --- tabs for right sidebar --- */

#sidebarTabs {
        padding: 1.5em 0 0 0.5em;
    margin-bottom:-1px;
        }

#sidebarTabs a {
      color: #505050;
       border-top: 4px solid transparent;
     border-right: 1px solid transparent;
     border-left: 1px solid transparent;
     font-weight: bold;
       }

#sidebarTabs a:hover, #sidebarTabs a:focus, #sidebarTabs a:active {
  color: #000;
       border-top: 4px solid #FFC430;
     border-right: 1px solid #FFC430;
     border-left: 1px solid #FFC430;
     text-decoration: none;
       }

#tabTimeline, #tabTags, #tabMore {
     font-size: 95%;
       display: inline;
       padding: 2px 3px 2px 3px;
    margin: 0 2px;
      }

#tabTimeline, .tabContentTimeline {
      background-color: #FBF6E4;
       }

#tabTags, .tabContentTags {
      background-color: #F2F2F0;
       }

#tabMore, .tabContentMore {
      background-color: #EAF8FD;
       }

/* --- for contents shown when you select a tab --- */

#sidebarContent {
    font-size:90%;
        }

#sidebarContent a {
      color: #0080C4;
       }

#sidebarContent a:hover {
      color: #00A4FB;
       background-color: #fff;
       text-decoration: none;
       }

.tabContentTimeline, .tabContentTags, .tabContentMore {
     padding: 0.5em;
       overflow: hidden;
       }

.sidebarSubHeading { /* dates in timeline */
  color: #666;
       border-bottom: 1px solid #FFC430;
     font-size: 110%;
       }

.tabContentMorePrompt { /* affects dropdown and help tip in more tab */
     color: #666;
       padding: 0.5em 0 0.75em 0;
    }

/* --- affects popup menu from clicking tag --- */

#popup {
      background-color: #fff;
       border: 1px solid #ccc;
     border-left: 3px solid #FFDF84;
     display: none;
       position: absolute;
       padding: 0.5em;
       }

#popup a {
      color: #0080C4;
       display: block;
       }

#popup a:hover {
      color: #fff;
       background-color: #00A4FB;
       }

/* --- for license panel at very bottom --- */

#licensePanel {
      font-size: 85%;
       padding-top: 1em;
       }

#licensePanel A {
      color: #666;
       display: block;
       }

#licensePanel A:hover, #licensePanel A:active {
    color: #0080C4;
       text-decoration: none;
       }

/* -------- UNKNOWN FUNCTION -------- */

.hide {
  border: 6px dashed red;
     display: inline;
       float: right;
       }

.highlight, .marked {
      color: #000000;
       background-color: #ffe72f;
       border: 6px dashed red;
     }

/* --- I believe this is related to the zooming box animation --- */

#floater {
  color: white;
       background-color: #E8E8E8;
       font-size: 100%;
       display: none;
       position: absolute;
       padding: 1em;
       opacity: 0.5;
       filter: alpha(opacity=50);
       }

/* =============== Stuff to hide when printing ============= */

@media print {

#titleLine {
     display: none;
       }

#displayArea {
       margin: 1em 1em 0 1em;
    }

#mainMenu {
       display: none;
       }

#leftside {
       display:none;
        }

#sidebar {
       display: none;
       }
}
_Rhdata:text/css,/*%20--------%20OVERALL%20--------%20*/%0A%0Abody%20%7B%0A%20%20%20color%3A%20%23000%3B%0A%20%20%20%20%20%20%20background-color%3A%20%23fff%3B%0A%20%20%20%20%20%20%20font-size%3A%2090%25%3B%0A%20%20%20%20%20%20%20font-family%3A%20%22frutiger%20linotype%22%2C%20verdana%2C%20arial%2C%20helvetica%2C%20sans-serif%3B%20%0A/*%20font-family%3A%20%22lucida%20sans%22%2C%20%22lucida%20grande%22%2C%20verdana%2C%20arial%2C%20helvetica%3B%20*/%0A%20%20%20%20%20%20%20%20margin%3A%200%3B%0A%20%20%20%20%20%20%20padding%3A%200%3B%0A%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%7D%0A%0Aa%3Alink%2C%20a%3Avisited%2C%20a%3Ahover%2C%20a%3Aactive%20%7B%0A%20%20%20%20text-decoration%3A%20none%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23storeArea%2C%20%23copyright%2C%20%23saveTest%20%7B%0A%20%20%20%20%20display%3A%20none%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20--------%20SITE%20MASTHEAD%20--------%20*/%0A%0A%23header%20%7B%0A%20%20margin-bottom%3A%201em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23titleLine%20%7B%0A%20%20%20%20%20%20%20color%3A%20%23666%3B%0A%20%20%20%20%20%20%20background-color%3A%20%23fff%3B%0A%20%20%20%20%20%20%20border-bottom%3A1px%20solid%20%23FFDF84%3B%0A%20%20%20%20%20%20font-family%3A%20Georgia%2C%20%22Palatino%20Linotype%22%2C%20Palatino%2C%20%22Book%20Antiqua%22%2C%20Times%2C%20%22Times%20New%20Roman%22%2C%20serif%3B%0A%20%20%20%20%20padding%3A%200.75em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23titleLine%20a%20%7B%0A%20%20%20%20%20%20color%3A%20%230080C4%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23titleLine%20a%3Ahover%2C%20%23titleLine%20a%3Afocus%2C%20%23titleLine%20a%3Aactive%20%7B%0A%20%20color%3A%20%2300A4FB%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23siteTitle%20%7B%0A%20%20%20%20%20%20%20font-size%3A%20180%25%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23siteSubtitle%20%7B%0A%20%20%20%20%20%20%20padding-left%3A%201em%3B%0A%20%20%20%20%20%20%20font-size%3A%20110%25%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20--------%20LEFT%20SIDEBAR%20--------%20*/%0A%0A%23leftside%20%7B%0A%20%20border-right%3A%201px%20solid%20%23FFDF84%3B%0A%20%20%20%20%20line-height%3A%20160%25%3B%0A%20%20%20%20%20%20%20padding%3A%200%201em%201em%200.5em%3B%0A%20%20%20%20width%3A%2014em%3B%0A%20%20%20%20%20%20%20float%3A%20left%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23mainMenu%2C%20%23tagMenuTitle%2C%20%23tagMenu%20%7B%0A%20%20%20%20%20width%3A%2013em%3B%0A%20%20%20%20%20%20%20padding%3A%200.5em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20main%20menu%20at%20top%20left%20---%20*/%0A%0A%23mainMenu%20%7B%0A%20%20%20%20%20%20%20text-align%3A%20right%3B%0A%20%20%20%20%20%20%20float%3A%20left%3B%0A%20%20%20%20%20%20%20padding%3A%200%200.5em%201em%200.5em%3B%0A%20%20%20%20margin-bottom%3A%200.75em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23mainMenu%20a%20%7B%0A%20%20%20%20%20%20color%3A%20%230080C4%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23mainMenu%20a%3Ahover%2C%20%23mainMenu%20a%3Afocus%20%7B%0A%20%20%20%20color%3A%20%2300A4FB%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20tag%20list%20area%20for%20finding%20tiddlers%20---%20*/%0A%0A%23tagMenuTitle%20%7B%20/*%20title%20for%20tags%20list%20*/%0A%20%20%20%20%20%20%20%20color%3A%20%23333%3B%0A%20%20%20%20%20%20%20/*%20background%3A%20%23FFFAE8%3B%20*/%0A%20%20%20%20%20border-bottom%3A%201px%20solid%20%23FFDF84%3B%0A%20%20%20%20%20font-weight%3A%20bold%3B%0A%20%20%20%20%20%20%20line-height%3A%20100%25%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23tagMenu%20%7B%20/*%20tag%20list%20area%20*/%0A%20%20color%3A%20%23666%3B%0A%20%20%20%20%20%20%20text-align%3A%20right%3B%0A%20%20%20%20%20%20%20margin-bottom%3A%200.75em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23tagMenu%20A%20%7B%0A%20%20%20%20%20%20color%3A%20%230080C4%3B%0A%20%20%20%20%20%20%20display%3A%20block%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23tagMenu%20a%3Ahover%2C%20%23tagMenu%20a%3Afocus%2C%20%23tagMenu%20a%3Aactive%20%7B%0A%20%20color%3A%20%2300A4FB%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20--------%20TIDDLER%20DISPLAY%20AREA%20--------%20*/%0A%0A/*%20---%20overall%20styles%20for%20tiddler%20display%20area%20---%20*/%0A%0A%23displayArea%20%7B%20/*%20contains%20all%20tiddlers%20on%20display%20*/%0A%20border-left%3A%201px%20solid%20%23FFDF84%3B%0A%20%20%20%20%20border-right%3A%201px%20solid%20%23FFDF84%3B%0A%20%20%20%20%20margin%3A%200%2016em%3B%0A%20%20%20%20%20%20%7D%0A%0A%23displayArea%20.externalLink%20%7B%0A%20%20%20%20%20%20text-decoration%3A%20underline%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23displayArea%20.tiddlyLinkExisting%20%7B%0A%20%20%20%20%20%20font-weight%3A%20bold%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23displayArea%20.tiddlyLinkNonExisting%20%7B%0A%20%20%20%20%20%20font-style%3A%20italic%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20for%20message%20area%20that%20appears%20when%20you%20save%20changes%20---%20*/%0A%0A%23messageArea%20%7B%0A%20%20%20background-color%3A%20%23FFF1C6%3B%0A%20%20%20%20%20%20%20color%3A%20%23333%3B%0A%20%20%20%20%20%20%20font-size%3A85%25%3B%0A%20%20%20%20%20%20%20%20padding%3A%200.75em%3B%0A%20%20%20%20%20%20%20display%3A%20none%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23messageArea%20a%3Alink%2C%20%23messageArea%20a%3Avisited%20%7B%0A%20%20%20%20color%3A%20%230080C4%3B%0A%20%20%20%20%20%20%20text-decoration%3A%20underline%3B%0A%20%20%20%20%20%20%20display%3A%20inline%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23messageArea%20a%3Ahover%2C%20%23messageArea%20a%3Aactive%20%7B%0A%20%20%20%20color%3A%20%2300A4FB%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20--------%20TIDDLER%20COMPONENTS%20--------%20*/%0A%0A.tiddler%20%7B%20/*%20layer%201%2C%20outermost%20*/%0A%20%20%20%20%20font-size%3A%20110%25%3B%0A%20%20%20%20%20%20%20padding%3A%200%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.innerTiddler%20%7B%20/*%20layer%202%20*/%0A%20%20padding%3A%201em%201em%200%201em%3B%0A%20%20%20%20%20%7D%0A%0A.body%20%7B%20/*%20layer%203%2C%20holds%20bodytext%20of%20tiddler%20*/%0A%20%20%20%20%20%20%20padding-top%3A%200.5em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20tiddler%20title%20---%20*/%0A%0A.title%20%7B%20/*%20layer%203%20*/%0A%20%20%20%20%20%20font-size%3A%20105%25%3B%0A%20%20%20%20%20%20%20font-weight%3A%20bold%3B%0A%20%20%20%20%20%20%20font-family%3A%20Georgia%2C%20%22Palatino%20Linotype%22%2C%20Palatino%2C%20%22Book%20Antiqua%22%2C%20Times%2C%20%22Times%20New%20Roman%22%2C%20serif%3B%0A%20%20%20%20%20float%3A%20left%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20tiddler%20toolbar%20---%20*/%0A%0A.toolbar%20%7B%20/*%20layer%203%20*/%0A%20%20%20%20%20%20color%3A%20%23666%3B%0A%20%20%20%20%20%20%20font-size%3A%2090%25%3B%0A%20%20%20%20%20%20%20font-weight%3A%20normal%3B%0A%20%20%20%20%20%20%20text-align%3A%20right%3B%0A%20%20%20%20%20%20%20padding%3A%200%3B%0A%20%20%20%20%20%20%20visibility%3A%20hidden%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.toolbar%20A%20%7B%0A%20%20%20%20%20%20color%3A%20%23666%3B%0A%20%20%20%20%20%20%20border%3A%201px%20dotted%20%23999%3B%0A%20%20%20%20%20padding%3A%200.15em%200.3em%3B%0A%20%20%20%20%20%20%7D%0A%0A.toolbar%20A%3Ahover%2C%20.toolbar%20A%3Aactive%20%7B%0A%20%20%20%20color%3A%20%230080C4%3B%0A%20%20%20%20%20%20%20border%3A%201px%20solid%20%2300A4FB%3B%0A%20%20%20%20%20font-weight%3A%20bold%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20tags%20line%20at%20bottom%20---%20*/%0A%0A.tags%20%7B%0A%20%20%20%20%20%20%20%20color%3A%20%23666%3B%0A%20%20%20%20%20%20%20font-size%3A%2090%25%3B%0A%20%20%20%20%20%20%20margin%3A%200.5em%200%3B%0A%20%20%20%20%20%20padding%3A%200%3B%0A%20%20%20%20%20%20%20visibility%3A%20hidden%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.tags%20a%20%7B%0A%20%20%20%20%20%20color%3A%20%230080C4%3B%0A%20%20%20%20%20%20%20padding%3A%200.2em%200.4em%3B%0A%20%20%20%20%20%20%7D%0A%0A.tags%20a%3Ahover%2C%20.tags%20a%3Afocus%2C%20.tags%20a%3Aactive%20%7B%0A%20%20color%3A%20%2300A4FB%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20--------%20TIDDLER%20VIEWING%20--------%20*/%0A%0A.viewer%20%7B%20/*%20layer%204%20*/%0A%20%20%20%20%20%20border-top%3A%202px%20solid%20%23FFC430%3B%0A%20%20%20%20%20line-height%3A%20140%25%3B%0A%20%20%20%20%20%20%20padding-top%3A%200.4em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20headings%20---%20*/%0A%0A.viewer%20h2%2C%20h3%2C%20h4%2C%20h5%2C%20h6%20%7B%0A%20%20%20%20%20%20color%3A%20%23DEA100%3B%0A%20%20%20%20%20%20%20font-weight%3A%20bold%3B%0A%20%20%20%20%20%20%20font-family%3A%20Georgia%2C%20%22Palatino%20Linotype%22%2C%20Palatino%2C%20%22Book%20Antiqua%22%2C%20Times%2C%20%22Times%20New%20Roman%22%2C%20serif%3B%0A%20%20%20%20%20padding-left%3A%200.5em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.viewer%20h2%20%7B%0A%20%20%20%20%20%20font-size%3A%20125%25%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.viewer%20h3%20%7B%0A%20%20%20%20%20%20font-size%3A%20110%25%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.viewer%20h4%20%7B%0A%20%20%20%20%20%20font-size%3A%20100%25%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.viewer%20h5%20%7B%0A%20%20%20%20%20%20font-size%3A%2095%25%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.viewer%20h6%20%7B%0A%20%20%20%20%20%20font-size%3A%2085%25%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20links%20---%20*/%0A%0A.viewer%20a%20%7B%0A%20%20color%3A%20%230080C4%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.viewer%20a%3Ahover%2C%20.viewer%20a%3Afocus%2C%20.viewer%20a%3Aactive%20%7B%0A%20%20color%3A%20%2300A4FB%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.viewer%20a.externalLink%3Avisited%20%7B%0A%20%20%20%20%20%20color%3A%20%23DE5F00%3B%0A%20%20%20%20%20%20%20%7D%20%20%20%20%20%20%20%20%0A%0A/*%20---%20lists%20---%20*/%0A%0A.viewer%20ol%20%7B%0A%20%20margin-left%3A%200.5em%3B%0A%20%20%20%20%20%20%20padding-left%3A%201.5em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.viewer%20ul%20%7B%0A%20%20%20%20%20%20margin-left%3A%200.5em%3B%0A%20%20%20%20%20%20%20padding-left%3A%201.5em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20miscellaneous%20---%20*/%0A%0A.viewer%20blockquote%20%7B%0A%20%20border-left%3A%203px%20solid%20%23666%3B%0A%20%20%20%20%20font-size%3A%2092%25%3B%0A%20%20%20%20%20%20%20line-height%3A%20150%25%3B%0A%20%20%20%20%20%20%20margin-left%3A%202em%3B%0A%20%20%20%20%20%20%20padding-left%3A%200.8em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.viewer%20blockquote%20blockquote%20%7B%0A%20%20%20%20%20font-size%3A%20100%25%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.viewer%20hr%20%7B%0A%20%20%20%20%20%20color%3A%20%23666%3B%0A%20%20%20%20%20%20%20border%3A%20none%3B%0A%20%20%20%20%20%20%20border-top%3A%20dashed%201px%20%23606060%3B%0A%20%20%20%20%20height%3A%201px%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.viewer%20pre%2C%20.viewer%20code%20%7B%0A%20%20%20%20color%3A%20%23666%3B%0A%20%20%20%20%20%20%20font-size%3A%2090%25%3B%0A%20%20%20%20%20%20%20font-family%3A%22lucida%20sans%20typewriter%22%2C%20%22andale%20mono%22%2C%20%22lucida%20console%22%2C%20monospace%3B%0A%20line-height%3A%201.4em%3B%0A%20%20%20%20%20%20%20overflow%3A%20auto%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20tables%20---%20*/%0A%0A.viewer%20table%20%7B%0A%20%20border%3A%201px%20solid%20%23333%3B%0A%20%20%20%20%20border-collapse%3A%20collapse%3B%0A%20%20%20%20%20%20%20font-size%3A%2090%25%3B%0A%20%20%20%20%20%20%20margin%3A%200.8em%201em%0A%20%20%20%20%20%20%7D%0A%0A.viewer%20th%20%7B%0A%20%20%20%20%20%20color%3A%20%23000%3B%0A%20%20%20%20%20%20%20background-color%3A%20%23FFF1C6%3B%0A%20%20%20%20%20%20%20border%3A%201px%20dotted%20%23666%3B%0A%20%20%20%20%20border-bottom%3A%201px%20solid%20%23333%3B%0A%20%20%20%20%20padding%3A%200.2em%200.4em%3B%0A%20%20%20%20%20%20%7D%0A%0A.viewer%20td%2C%20tr%20%7B%0A%20%20%20%20%20border%3A%201px%20dotted%20%23666%3B%0A%20%20%20%20%20padding%3A%200.2em%200.4em%3B%0A%20%20%20%20%20%20%7D%0A%0A.viewer%20caption%20%7B%0A%20%20%20%20%20%20background%3A%20%23FFF7DE%3B%0A%20%20%20%20%20%20%20padding%3A%200.15em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20--------%20TIDDLER%20EDITING%20--------%20*/%0A%0A.editor%20input%20%7B%0A%20border%3A%201px%20solid%20%23666%3B%0A%20%20%20%20%20display%3A%20block%3B%0A%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.editor%20textarea%20%7B%0A%20%20%20%20%20%20border%3A%201px%20solid%20%23666%3B%0A%20%20%20%20%20font%3A%2090%25/130%25%20%22andale%20mono%22%2C%20%22lucida%20console%22%2C%20%22bitstream%20vera%20sans%20mono%22%2C%20monospace%20%21important%3B%0A%20%20%20%20%20height%3A%2020em%3B%0A%20%20%20%20%20%20%20display%3A%20block%3B%0A%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20margin%3A%200.5em%200%3B%0A%20%20%20%20%20%20%7D%0A%0A.editor%20input%3Ahover%2C%20.editor%20input%3Afocus%2C%20.editor%20textarea%3Ahover%20%7B%0A%20%20border%3A%201px%20solid%20%23FFC430%3B%0A%20%20%20%20%20%7D%0A%0A.editorPrompt%20%7B%20/*%20help%20tip%20on%20how%20to%20type%20tags%20*/%0A%20%20%20%20%20%20color%3A%20%23666%3B%0A%20%20%20%20%20%20%20font-size%3A%2085%25%3B%0A%20%20%20%20%20%20%20margin%3A%200.3em%200%3B%0A%20%20%20%20%20%20%7D%0A%0A/*%20---%20RIGHT%20SIDEBAR%20---%20*/%0A/*%20---%20starting%20at%20the%20top%20and%20going%20down%20---%20*/%0A%0A%23sidebar%20%7B%0A%20%20%20%20%20%20%20%20color%3A%20%23666%3B%0A%20%20%20%20%20%20%20border-left%3A%201px%20solid%20%23FFDF84%3B%0A%20%20%20%20%20line-height%3A%20140%25%3B%0A%20%20%20%20%20%20%20padding%3A%200%200.5em%201em%201em%3B%0A%20%20%20%20float%3A%20right%3B%0A%20%20%20%20%20%20%20width%3A%2014em%3B%0A%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20tiddlywiki%20command%20block%20---%20*/%0A%0A%23commandPanel%20%7B%0A%20background-color%3A%20%23fff%3B%0A%20%20%20%20%20%20%20border-bottom%3A%201px%20solid%20%23FFDF84%3B%0A%20%20%20%20%20padding-top%3A%200.5em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23commandPanel%20A%20%7B%0A%20%20%20%20%20%20color%3A%20%230080C4%3B%0A%20%20%20%20%20%20%20display%3A%20block%3B%0A%20%20%20%20%20%20%20padding%3A%200.2em%200.2em%200.2em%200.5em%3B%0A%20%20%20%20%7D%0A%0A%23commandPanel%20A%3Ahover%2C%20%23commandPanel%20A%3Afocus%20%7B%0A%20%20%20%20color%3A%20%2300A4FB%3B%0A%20%20%20%20%20%20%20background-color%3A%20%23FFF1C6%3B%0A%20%20%20%20%20%20%20font-weight%3Abold%3B%0A%20%20%20%20%20%20%20%20text-decoration%3A%20none%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23commandPanel%20A%3Aactive%20%7B%0A%20%20%20%20%20%20color%3A%20%2300A4FB%3B%0A%20%20%20%20%20%20%20background-color%3A%20%23FFF1C6%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23commandPanel%20input%20%7B%0A%20%20%20%20%20%20border%3A%201px%20solid%20%23FFDF84%3B%0A%20%20%20%20%20margin%3A%200.4em%200%200.3em%200.5em%3B%0A%20%20%20%20%7D%0A%0A/*%20---%20options%20block%20%28usually%20hidden%29%20---%20*/%0A%0A%23optionsPanel%20%7B%0A%20%20%20%20%20%20%20%20background-color%3A%20%23FFF7DE%3B%0A%20%20%20%20%20%20%20border%3A%201px%20solid%20%23FFDF84%3B%0A%20%20%20%20%20font-size%3A%2090%25%3B%0A%20%20%20%20%20%20%20line-height%3A130%25%3B%0A%20%20%20%20%20%20%20%20display%3A%20none%3B%0A%20%20%20%20%20%20%20padding%3A%200.5em%200.5em%200.5em%200.5em%3B%0A%20%20%20%20%7D%0A%0A%23optionsPanel%20a%3Alink%2C%20%23optionsPanel%20a%3Avisited%20%7B%0A%20%20%20%20color%3A%20%230080C4%3B%0A%20%20%20%20%20%20%20font-weight%3A%20bold%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23optionsPanel%20a%3Ahover%20%7B%0A%20%20%20%20%20%20color%3A%20%2300A4FB%3B%0A%20%20%20%20%20%20%20text-decoration%3A%20none%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23optionsPanel%20input%20%7B%0A%20%20%20%20%20%20border%3A%201px%20solid%20%23FFDF84%3B%0A%20%20%20%20%20margin%3A%200.4em%200%200.3em%201em%3B%0A%20%20%20%20%7D%0A%0A.optionsText%20%7B%0A%20%20%20%20%20%20%20margin-top%3A%200.25em%3B%0A%20%20%20%20%20%20%20margin-bottom%3A%200.75em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.optionsItem%20%7B%0A%20%20%20%20%20%20%20font-size%3A%2090%25%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20tabs%20for%20right%20sidebar%20---%20*/%0A%0A%23sidebarTabs%20%7B%0A%20%20%20%20%20%20%20%20padding%3A%201.5em%200%200%200.5em%3B%0A%20%20%20%20margin-bottom%3A-1px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%23sidebarTabs%20a%20%7B%0A%20%20%20%20%20%20color%3A%20%23505050%3B%0A%20%20%20%20%20%20%20border-top%3A%204px%20solid%20transparent%3B%0A%20%20%20%20%20border-right%3A%201px%20solid%20transparent%3B%0A%20%20%20%20%20border-left%3A%201px%20solid%20transparent%3B%0A%20%20%20%20%20font-weight%3A%20bold%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23sidebarTabs%20a%3Ahover%2C%20%23sidebarTabs%20a%3Afocus%2C%20%23sidebarTabs%20a%3Aactive%20%7B%0A%20%20color%3A%20%23000%3B%0A%20%20%20%20%20%20%20border-top%3A%204px%20solid%20%23FFC430%3B%0A%20%20%20%20%20border-right%3A%201px%20solid%20%23FFC430%3B%0A%20%20%20%20%20border-left%3A%201px%20solid%20%23FFC430%3B%0A%20%20%20%20%20text-decoration%3A%20none%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23tabTimeline%2C%20%23tabTags%2C%20%23tabMore%20%7B%0A%20%20%20%20%20font-size%3A%2095%25%3B%0A%20%20%20%20%20%20%20display%3A%20inline%3B%0A%20%20%20%20%20%20%20padding%3A%202px%203px%202px%203px%3B%0A%20%20%20%20margin%3A%200%202px%3B%0A%20%20%20%20%20%20%7D%0A%0A%23tabTimeline%2C%20.tabContentTimeline%20%7B%0A%20%20%20%20%20%20background-color%3A%20%23FBF6E4%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23tabTags%2C%20.tabContentTags%20%7B%0A%20%20%20%20%20%20background-color%3A%20%23F2F2F0%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23tabMore%2C%20.tabContentMore%20%7B%0A%20%20%20%20%20%20background-color%3A%20%23EAF8FD%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20for%20contents%20shown%20when%20you%20select%20a%20tab%20---%20*/%0A%0A%23sidebarContent%20%7B%0A%20%20%20%20font-size%3A90%25%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%23sidebarContent%20a%20%7B%0A%20%20%20%20%20%20color%3A%20%230080C4%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23sidebarContent%20a%3Ahover%20%7B%0A%20%20%20%20%20%20color%3A%20%2300A4FB%3B%0A%20%20%20%20%20%20%20background-color%3A%20%23fff%3B%0A%20%20%20%20%20%20%20text-decoration%3A%20none%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.tabContentTimeline%2C%20.tabContentTags%2C%20.tabContentMore%20%7B%0A%20%20%20%20%20padding%3A%200.5em%3B%0A%20%20%20%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.sidebarSubHeading%20%7B%20/*%20dates%20in%20timeline%20*/%0A%20%20color%3A%20%23666%3B%0A%20%20%20%20%20%20%20border-bottom%3A%201px%20solid%20%23FFC430%3B%0A%20%20%20%20%20font-size%3A%20110%25%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.tabContentMorePrompt%20%7B%20/*%20affects%20dropdown%20and%20help%20tip%20in%20more%20tab%20*/%0A%20%20%20%20%20color%3A%20%23666%3B%0A%20%20%20%20%20%20%20padding%3A%200.5em%200%200.75em%200%3B%0A%20%20%20%20%7D%0A%0A/*%20---%20affects%20popup%20menu%20from%20clicking%20tag%20---%20*/%0A%0A%23popup%20%7B%0A%20%20%20%20%20%20background-color%3A%20%23fff%3B%0A%20%20%20%20%20%20%20border%3A%201px%20solid%20%23ccc%3B%0A%20%20%20%20%20border-left%3A%203px%20solid%20%23FFDF84%3B%0A%20%20%20%20%20display%3A%20none%3B%0A%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20padding%3A%200.5em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23popup%20a%20%7B%0A%20%20%20%20%20%20color%3A%20%230080C4%3B%0A%20%20%20%20%20%20%20display%3A%20block%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23popup%20a%3Ahover%20%7B%0A%20%20%20%20%20%20color%3A%20%23fff%3B%0A%20%20%20%20%20%20%20background-color%3A%20%2300A4FB%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20for%20license%20panel%20at%20very%20bottom%20---%20*/%0A%0A%23licensePanel%20%7B%0A%20%20%20%20%20%20font-size%3A%2085%25%3B%0A%20%20%20%20%20%20%20padding-top%3A%201em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23licensePanel%20A%20%7B%0A%20%20%20%20%20%20color%3A%20%23666%3B%0A%20%20%20%20%20%20%20display%3A%20block%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23licensePanel%20A%3Ahover%2C%20%23licensePanel%20A%3Aactive%20%7B%0A%20%20%20%20color%3A%20%230080C4%3B%0A%20%20%20%20%20%20%20text-decoration%3A%20none%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20--------%20UNKNOWN%20FUNCTION%20--------%20*/%0A%0A.hide%20%7B%0A%20%20border%3A%206px%20dashed%20red%3B%0A%20%20%20%20%20display%3A%20inline%3B%0A%20%20%20%20%20%20%20float%3A%20right%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.highlight%2C%20.marked%20%7B%0A%20%20%20%20%20%20color%3A%20%23000000%3B%0A%20%20%20%20%20%20%20background-color%3A%20%23ffe72f%3B%0A%20%20%20%20%20%20%20border%3A%206px%20dashed%20red%3B%0A%20%20%20%20%20%7D%0A%0A/*%20---%20I%20believe%20this%20is%20related%20to%20the%20zooming%20box%20animation%20---%20*/%0A%0A%23floater%20%7B%0A%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20background-color%3A%20%23E8E8E8%3B%0A%20%20%20%20%20%20%20font-size%3A%20100%25%3B%0A%20%20%20%20%20%20%20display%3A%20none%3B%0A%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20padding%3A%201em%3B%0A%20%20%20%20%20%20%20opacity%3A%200.5%3B%0A%20%20%20%20%20%20%20filter%3A%20alpha%28opacity%3D50%29%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20Stuff%20to%20hide%20when%20printing%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20*/%0A%0A@media%20print%20%7B%0A%0A%23titleLine%20%7B%0A%20%20%20%20%20display%3A%20none%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23displayArea%20%7B%0A%20%20%20%20%20%20%20margin%3A%201em%201em%200%201em%3B%0A%20%20%20%20%7D%0A%0A%23mainMenu%20%7B%0A%20%20%20%20%20%20%20display%3A%20none%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23leftside%20%7B%0A%20%20%20%20%20%20%20display%3Anone%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%23sidebar%20%7B%0A%20%20%20%20%20%20%20display%3A%20none%3B%0A%20%20%20%20%20%20%20%7D%0A%7D%0AXtext/css‘_WebResourceTextEncodingNameUUTF-8O V+<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" ""><HTML><HEAD><META http-equiv="Content-Type" content="text/html;charset=utf-8"><TITLE>TiddlyWiki</TITLE>

<SCRIPT type="text/javascript">

// ---------------------------------------------------------------------------------
// Main
// ---------------------------------------------------------------------------------

// Default options
var options = {
	 chkRegExp: false,
	 chkCaseSens: false,
	 chkAnimate: true,
	 txtUserName: "YourName",
	 chkSaveBackups: true,
	 chkAutoSave: false,
       chkAutoSaveMessage: true,	// SJR
	 chkGenerateAnRssFeed: false,
	 chkSaveEmptyTemplate: false,
	 chkFoldedSearch: false,	// SJR
	 txtCurrentTab: "tabTimeline",
	 txtTabMore: "moreTabAll"
	 };

// Number of items in the RSS feed
var numRssItems = 20;

// Special tiddlers
var specialTiddlers = ["SiteTitle","SiteSubtitle","MainMenu","DefaultTiddlers","SaveChanges","SiteUrl","StyleSheet"];

var store = new TiddlyWiki();

// Starting up
function main()
{
    setupRegexp();
    saveTest();
    store.loadFromDiv("storeArea","store");
    var css = store.getTiddlerText("StyleSheet");
    if(css)
        addStylesheet(css);
    // BEGIN SJR
    var js_code = store.getTiddlerText("UserCode");
    if(js_code)
        eval(js_code);
    // END SJR
    loadOptionsCookie();
    setupOptionsPanel();
    refreshAll();
    var start = store.getTiddlerText("DefaultTiddlers");
    if(window.location.hash)
        displayTiddlers(null,convertUTF8ToUnicode(decodeURI(window.location.hash.substr(1))),1,null,null);
    else if(start)
        displayTiddlers(null,start,1,null,null);
}

function saveTest()
{
    var saveTest = document.getElementById("saveTest");
    if(saveTest.hasChildNodes())
        alert("It appears that this TiddlyWiki has been incorrectly saved. Please see http://www.tiddlywiki.com/#DownloadSoftware for details");
    saveTest.appendChild(document.createTextNode("savetest"));
}

// ---------------------------------------------------------------------------------
// Tiddler() object
// ---------------------------------------------------------------------------------

function Tiddler()
{
    this.title = null;
    this.text = null;
    this.modifier = null;
    this.modified = null;
    this.links = [];
    this.tags = [];
    return this;
}

// Load a tiddler from an HTML DIV
Tiddler.prototype.loadFromDiv = function(divRef,idPrefix)
{
    this.title = divRef.id.substr(idPrefix.length);
    this.text = divRef.firstChild ? divRef.firstChild.nodeValue : "";
    this.text = this.unescapeLineBreaks();
    this.modifier = divRef.getAttribute("modifier");
    this.modified = divRef.getAttribute("modified");
    if (this.modified) this.modified = convertFromYYYYMMDDHHMM(this.modified);
    this.setTags(divRef.getAttribute("tags"));
    this.changed();
    return this;
}

// Format the text for storage in an HTML DIV
Tiddler.prototype.saveToDiv = function()
{
    return '<div id="store' + this.title + '" modified="' +
                            convertToYYYYMMDDHHMM(this.modified) + '" modifier="' + this.modifier +
                            '" tags="' + this.getTags() + '">' +
                            htmlEncode(this.escapeLineBreaks()) + '</div>';
}

// Format the text for storage in an RSS item
Tiddler.prototype.saveToRss = function(url)
{
    var s = [];
    s.push("<item>");
    s.push("<title>" + htmlEncode(this.title) + "</title>");
    s.push("<description>" + htmlEncode(this.text.replace(regexpNewLine,"<br />")) + "</description>");
    s.push("<link>" + url + "#" + encodeURIComponent(encodeTiddlyLink(this.title)) + "</link>");
    s.push("<pubDate>" + this.modified.toGMTString() + "</pubDate>");
    s.push("</item>");
    return(s.join("\n"));
}

// Change the text and other attributes of a tiddler
Tiddler.prototype.set = function(title,text,modifier,modified)
{
    if(title != null)
        this.title = title;
    if(text != null)
        this.text = text;
    if(modifier != null)
        this.modifier = modifier;
    if(modified != null)
        this.modified = modified;
    this.changed();
    return this;
}

// Set the tags for a tiddler (space delimited, using [[brackets]] for tags containing spaces)
Tiddler.prototype.setTags = function(tags)
{
    if(tags)
        this.tags = readTiddlerList(tags);
    else
        this.tags = [];
    return this;
}

// Get the tags for a tiddler as a string (space delimited, using [[brackets]] for tags containing spaces)
Tiddler.prototype.getTags = function()
{
    if(this.tags)
        {
        var results = [];
        for(var t=0; t<this.tags.length; t++)
            results.push(encodeTiddlyLink(this.tags[t]));
        return results.join(" ");
        }
    else
        return "";
}

var regexpBackSlashEn = new RegExp("\\\\n","mg");
var regexpBackSlash = new RegExp("\\\\","mg");
var regexpBackSlashEss = new RegExp("\\\\s","mg");
var regexpNewLine = new RegExp("\n","mg");
var regexpCarriageReturn = new RegExp("\r","mg");

// Convert "\n" to newlines, "\s" to "\"
Tiddler.prototype.unescapeLineBreaks = function()
{
    return this.text.replace(regexpBackSlashEn,"\n").replace(regexpBackSlashEss,"\\").replace(regexpCarriageReturn,"");
}

// Convert newlines to "\n", "\" to "\s"
Tiddler.prototype.escapeLineBreaks = function()
{
    return this.text.replace(regexpBackSlash,"\\s").replace(regexpNewLine,"\\n").replace(regexpCarriageReturn,"");
}

// Updates the secondary information (like links[] array) after a change to a tiddler
Tiddler.prototype.changed = function()
{
    this.links = [];
    var nextPos = 0;
    var theLink;
    do {
        var formatMatch = wikiNameRegExp.exec(this.text);
        if(formatMatch)
            {
            if(formatMatch[1])
                this.links.push(formatMatch[0]);
            else if(formatMatch[5])
                this.links.push(formatMatch[0].substr(2,formatMatch[0].length-4));
            }
    } while(formatMatch);
    return;
}

Tiddler.prototype.getSubtitle = function()
{
    var theModifier = this.modifier;
    if(!theModifier)
        theModifier = "(unknown)";
    var theModified = this.modified;
    if(theModified)
        theModified = theModified.toLocaleString();
    else
        theModified = "(unknown)";
    return(theModifier + ", " + theModified);
}

// ---------------------------------------------------------------------------------
// TiddlyWiki() object contains Tiddler()s
// ---------------------------------------------------------------------------------

function TiddlyWiki()
{
    this.tiddlers = {};
    this.dirty = false;
}

// Clear a TiddlyWiki so that it contains no tiddlers
TiddlyWiki.prototype.clear = function(src)
{
    this.tiddlers = {};
}

TiddlyWiki.prototype.removeTiddler = function(title)
{
    if(this.tiddlers[title])
        delete this.tiddlers[title];
}

TiddlyWiki.prototype.getTiddlerText = function(title,defaultText)
{
    var tiddler = this.tiddlers[title];
    if(tiddler)
        return tiddler.text;
    if(defaultText)
        return defaultText;
    else
        return null;
}

TiddlyWiki.prototype.createTiddler = function(title,body,modifier,modified,tags)
{
    this.tiddlers[title] = new Tiddler();
    return this.setTiddler(title,title,body,modifier,modified,tags);
}

TiddlyWiki.prototype.setTiddler = function(title,newTitle,newBody,modifier,modified,tags)
{
    var tiddler = this.tiddlers[title];
    if(tiddler)
        delete this.tiddlers[title];
    tiddler = new Tiddler();
    tiddler.set(newTitle,newBody,modifier,modified)
    tiddler.setTags(tags);
    this.tiddlers[newTitle] = tiddler;
    return tiddler;
}

// Load contents of a tiddlywiki from an HTML DIV
TiddlyWiki.prototype.loadFromDiv = function(srcID,idPrefix)
{
    if(document.normalize)
        document.normalize();
    var lenPrefix = idPrefix.length;
    var store = document.getElementById(srcID).childNodes;
    for(var t = 0; t < store.length; t++) {
        var e = store[t];
        if(e.id)
            if(e.id.substr(0,lenPrefix) == idPrefix) {
                var tiddler = new Tiddler();
                tiddler.loadFromDiv(e,idPrefix);
                this.tiddlers[tiddler.title] = tiddler;
                }
        }
    this.dirty = false;
}

// Return an array of tiddlers matching a search string
TiddlyWiki.prototype.search = function(searchText,caseSensitive,useRegExp,sortField)
{
    if (!useRegExp)
        searchText = escapeRegExp(searchText);
    var regExp = new RegExp(searchText,caseSensitive ? "m" : "im");
    var results = [];
    for(var t in this.tiddlers)
        {
        if(regExp.exec(t) || regExp.exec(this.tiddlers[t].text))
            results.push(this.tiddlers[t]);
        }
    if(!sortField)
        sortField = "title";
    results.sort(function (a,b) {if(a[sortField] == b[sortField]) return(0); else return (a[sortField] < b[sortField]) ? -1 : +1; });
    return results;
}

// Return an array of all the tags in use. Each member of the array is another array where [0] is the name of the tag and [1] is the number of occurances
TiddlyWiki.prototype.getTags = function()
{
    var results = [];
    for(var t in this.tiddlers)
        {
        var tiddler = this.tiddlers[t];
        for(g=0; g<tiddler.tags.length; g++)
            {
            var tag = tiddler.tags[g];
            var f = false;
            for(var c=0; c<results.length; c++)
                if(results[c][0] == tag)
                    {
                    f = true;
                    results[c][1]++;
                    }
            if(!f)
                results.push([tag,1]);
            }
        }
    results.sort(function (a,b) {if(a[0] == b[0]) return(0); else return (a[0] < b[0]) ? -1 : +1; });
    return results;
}

// Return an array of the tiddlers that are tagged with a given tag
TiddlyWiki.prototype.getTaggedTiddlers = function(tag,exclude,sortField)
{
    return this.reverseLookup("tags",tag,exclude,sortField);
}

// Return an array of the tiddlers that link to a given tiddler
TiddlyWiki.prototype.getReferringTiddlers = function(title,exclude,sortField)
{
    return this.reverseLookup("links",title,exclude,sortField);
}

// Return an array of the tiddlers that have a specified entry in the specified storage array (ie, "links" or "tags")
TiddlyWiki.prototype.reverseLookup = function(lookupField,lookupValue,exclude,sortField)
{
    var results = [];
    for(var t in this.tiddlers)
        {
        var tiddler = this.tiddlers[t];
        var f = false;
        if(tiddler.title != exclude)
            for(var lookup=0; lookup<tiddler[lookupField].length; lookup++)
                if(tiddler[lookupField][lookup] == lookupValue)
                    f = true;
        if(f)
            results.push(tiddler);
        }
    if(!sortField)
        sortField = "title";
    results.sort(function (a,b) {if(a[sortField] == b[sortField]) return(0); else return (a[sortField] < b[sortField]) ? -1 : +1; });
    return results;
}

// Return the tiddlers as a sorted array
TiddlyWiki.prototype.getTiddlers = function(field)
{
    var results = [];
    for(var t in this.tiddlers)
        results.push(this.tiddlers[t]);
    if(field)
        results.sort(function (a,b) {if(a[field] == b[field]) return(0); else return (a[field] < b[field]) ? -1 : +1; });
    return results;
}

// Return array of names of tiddlers that are referred to but not defined
TiddlyWiki.prototype.getMissingLinks = function(sortField)
{
    var results = [];
    for(var t in this.tiddlers)
        {
        var tiddler = this.tiddlers[t];
        for(var n=0; n<tiddler.links.length;n++)
            {
            var link = tiddler.links[n];
            if(this.tiddlers[link] == null)
                {
                var e = false;
                for(var c=0;c<results.length;c++)
                    if(results[c]==link)
                        e = true;
                if(!e)
                    results.push(link);
                }
            }
        }
    results.sort();
    return results;
}

// Return an array of names of tiddlers that are defined but not referred to
TiddlyWiki.prototype.getOrphans = function()
{
    var results = [];
    for(var t in this.tiddlers)
        if(this.getReferringTiddlers(t).length == 0)
            results.push(t);
    results.sort();
    return results;
}

// ---------------------------------------------------------------------------------
// Tiddler functions
// ---------------------------------------------------------------------------------

// Display several tiddlers from a list of space separated titles
function displayTiddlers(src,titles,state,highlightText,highlightCaseSensitive,slowly)
{
    var tiddlerNames = readTiddlerList(titles);
    for(var t = tiddlerNames.length-1;t>=0;t--)
        displayTiddler(src,tiddlerNames[t],state,highlightText,highlightCaseSensitive,slowly,false); // SJR CHANGE
}

// Display a tiddler with animation and scrolling, as though a link to it has been clicked on
//  src = source element object (eg link) for animation effects and positioning
//  title = title of tiddler to display
//  state = 0 is default or current state, 1 is read only and 2 is edittable
//  highlightText = text to highlight in the displayed tiddler
//  highlightCaseSensitive = flag for whether the highlight text is case sensitive
// SJR CHANGE - add folder parameter
function displayTiddler(src,title,state,highlightText,highlightCaseSensitive,slowly,folded)
{
    var place = document.getElementById("tiddlerDisplay");
    var after = findContainingTiddler(src); // Which tiddler this one will be positioned after
    var before;
    if(after == null)
        before = place.firstChild;
    else if(after.nextSibling)
        before = after.nextSibling;
    else
        before = null;
    var theTiddler = createTiddler(place,before,title,state,highlightText,highlightCaseSensitive);
    if(src)
        {
        var floater = document.getElementById("floater");
        var floaterTitle = document.createTextNode(title);
        if(floater.firstChild)
            floater.replaceChild(floaterTitle,floater.firstChild);
        if(options.chkAnimate)
            {
            theTiddler.style.opacity = 0;
            startZoomer(floater,src,theTiddler,slowly);
            }
        else
            window.scrollTo(0,ensureVisible(theTiddler));
        }
    // BEGIN SJR
    if(folded) {
        foldTiddler(title);
    }
    // END SJR
}

// Create a tiddler if it doesn't exist (with no fancy animating)
//  place = parent element
//  before = node before which to create/move the tiddler
//  title = title of tiddler to display
//  state = 0 is default or current state, 1 is read only and 2 is edittable
//  highlightText = text to highlight in the displayed tiddler
//  highlightCaseSensitive = flag for whether the highlight text is case sensitive
function createTiddler(place,before,title,state,highlightText,highlightCaseSensitive)
{
    var theTiddler = createTiddlerSkeleton(place,before,title);
    createTiddlerTitle(title,highlightText,highlightCaseSensitive);
    var theViewer = document.getElementById("viewer" + title);
    var theEditor = document.getElementById("editor" + title);
    switch(state)
        {
        case 0:
            if(!theViewer && !theEditor)
                {
                createTiddlerToolbar(title,false,false); // SJR CHANGE
                createTiddlerViewer(title,highlightText,highlightCaseSensitive);
                }
            break;
        case 1: // Viewer
            if(theViewer)
                theViewer.parentNode.removeChild(theViewer);
            if(theEditor)
                theEditor.parentNode.removeChild(theEditor);
            createTiddlerToolbar(title,false,false); // SJR CHANGE
            createTiddlerViewer(title,highlightText,highlightCaseSensitive);
            break;
        case 2: // Editor
            if(!theEditor)
                {
                if(theViewer)
                    theViewer.parentNode.removeChild(theViewer);
                createTiddlerToolbar(title,true,false); // SJR CHANGE
                createTiddlerEditor(title);
                }
            break;
        }
    return(theTiddler);
}

function refreshTiddler(title)
{
    var theViewer = document.getElementById("viewer" + title);
    if(theViewer)
        {
        theViewer.parentNode.removeChild(theViewer);
        createTiddlerViewer(title,null,null);
        }
}

function createTiddlerSkeleton(place,before,title)
{
    var theTiddler = document.getElementById("tiddler" + title);
    if(!theTiddler)
        {
        theTiddler = createTiddlyElement(null,"div","tiddler" + title,"tiddler",null);
        theTiddler.onmouseover = onMouseOverTiddler;
        theTiddler.onmouseout = onMouseOutTiddler;
        theTiddler.ondblclick = onDblClickTiddler;
        var theInnerTiddler = createTiddlyElement(theTiddler,"div",null,"innerTiddler",null);
        var theTitle = createTiddlyElement(theInnerTiddler,"div","title" + title,"title",null);
        var theToolbar = createTiddlyElement(theInnerTiddler,"div","toolbar" + title,"toolbar", null);
        var theBody = createTiddlyElement(theInnerTiddler,"div","body" + title,"body",null);
        place.insertBefore(theTiddler,before);
        }
    return(theTiddler);
}

function createTiddlerTitle(title,highlightText,highlightCaseSensitive)
{
    var theTitle = document.getElementById("title" + title);
    if(theTitle)
        {
        removeChildren(theTitle);
        if(highlightText == "")
            highlightText = null;
        var highlightRegExp,highlightMatch;
        if(highlightText)
            {
            highlightRegExp = new RegExp(highlightText,highlightCaseSensitive ? "mg" : "img");
            highlightMatch = highlightRegExp.exec(title);
            }
        highlightMatch = subWikify(theTitle,title,0,title.length,highlightRegExp,highlightMatch);
        var tiddler = store.tiddlers[title];
        if(tiddler)
            theTitle.title = tiddler.getSubtitle();
        }
}

// Create a tiddler toolbar according to whether it's an editor or not
// SJR CHANGE - add "folded" parameter
function createTiddlerToolbar(title,editor,folded)
{
    var theToolbar = document.getElementById("toolbar" + title);
    if(theToolbar)
        {
        removeChildren(theToolbar);
        insertSpacer(theToolbar);
        if(!editor)
            {
            // Non-editor toolbar
            // BEGIN SJR CHANGE
		if(folded) {
		    createTiddlyButton(theToolbar, "unfold","Unfold this tiddler",onClickToolbarUnfold);
		} else {
		    createTiddlyButton(theToolbar, "fold","Fold this tiddler",onClickToolbarFold);
		}
	      insertSpacer(theToolbar);
            // END SJR CHANGE
            createTiddlyButton(theToolbar,"close","Close this tiddler",onClickToolbarClose);
            insertSpacer(theToolbar);
            createTiddlyButton(theToolbar,"close others","Close other tiddlers",onClickToolbarCloseOthers);
            insertSpacer(theToolbar);
            createTiddlyButton(theToolbar,"edit","Edit this tiddler",onClickToolbarEdit);
            insertSpacer(theToolbar);
            createTiddlyButton(theToolbar,"permalink","Permalink for this tiddler",onClickToolbarPermaLink);
            insertSpacer(theToolbar);
            createTiddlyButton(theToolbar,"references","Show tiddlers that link to this one",onClickToolbarReferences);
            }
        else
            {
            // Editor toolbar
            createTiddlyButton(theToolbar,"done","Save changes to this tiddler",onClickToolbarSave);
            insertSpacer(theToolbar);
            createTiddlyButton(theToolbar,"cancel","Undo changes to this tiddler",onClickToolbarUndo);
            insertSpacer(theToolbar);
            createTiddlyButton(theToolbar,"delete","Delete this tiddler",onClickToolbarDelete);
            }
        insertSpacer(theToolbar);
        }
}

function createTiddlerPopup(srcElement)
{
    var popup = document.getElementById("popup");
    if(popup && popup.nextSibling == srcElement)
        {
        hideTiddlerPopup();
        return null;
        }
    if(popup)
        popup.parentNode.removeChild(popup);
    popup = createTiddlyElement(null,"div","popup",null,null);
    popup.style.left = srcElement.offsetLeft;
    popup.style.top = srcElement.offsetTop + srcElement.offsetHeight;
    popup.style.display = "block";
    srcElement.onmouseout = onMouseOutTiddlerPopup;
    srcElement.appendChild(popup);
    return popup;
}

function onMouseOutTiddlerPopup(e)
{
    if (!e) var e = window.event;
    var related = (e.relatedTarget) ? e.relatedTarget : e.toElement;
    while (related != this && related && related.nodeName.toLowerCase() != "body")
        related = related.parentNode;
    if(related != this)
        {
        this.onmouseout = null;
        hideTiddlerPopup();
        }
    e.cancelBubble = true;
    if (e.stopPropagation) e.stopPropagation();
    return(false);
}

function hideTiddlerPopup()
{
    var popup = document.getElementById("popup");
    if(popup)
        popup.parentNode.removeChild(popup);
}

// Create the body section of a read-only tiddler
function createTiddlerViewer(title,highlightText,highlightCaseSensitive)
{
    var theBody = document.getElementById("body" + title);
    if(theBody)
        {
        var tiddlerText = store.getTiddlerText(title);
        var tiddlerExists = (tiddlerText != null);
        if(!tiddlerExists)
            tiddlerText = "This tiddler doesn't yet exist. Double-click to create it";
        var theViewer = createTiddlyElement(theBody,"div","viewer" + title,"viewer",null);
        if(!tiddlerExists)
            theViewer.style.fontStyle = "italic";
        wikify(tiddlerText,theViewer,highlightText,highlightCaseSensitive);
        var tiddler = store.tiddlers[title];
        if(tiddler)
            {
            var prompt = tiddler.tags.length == 0 ? "no tags" : "tags:";
            var theTags = createTiddlyElement(theViewer,"div","viewerTags" + title,"tags",prompt);
            for(var t=0; t<tiddler.tags.length; t++)
                {
                var theTag = createTiddlyButton(theTags,tiddler.tags[t],"Show tiddlers tagged with '" + tiddler.tags[t] + "'",onClickTag);
                theTag.setAttribute("tag",tiddler.tags[t]);
                insertSpacer(theTags);
                }
            }
        }
}

// Create the body section of an edittable tiddler
function createTiddlerEditor(title)
{
    var theBody = document.getElementById("body" + title);
    if(theBody)
        {
        var tiddlerText = store.getTiddlerText(title);
        var tiddlerExists = (tiddlerText != null);
        if(!tiddlerExists)
            tiddlerText = "Type the text for '" + title + "' here.";
        var theEditor = createTiddlyElement(theBody,"div","editor" + title,"editor",null);
        theEditor.onkeypress = onEditKey;
        var theTitleBox = createTiddlyElement(theEditor,"input","editorTitle" + title,null,null);
        theTitleBox.setAttribute("type","text");
        theTitleBox.value = title;
        theTitleBox.setAttribute("size","40");
        var theBodyBox = createTiddlyElement(theEditor,"textarea","editorBody" + title,null,null);
        theBodyBox.value = tiddlerText;
        var rows = 10;
        var lines = tiddlerText.match(regexpNewLine);
        if(lines != null && lines.length > rows)
            rows = lines.length + 5;
        theBodyBox.setAttribute("rows",rows);
        createTiddlyElement(theEditor,"div",null,"editorPrompt","Tags separated with spaces, [[use brackets]] for tags containing spaces");
        var theTagsBox = createTiddlyElement(theEditor,"input","editorTags" + title,null,null);
        theTagsBox.setAttribute("type","text");
        var tiddler = store.tiddlers[title];
        theTagsBox.value = tiddler ? tiddler.getTags() : "";
        theTagsBox.setAttribute("size","40");
        theBodyBox.focus();
        }
}

function saveTiddler(title)
{
    var newTitle = document.getElementById("editorTitle" + title).value;
    var newBody = document.getElementById("editorBody" + title).value;
    var newTags = document.getElementById("editorTags" + title).value;
    store.setTiddler(title,newTitle,newBody,options.txtUserName,new Date(),newTags);
    displayTiddler(null,newTitle,1,null,null,null,false);
    // Close the old tiddler if this is a rename
    if(title != newTitle)
        {
        var oldTiddler = document.getElementById("tiddler" + title);
        oldTiddler.parentNode.removeChild(oldTiddler);
        }
    refreshAll(title);
    if(options.chkAutoSave)
        saveChanges();
}

function searchTiddlers(searchText,caseSensitive,useRegExp)
{
    closeAllTiddlers();
    var matches = store.search(searchText,caseSensitive,useRegExp);
    if(store.tiddlers[searchText])
        displayTiddler(null,searchText,1,searchText,caseSensitive,false,false); // Special case of searching for a tiddler title
													  // SJR CHANGE
    for(var t=matches.length-1; t>=0;t--)
        displayTiddler(null,matches[t].title,1,searchText,caseSensitive,false,options.chkFoldedSearch);	// SJR CHANGE
    var q = useRegExp ? "/" : "'";
    displayMessage(matches.length + " tiddlers found matching " + q + searchText + q);
}

function selectTiddler(title)
{
    var e = document.getElementById("toolbar" + title);
    if(e != null)
        e.style.visibility = "visible";
    e = document.getElementById("viewerTags" + title);
    if(e != null)
        e.style.visibility = "visible";
}

function deselectTiddler(title)
{
    var e = document.getElementById("toolbar" + title);
    if(e != null)
        e.style.visibility = "hidden";
    e = document.getElementById("viewerTags" + title);
    if(e != null)
        e.style.visibility = "hidden";
}

function deleteTiddler(title)
{
    closeTiddler(title,false);
    store.removeTiddler(title);
    refreshAll(title);
    // Autosave
    if(options.chkAutoSave)
        saveChanges(options.chkAutoSaveMessage);	// SJR CHANGE
}

function closeTiddler(title,slowly)
{
    var tiddler = document.getElementById("tiddler" + title);
    if(tiddler != null)
        {
        scrubIds(tiddler);
        if(options.chkAnimate)
            startSlider(tiddler,false,slowly,"all");
        else
            tiddler.parentNode.removeChild(tiddler);
        }
}

function scrubIds(e)
{
    if(e.id)
        e.id = null;
    var children = e.childNodes;
    for(var t=0; t<children.length; t++)
        {
        var c = children[t];
        if(c.id)
            c.id = null;
        }
}

function closeAllTiddlers()
{
    clearMessage();
    var place = document.getElementById("tiddlerDisplay");
    var tiddler = place.firstChild;
    var nextTiddler;
    while(tiddler)
        {
        nextTiddler = tiddler.nextSibling;
        if(tiddler.id)
            if(tiddler.id.substr(0,7) == "tiddler")
                {
                var title = tiddler.id.substr(7);
                if(!document.getElementById("editor" + title))
                    place.removeChild(tiddler);
                }
        tiddler = nextTiddler;
        }
}

// BEGIN SJR
function closeAllBut(keeptitle)
{
    clearMessage();
    var place = document.getElementById("tiddlerDisplay");
    var tiddler = place.firstChild;
    var nextTiddler;
    while(tiddler)
        {
        nextTiddler = tiddler.nextSibling;
        if(tiddler.id)
            if(tiddler.id.substr(0,7) == "tiddler")
                {
                var title = tiddler.id.substr(7);
                if(title != keeptitle && !document.getElementById("editor" + title))
                    place.removeChild(tiddler);
                }
        tiddler = nextTiddler;
        }
}

function foldTiddler(title)
{
    var body = document.getElementById("body" + title);

    if(body != null) {
	  body.style.display = "none";
	  createTiddlerToolbar(title,false,true);
    }
}

function unfoldTiddler(title)
{
    var body = document.getElementById("body" + title);

    if(body != null) {
	  body.style.display = "block";
	  createTiddlerToolbar(title,false,false);
    }
}

function foldAllTiddlers()
{
    clearMessage();
    var place = document.getElementById("tiddlerDisplay");
    var tiddler = place.firstChild;
    var nextTiddler;
    while(tiddler)
        {
        nextTiddler = tiddler.nextSibling;
        if(tiddler.id)
            if(tiddler.id.substr(0,7) == "tiddler")
                {
                var title = tiddler.id.substr(7);
                if(!document.getElementById("editor" + title))
                    foldTiddler(title);
                }
        tiddler = nextTiddler;
        }
}

function unfoldAllTiddlers()
{
    clearMessage();
    var place = document.getElementById("tiddlerDisplay");
    var tiddler = place.firstChild;
    var nextTiddler;
    while(tiddler)
        {
        nextTiddler = tiddler.nextSibling;
        if(tiddler.id)
            if(tiddler.id.substr(0,7) == "tiddler")
                {
                var title = tiddler.id.substr(7);
                if(!document.getElementById("editor" + title))
                    unfoldTiddler(title);
                }
        tiddler = nextTiddler;
        }
}
// END SJR

// ---------------------------------------------------------------------------------
// Regular expression stuff
// ---------------------------------------------------------------------------------

var upperLetter = "[A-Z√Ä-√û]";
var lowerLetter = "[a-z√ü-√ø_0-9\\-]";
var anyLetter = "[A-Za-z√Ä-√û√ü-√ø_0-9\\-]";
var anyDigit = "[0-9]";
var anyNumberChar = "[0-9\\.E]";
var wikiNamePattern = "(?:" + upperLetter + "+" + lowerLetter + "+" + upperLetter + anyLetter + "*)|(?:" + upperLetter + "{2,}" + lowerLetter + "+)";
var urlPattern = "(?:http|https|mailto|ftp):[^\\s'\"]+(?:/|\\b)";
var explicitLinkPattern = "\\[\\[([^\\[\\]\\|]+)\\|([^\\[\\]\\|]+)\\]\\]";
var bracketNamePattern = "\\[\\[([^\\]]+)\\]\\]";

var wikiNamePatterns;
var wikiNameRegExp;
var structurePatterns;
var stylePatterns;
var tableRegExp;
var tableRowColRegExp;
var invalidPreWikiNamePattern;

function setupRegexp()
{
    // Table rows pattern
    var rowPattern = "^\\|([^\\n]*\\|)([fhc]?)$";
    tableRegExp = new RegExp(rowPattern,"mg");
    // Table columns pattern
    var elementPattern = "(?:(?:BGCOLOR|bgcolor)\\(([^\\)]+)\\):)?" +
        "("+
        "("+explicitLinkPattern+")?"+
        "("+bracketNamePattern+")?" +
        "[^\\|]*"+
        ")\\|";
    tableRowColRegExp = new RegExp(elementPattern,"g");
    // Link patterns
    wikiNamePatterns = "(" + wikiNamePattern +
        ")|(" + urlPattern +
        ")|(?:" + explicitLinkPattern +
        ")|(?:" + bracketNamePattern +
        ")";
    wikiNameRegExp = new RegExp(wikiNamePatterns,"mg");
    invalidPreWikiNamePattern = anyLetter;
    // Structural patterns
    var breakPattern = "\\n";
    var horizontalRulePattern = "^----$\\n?";
    var headerPattern = "^!{1,5}";
    var bulletListItemPattern = "^\\*+";
    var numberedListItemPattern = "^#+";
    var tablePattern = "(?:^\\|[^\\n]*$\\n?)+";
    var blockquotePattern = "(?:^>[^\\n]*$\\n?)+";
    var blockquotePattern2 = "^<<<\\n((?:^(?!<<<)[^\\n]*\\n)+)(^<<<$\\n?)";
    var imagePattern = "\\[[Ii][Mm][Gg]\\[(?:([^\\|]+)\\|)?([^\\[\\]\\|]+)\\]\\]";
    var verbatimPattern = "^\\{\\{\\{\\n((?:^[^\\n]*\\n)+?)(^\\}\\}\\}$\\n?)";
    structurePatterns = "(" + breakPattern +
        ")|(" + horizontalRulePattern +
        ")|(" + headerPattern +
        ")|(" + bulletListItemPattern +
        ")|(" + numberedListItemPattern +
        ")|(" + tablePattern +
        ")|(" + blockquotePattern +
        ")|(?:" + blockquotePattern2 +
        ")|(?:" + imagePattern +
        ")|(?:" + verbatimPattern +
        ")";
    // Style patterns
    var boldPattern = "''((?:[^']+(?:'[^'])?)+)''";
    var strikePattern = "==([^=]+)==";
    var underlinePattern = "__([^_]+)__";
    var italicPattern = "//([^/]+)//";
    var supPattern = "\\^\\^([^\\^]+)\\^\\^";
    var subPattern = "~~([^~]+)~~";
    var monoPattern = "\\{\\{\\{(.*?)\\}\\}\\}";
    var colorPattern = "@@(?:color\\(([^\\)]+)\\):|bgcolor\\(([^\\)]+)\\):){0,2}([^@]+)@@";
    stylePatterns = "(?:" + boldPattern +
        ")|(?:" + strikePattern +
        ")|(?:" + underlinePattern +
        ")|(?:" + italicPattern +
        ")|(?:" + supPattern +
        ")|(?:" + subPattern +
        ")|(?:" + colorPattern +
        ")|(?:" + monoPattern +
        ")";
}

// Create child text nodes and link elements to represent a wiki-fied version of some text
function wikify(text,parent,highlightText,highlightCaseSensitive)
{
    // Prepare the regexp for the highlighted selection
    if(highlightText == "")
        highlightText = null;
    var highlightRegExp,highlightMatch;
    if(highlightText)
        {
        highlightRegExp = new RegExp(highlightText,highlightCaseSensitive ? "mg" : "img");
        highlightMatch = highlightRegExp.exec(text);
        }
    wikifyStructures(parent,text,text,0,text.length,highlightRegExp,highlightMatch);
}


function wikifyStructures(parent,text,targetText,startPos,endPos,highlightRegExp,highlightMatch)
{
    var body = parent;
    var structureRegExp = new RegExp(structurePatterns,"mg");
    var theList = [];  // theList[0]: don't use
    var isInListMode = false;
    var isInHeaderMode = false;
    var isNewline = false;
    // The start of the fragment of the text being considered
    var nextPos = 0;
    // Loop through the bits of the body text
    do {
        // Get the next formatting match
        var formatMatch = structureRegExp.exec(targetText);
        var matchPos = formatMatch ? formatMatch.index : targetText.length;
        // Subwikify the plain text before the match
        if(nextPos < matchPos)
            {
            isNewline = false;
            highlightMatch = wikifyStyles(body,text,targetText.substring(nextPos,matchPos),startPos+nextPos,startPos+matchPos,highlightRegExp,highlightMatch);
            }
        // Dump out the formatted match
        var level;
        var theBlockquote;
        if(formatMatch)
            {
            // Dump out the link itself in the appropriate format
            if(formatMatch[1])
                {
                if(isNewline && isInListMode)
                    {
                    theList = [];
                    body = parent;
                    isInListMode = false;
                    }
                else if(isInHeaderMode)
                    {
                    body = parent;
                    isInHeaderMode = false;
                    }
                else
                    {
                    isNewline = true;
                    body.appendChild(document.createElement("br"));
                    }
                }
            else if(formatMatch[2])
                {
                isNewline = false;
                body.appendChild(document.createElement("hr"));
                }
            else if(formatMatch[3])
                {
                level = formatMatch[3].length + 1;
                isNewline = false;
                isInHeaderMode = true;
                var theHeader = document.createElement("h" + level);
                parent.appendChild(theHeader);
                body = theHeader;
                }
            else if(formatMatch[4])
                {
                level = formatMatch[4].length;
                isNewline = false;
                isInListMode = true;
                if (theList[level] == null)
                    {
                    theList[level] = document.createElement("ul");
                    body.appendChild(theList[level]);
                    }
                theList = theList.slice(0,level + 1);
                body = document.createElement("li");
                theList[level].appendChild(body);
                }
            else if(formatMatch[5])
                {
                level = formatMatch[5].length;
                isNewline = false;
                isInListMode = true;
                if (theList[level] == null)
                    {
                    theList[level] = document.createElement("ol");
                    body.appendChild(theList[level]);
                    }
                theList = theList.slice(0,level + 1);
                body = document.createElement("li");
                theList[level].appendChild(body);
                }
            else if(formatMatch[6])
                {
                isNewline = false;
                highlightMatch = wikifyTable(body,text,formatMatch[6],startPos+matchPos,startPos+structureRegExp.lastIndex,highlightRegExp,highlightMatch);
                }
            else if(formatMatch[7])
                {
                isNewline = false;
                var quotedText = formatMatch[7].replace(new RegExp("^>(>*)","mg"),"$1");
                theBlockquote = document.createElement("blockquote");
                var newHighlightRegExp,newHighlightMatch;
                if (highlightRegExp) {
                    newHighlightRegExp = new RegExp(highlightRegExp.toString(), "img");
                    newHighlightMatch = newHighlightRegExp.exec(quotedText);
                }
                wikifyStructures(theBlockquote,quotedText,quotedText,0,quotedText.length,newHighlightRegExp,newHighlightMatch);
                body.appendChild(theBlockquote);
                }
            else if(formatMatch[8])
                {
                isNewline = false;
                theBlockquote = document.createElement("blockquote");
                highlightMatch = wikifyStructures(theBlockquote,text,formatMatch[8],startPos+matchPos+4,startPos+structureRegExp.lastIndex-formatMatch[9].length,highlightRegExp,highlightMatch);
                body.appendChild(theBlockquote);
                }
            else if(formatMatch[11])
                {
                isNewline = false;
                var theImage = document.createElement("img");
                theImage.alt = formatMatch[10];
                theImage.src = formatMatch[11];
                body.appendChild(theImage);
                }
            else if(formatMatch[12])
                {
                isNewline = false;
                var theVerbatim = document.createElement("pre");
                theVerbatim.appendChild(document.createTextNode(text.substr(startPos+matchPos+4,startPos+structureRegExp.lastIndex-formatMatch[13].length-startPos-matchPos-4)));
                body.appendChild(theVerbatim);
                }
            }
        // Move the next position past the formatting match
        nextPos = structureRegExp.lastIndex;
    } while(formatMatch);
    return highlightMatch;
}

function wikifyLinks(parent,text,targetText,startPos,endPos,highlightRegExp,highlightMatch)
{
    // The start of the fragment of the text being considered
    var nextPos = 0;
    // Loop through the bits of the body text
    var theLink;
    do {
        // Get the next formatting match
        var formatMatch = wikiNameRegExp.exec(targetText);
        var matchPos = formatMatch ? formatMatch.index : targetText.length;
        // Subwikify the plain text before the match
        if(nextPos < matchPos)
            highlightMatch = subWikify(parent,text,startPos+nextPos,startPos+matchPos,highlightRegExp,highlightMatch);
        // Dump out the formatted match
        if(formatMatch)
            {
            // Dump out the link itself in the appropriate format
            if(formatMatch[1])
                {
                if(matchPos > 0 && new RegExp(invalidPreWikiNamePattern,"").exec(targetText.charAt(matchPos - 1)))
                    {
                    theLink = parent;
                    }
                else
                    {
                     theLink = createTiddlyLink(parent,formatMatch[0],false);
                     }
                 highlightMatch = subWikify(theLink,text,startPos+matchPos,startPos+wikiNameRegExp.lastIndex,highlightRegExp,highlightMatch);
                }
            else if(formatMatch[2])
                {
                theLink = createExternalLink(parent,formatMatch[0]);
                highlightMatch = subWikify(theLink,text,startPos+matchPos,startPos+wikiNameRegExp.lastIndex,highlightRegExp,highlightMatch);
                }
            else if(formatMatch[3])
                {
                theLink = createExternalLink(parent,formatMatch[4]);
                highlightMatch = subWikify(theLink,text,startPos+matchPos+2,startPos+matchPos+2+formatMatch[3].length,highlightRegExp,highlightMatch);
                }
            else if(formatMatch[5])
                {
                theLink = createTiddlyLink(parent,formatMatch[5],false);
                highlightMatch = subWikify(theLink,text,startPos+matchPos+2,startPos+wikiNameRegExp.lastIndex-2,highlightRegExp,highlightMatch);
                }
            }
        // Move the next position past the formatting match
        nextPos = wikiNameRegExp.lastIndex;
    } while(formatMatch);
    return highlightMatch;
}

function wikifyStyles(parent,text,targetText,startPos,endPos,highlightRegExp,highlightMatch)
{
    var formatRegExp = new RegExp(stylePatterns,"mg");
    // The start of the fragment of the text being considered
    var nextPos = 0;
    // Loop through the bits of the body text
    do {
        // Get the next formatting match
        var formatMatch = formatRegExp.exec(targetText);
        var matchPos = formatMatch ? formatMatch.index : targetText.length;
        // Subwikify the plain text before the match
        if(nextPos < matchPos)
            highlightMatch = wikifyLinks(parent,text,targetText.substring(nextPos,matchPos),startPos+nextPos,startPos+matchPos,highlightRegExp,highlightMatch);
        // Dump out the formatted match
        if(formatMatch)
            {
            // Dump out the link itself in the appropriate format
            if(formatMatch[1])
                {
                var theBold = createTiddlyElement(parent,"b",null,null,null);
                highlightMatch = wikifyStyles(theBold,text,formatMatch[1],startPos+matchPos+2,startPos+formatRegExp.lastIndex-2,highlightRegExp,highlightMatch);
                }
            else if(formatMatch[2])
                {
                var theStrike = createTiddlyElement(parent,"strike",null,null,null);
                highlightMatch = wikifyStyles(theStrike,text,formatMatch[2],startPos+matchPos+2,startPos+formatRegExp.lastIndex-2,highlightRegExp,highlightMatch);
                }
            else if(formatMatch[3])
                {
                var theUnderline = createTiddlyElement(parent,"u",null,null,null);
                highlightMatch = wikifyStyles(theUnderline,text,formatMatch[3],startPos+matchPos+2,startPos+formatRegExp.lastIndex-2,highlightRegExp,highlightMatch);
                }
            else if(formatMatch[4])
                {
                var theItalic = createTiddlyElement(parent,"i",null,null,null);
                highlightMatch = wikifyStyles(theItalic,text,formatMatch[4],startPos+matchPos+2,startPos+formatRegExp.lastIndex-2,highlightRegExp,highlightMatch);
                }
            else if(formatMatch[5])
                {
                var theSup = createTiddlyElement(parent,"sup",null,null,null);
                highlightMatch = wikifyStyles(theSup,text,formatMatch[5],startPos+matchPos+2,startPos+formatRegExp.lastIndex-2,highlightRegExp,highlightMatch);
                }
            else if(formatMatch[6])
                {
                var theSub = createTiddlyElement(parent,"sub",null,null,null);
                highlightMatch = wikifyStyles(theSub,text,formatMatch[6],startPos+matchPos+2,startPos+formatRegExp.lastIndex-2,highlightRegExp,highlightMatch);
                }
            else if(formatMatch[9])
                {
                var theSpan;
                if ((formatMatch[7] == "" || formatMatch[7] == null) && (formatMatch[8] == "" || formatMatch[8] == null))
                    {
                    theSpan = createTiddlyElement(parent,"span",null,"marked",null);
                    }
                    else
                    {
                    theSpan = createTiddlyElement(parent,"span",null,null,null);
                    if (formatMatch[7] != "") theSpan.style.color = formatMatch[7];
                    if (formatMatch[8] != "") theSpan.style.background = formatMatch[8];
                    }
                highlightMatch = wikifyStyles(theSpan,text,formatMatch[9],startPos+formatRegExp.lastIndex-2-formatMatch[9].length,startPos+formatRegExp.lastIndex-2,highlightRegExp,highlightMatch);
                }
            else if(formatMatch[10])
                {
                var theCode = createTiddlyElement(parent,"code",null,null,null);
                highlightMatch = wikifyStyles(theCode,text,formatMatch[10],startPos+matchPos+3,startPos+formatRegExp.lastIndex-3,highlightRegExp,highlightMatch);
                }
            }
        // Move the next position past the formatting match
        nextPos = formatRegExp.lastIndex;
    } while(formatMatch);
    return highlightMatch;
}

// Create a table
function wikifyTable(parent,text,targetText,startPos,endPos,highlightRegExp,highlightMatch)
{
    // The start of the fragment of the text being considered
    var nextPos = 0;
    var theTable = document.createElement("table");
    var bodyRowLen = 0;
    var headRowLen = 0;
    var footRowLen = 0;
    var bodyRows = [];
    var headRows = [];
    var footRows = [];
    var theCaption = null;
    // Loop through the bits of the body text
    do {
        // Get the next formatting match
        var formatMatch = tableRegExp.exec(targetText);
        var matchPos = formatMatch ? formatMatch.index : targetText.length;
        // Dump out the formatted match
        if(formatMatch) {
            if (formatMatch[2] == "c") {
                var cap = formatMatch[1].substring(0,formatMatch[1].length-1);
                theCaption = document.createElement("caption");
                highlightMatch = wikifyStyles(theCaption,text,cap,startPos+matchPos+1,startPos+cap.length,highlightRegExp,highlightMatch);
                if (bodyRowLen == 0 && headRowLen == 0 && footRowLen == 0) {
                    theCaption.setAttribute("align", "top");
                } else {
                    theCaption.setAttribute("align", "bottom");
                }
            } else if (formatMatch[2] == "h") {
                highlightMatch = wikifyTableRow(headRows,headRowLen,text,formatMatch[1],startPos+matchPos,startPos+matchPos+formatMatch[1].length,highlightRegExp,highlightMatch);
                headRowLen++;
            } else if (formatMatch[2] == "f") {
                highlightMatch = wikifyTableRow(footRows,footRowLen,text,formatMatch[1],startPos+matchPos,startPos+matchPos+formatMatch[1].length,highlightRegExp,highlightMatch);
                footRowLen++;
            } else {
                highlightMatch = wikifyTableRow(bodyRows,bodyRowLen,text,formatMatch[1],startPos+matchPos,startPos+matchPos+formatMatch[1].length,highlightRegExp,highlightMatch);
                bodyRowLen++;
            }
        }
        nextPos = tableRegExp.lastIndex;
    } while(formatMatch);

    if (theCaption != null) {
        theTable.appendChild(theCaption);
    }

    if (headRowLen > 0) {
        var theTableHead = document.createElement("thead");
        createTableRows(headRows,theTableHead);
        theTable.appendChild(theTableHead);
    }

    if (bodyRowLen > 0) {
        var theTableBody = document.createElement("tbody");
        createTableRows(bodyRows,theTableBody);
        theTable.appendChild(theTableBody);
    }

    if (footRowLen > 0) {
        var theTableFoot = document.createElement("tfoot");
        createTableRows(footRows,theTableFoot);
        theTable.appendChild(theTableFoot);
    }

    parent.appendChild(theTable);
    return highlightMatch;
}

function wikifyTableRow(rows,rowIndex,text,targetText,startPos,endPos,highlightRegExp,highlightMatch)
{
    // The start of the fragment of the text being considered
    var eIndex = 0;
    var elements = [];
    // Loop through the bits of the body text
    do {
        // Get the next formatting match
        var formatMatch = tableRowColRegExp.exec(targetText);
        var matchPos = formatMatch ? formatMatch.index : targetText.length;
        if(formatMatch) {
            var eText = formatMatch[2];
            if (eText == "~" || eText == ">") {
                elements[eIndex] = eText;
            } else {
                var eTextLen = eText.length;
                var align = "";
                if (eTextLen >= 1 && eText.charAt(0) == " ") {
                    if (eTextLen >= 3 && eText.charAt(eTextLen - 1) == " ") {
                        align = "center";
                        eText = eText.substring(1,eTextLen - 1);
                        //eTextLen -= 2;
                        eTextLen--;
                    } else {
                        align = "right";
                        eText = eText.substring(1);
                        eTextLen--;
                    }
                } else if (eTextLen >= 2 && eText.charAt(eTextLen - 1) == " ") {
                    align = "left";
                    eText = eText.substring(0,eTextLen - 1);
                    //eTextLen--;
                }

                var theElement;
                if (eTextLen >= 1 && eText.charAt(0) == "!") {
                    theElement = document.createElement("th");
                    eText = eText.substring(1);
                    eTextLen--;
                } else {
                    theElement = document.createElement("td");
                }

                if (align != "") {
                    theElement.align = align;
                }

                if (formatMatch[1]) {
                    theElement.style.background = formatMatch[1];
                }

                highlightMatch = wikifyStyles(theElement,text,eText,startPos+tableRowColRegExp.lastIndex-eTextLen,startPos+tableRowColRegExp.lastIndex-1,highlightRegExp,highlightMatch);
                elements[eIndex] = theElement;
            }
            eIndex++;
        }
    } while(formatMatch);
    rows[rowIndex] = elements;
    return highlightMatch;
}

function createTableRows(rows,parent)
{
    var i, j, k, cols;
    for (i = 0; i < rows.length; i++) {
        cols = rows[i];
        var theRow = document.createElement("tr");
        for (j = 0; j < cols.length; j++) {
            if (cols[j] == "~") continue;

            var rowspan = 1;
            for (k = i+1; k < rows.length; k++) {
                if (rows[k][j] != "~") break;
                rowspan++;
            }

            var colspan = 1;
            for (; j < cols.length - 1; j++) {
                if (cols[j] != ">") break;
                colspan++;
            }

            var theElement = cols[j];
            if (rowspan > 1) {
                theElement.setAttribute("rowSpan",rowspan);
                theElement.setAttribute("rowspan",rowspan);
                theElement.valign = "center";
            }
            if (colspan > 1) {
                theElement.setAttribute("colSpan",colspan);
                theElement.setAttribute("colspan",colspan);
            }
            theRow.appendChild(theElement);
        }
        parent.appendChild(theRow);
    }
}

// Helper for wikify that handles highlights within runs of text
function subWikify(parent,text,startPos,endPos,highlightRegExp,highlightMatch)
{
    // Check for highlights
    while(highlightMatch && (highlightRegExp.lastIndex > startPos) && (highlightMatch.index < endPos) && (startPos < endPos))
        {
        // Deal with the plain text before the highlight
        if(highlightMatch.index > startPos)
            {
            parent.appendChild(document.createTextNode(text.substring(startPos,highlightMatch.index)));
            startPos = highlightMatch.index;
            }
        // Deal with the highlight
        var highlightEnd = Math.min(highlightRegExp.lastIndex,endPos);
        var theHighlight = createTiddlyElement(parent,"span",null,"highlight",text.substring(startPos,highlightEnd));
        startPos = highlightEnd;
        // Nudge along to the next highlight if we're done with this one
        if(startPos >= highlightRegExp.lastIndex)
            highlightMatch = highlightRegExp.exec(text);
        }
    // Do the unhighlighted text left over
    if(startPos < endPos)
        {
        parent.appendChild(document.createTextNode(text.substring(startPos,endPos)));
        //startPos = endPos;
        }
    return(highlightMatch);
}

// ---------------------------------------------------------------------------------
// Tiddler-related utility functions
// ---------------------------------------------------------------------------------

var regexpAmp = new RegExp("&","mg");
var regexpLessThan = new RegExp("<","mg");
var regexpGreaterThan = new RegExp(">","mg");
var regexpQuote = new RegExp("\"","mg");

// Convert & to "&amp;", < to "&lt;", > to "&gt;" and " to "&quot;"
function htmlEncode(text)
{
    return(text.replace(regexpAmp,"&amp;").replace(regexpLessThan,"&lt;").replace(regexpGreaterThan,"&gt;").replace(regexpQuote,"&quot;"));
}

// Process a string list tiddler names into an array. Tiddler names that are not WikiWords must be [[bracketed]]
function readTiddlerList(titles)
{
    var bracketedPattern = "\\[\\[([^\\]]+)\\]\\]";
    var unbracketedPattern = "[^\\s$]+";
    var pattern = "(?:" + bracketedPattern + ")|(" + unbracketedPattern + ")";
    var re = new RegExp(pattern,"mg");
    var tiddlerNames = [];
    do {
        var match = re.exec(titles);
        if(match)
            {
            if(match[1]) // Bracketed
                tiddlerNames.push(match[1]);
            else if(match[2]) // Unbracketed
                tiddlerNames.push(match[2]);
            }
    } while(match);
    return(tiddlerNames);
}

function encodeTiddlyLink(title)
{
    if(title.indexOf(" ") == -1)
        return(title);
    else
        return("[[" + title + "]]");
}

function createTiddlyElement(theParent,theElement,theID,theClass,theText)
{
    var e = document.createElement(theElement);
    if(theClass != null)
        e.className = theClass;
    if(theID != null)
        e.setAttribute("id",theID);
    if(theText != null)
        e.appendChild(document.createTextNode(theText));
    if(theParent != null)
        theParent.appendChild(e);
    return(e);
}

function createTiddlyButton(theParent,theText,theTooltip,theAction)
{
    var theButton = document.createElement("a");
    if(theAction)
        {
        theButton.onclick = theAction;
        theButton.setAttribute("href","JavaScript:;");
        }
    theButton.setAttribute("title",theTooltip);
    if(theText)
        {
        theButton.appendChild(document.createTextNode(theText));
        }
    theParent.appendChild(theButton);
    return(theButton);
}

function createTiddlyLink(place,title,includeText)
{
    var text = includeText ? title : null;
    var subTitle;
    var tiddler = store.tiddlers[title];
    if(tiddler)
        subTitle = tiddler.getSubtitle();
    else
        subTitle = title + " doesn't yet exist";
    var theClass = tiddler ? "tiddlyLinkExisting" : "tiddlyLinkNonExisting";
    var btn = createTiddlyButton(place,text,subTitle,onClickTiddlerLink);
    btn.className = theClass;
    btn.setAttribute("tiddlyLink",title);
    return(btn);
}

function createExternalLink(place,url)
{
    var theLink = document.createElement("a");
    theLink.className = "externalLink";
    theLink.href = url;
    theLink.title = "External link to " + url;
    theLink.target = "_blank";
    place.appendChild(theLink);
    return(theLink);
}

// Find the tiddler instance (if any) containing a specified element
function findContainingTiddler(e)
{
    if(e == null)
        return(null);
    do {
        if(e != document)
            {
            if(e.id)
                if(e.id.substr(0,7) == "tiddler")
                    return(e);
            }
        e = e.parentNode;
    } while(e != document);
    return(null);
}

function displayMessage(text,linkText)
{
    var msgArea = document.getElementById("messageArea");
    var msg = createTiddlyElement(msgArea,"div",null,null,text);
    msgArea.style.display = "block";
    if(linkText)
        {
        var link = createTiddlyElement(msg,"a",null,null,linkText);
        link.href = linkText;
        link.target = "_blank";
        }
}

function clearMessage()
{
    var msgArea = document.getElementById("messageArea");
    while(msgArea.hasChildNodes())
        msgArea.removeChild(msgArea.firstChild);
    msgArea.style.display = "none";
}

/// ---------------------------------------------------------------------------------
/// Tag functions
/// ---------------------------------------------------------------------------------
function searchTags(text) {
    var c = 0;
    closeAllTiddlers();

    var tagged = store.getTaggedTiddlers(text);
    for(var t = tagged.length-1; t >=0; t--) {
        displayTiddler(null,tagged[t].title,1,null,null,false,options.chkFoldedSearch);
    }
}

function refreshTagMenu() {
    var place = document.getElementById("tagMenu");
    while(place.firstChild != null)
        place.removeChild(place.firstChild);

    var allTags = store.getTags();
    for (i=0;i<allTags.length;i++) {
	  createTagLink(place, allTags[i]);
    }
}

function createTagLink(place, theTag) {
      var tagText = theTag[0]
	var linkText = tagText.replace(/_/g,' ');
  	var theTagLink = createTiddlyElement(place,'a',null,null,linkText);
  	theTagLink.setAttribute('href','javascript:searchTags(\''+ tagText.replace(/'/g,"\\'") +'\')');
	if (theTag[1] > 0) {
	    createTiddlyElement(theTagLink,'span',null,null,'('+ theTag[1] +')');
	}
}

// ---------------------------------------------------------------------------------
// Menu and sidebar functions
// ---------------------------------------------------------------------------------

function refreshAll(hint) // Optional name of the tiddler that's changed
{
    refreshHeader();
    refreshMenu();
    refreshSidebar();
    refreshTagMenu();
    refreshDisplay(hint);
}

function refreshDisplay(hint)
{
    var hits = hint ? store.getReferringTiddlers(hint) : null;
    var displayNodes = document.getElementById("tiddlerDisplay").childNodes;
    for(var t=0;t<displayNodes.length;t++)
        {
        var theId = displayNodes[t].id;
        if(theId && theId.substr(0,7) == "tiddler")
            {
            var title = theId.substr(7);
            if(hint)
                {
                var f = false;
                for(var h=0; h<hits.length; h++)
                    if(hits[h].title == title)
                        f = true
                if(f)
                    refreshTiddler(title);
                }
            else
                refreshTiddler(title);
            }
        }
}

// Refresh all parts of the header
function refreshHeader()
{
    var theTitle = store.getTiddlerText("SiteTitle","SiteTitle");
    var theSubtitle = store.getTiddlerText("SiteSubtitle","SiteSubtitle");
    document.title = theTitle + " - " + theSubtitle;
    var place = document.getElementById("siteTitle");
    while(place.firstChild != null)
        place.removeChild(place.firstChild);
    wikify(theTitle,place,null,null);
    place = document.getElementById("siteSubtitle");
    while(place.firstChild != null)
        place.removeChild(place.firstChild);
    wikify(theSubtitle,place,null,null);
}

function refreshMenu()
{
    var place = document.getElementById("mainMenu");
    while(place.firstChild != null)
        place.removeChild(place.firstChild);
    var menu = store.getTiddlerText("MainMenu","MainMenu");
    wikify(menu,place,null,null);
}

function refreshSidebar()
{
    var tabContent = document.getElementById("sidebarContent");
    switch(options.txtCurrentTab)
        {
        case "tabTimeline":
        default:
            tabContent.className = "tabContentTimeline";
            refreshTabTimeline();
            break;
        case "tabTags":
            tabContent.className = "tabContentTags";
            refreshTabTags();
            break;
        case "tabMore":
            tabContent.className = "tabContentMore";
            refreshTabMore();
            break;
        }
}

// Event handler for clicking on a tab
function onClickTab(e)
{
    if (!e) var e = window.event;
    var theTab = resolveTarget(e);
    options.txtCurrentTab = theTab.id;
    saveOptionCookie("txtCurrentTab");
    refreshSidebar();
}

function refreshTabTimeline()
{
    var tiddlers = store.getTiddlers("modified");
    var place = document.getElementById("sidebarContent");
    while(place.firstChild != null)
        place.removeChild(place.firstChild);
    var lastDay = "";
    for (t=tiddlers.length-1; t>=0; t--)
        {
        var tiddler = tiddlers[t];
        var theDay = convertToYYYYMMDDHHMM(tiddler.modified).substr(0,8);
        if(theDay != lastDay)
            {
            var theDateElement = document.createElement("span");
            var theDateCaption = tiddler.modified.toLocaleDateString();
            theDateElement.appendChild(document.createTextNode(theDateCaption));
            theDateElement.className = "sidebarSubHeading";
            place.appendChild(theDateElement);
            place.appendChild(document.createElement("br"));
            lastDay = theDay;
            }
        place.appendChild(document.createTextNode(String.fromCharCode(160)));
        place.appendChild(document.createTextNode(String.fromCharCode(160)));
        createTiddlyLink(place,tiddler.title,true);
        place.appendChild(document.createElement("br"));
        }
}

function refreshTabTags()
{
    var tags = store.getTags();
    var place = document.getElementById("sidebarContent");
    while(place.firstChild != null)
        place.removeChild(place.firstChild);
    if(tags.length == 0)
        createTiddlyElement(place,"div",null,null,"There are no tagged tiddlers");
    for (t=0; t<tags.length; t++)
        {
        var theTag = createTiddlyButton(place,tags[t][0] + " (" + tags[t][1] + ")","Show tiddlers tagged with '" + tags[t][0] + "'",onClickTag);
        theTag.setAttribute("tag",tags[t][0]);
        place.appendChild(document.createElement("br"));
        }
}

var moreTabModes = {
    moreTabAll: {label: "All", prompt: "All tiddlers in alphabetical order"},
    moreTabMissing: {label: "Missing", prompt: "Tiddlers that have links to them but are not defined"},
    moreTabOrphans: {label: "Orphans", prompt: "Tiddlers that are not linked to from any other tiddlers"},
    moreTabSpecial: {label: "Special", prompt: "Tiddlers that serve special purposes within TiddlyWiki"}
    };

function refreshTabMore()
{
    var place = document.getElementById("sidebarContent");
    while(place.firstChild != null)
        place.removeChild(place.firstChild);
    var selWrapper = createTiddlyElement(place,"div",null,"tabContentMorePrompt",null);
    var sel = createTiddlyElement(selWrapper,"select","optTabMore",null,null);
    sel.onchange = onChangeTabMore;
    for(var m in moreTabModes)
        {
        var opt = createTiddlyElement(sel,"option",null,null,moreTabModes[m].label);
        opt.value = m;
        if(m == options.txtTabMore)
            opt.selected = true;
        }
    var prompt = createTiddlyElement(place,"div",null,"tabContentMorePrompt",moreTabModes[options.txtTabMore].prompt);
    var results;
    switch(options.txtTabMore)
        {
        case "moreTabAll":
        default:
            results = store.getTiddlers("title");
            break;
        case "moreTabMissing":
            results = store.getMissingLinks();
            break;
        case "moreTabOrphans":
            results = store.getOrphans();
            break;
        case "moreTabSpecial":
            results = specialTiddlers.slice(0);
            results.sort();
            break;
        }
    for (t = 0; t < results.length; t++)
        {
        if(typeof results[t] == "string")
            createTiddlyLink(place,results[t],true);
        else
            createTiddlyLink(place,results[t].title,true);
        place.appendChild(document.createElement("br"));
        }
}

function onChangeTabMore()
{
    var e = document.getElementById("optTabMore");
    if(e)
        {
        options.txtTabMore = e.value;
        saveOptionCookie("txtTabMore");
        refreshTabMore();
        }
}

// ---------------------------------------------------------------------------------
// Options stuff
// ---------------------------------------------------------------------------------

function setupOptionsPanel()
{
    for(var opt in options)
        {
        var e = document.getElementById(opt);
        if(e)
            switch(opt.substr(0,3))
                {
                case "txt":
                    e.value = options[opt];
                    break;
                case "chk":
                    e.checked = options[opt];
                    break;
                }
        }
}

function loadOptionsCookie()
{
    var cookies = document.cookie;
    if(cookies.length > 0)
        for(var opt in options)
            {
            var n = opt + "=";
            var p = cookies.indexOf(n);
            if(p > -1)
                {
                p += n.length;
                var e = cookies.indexOf(";",p);
                if(e == -1)
                    e = cookies.length;
                var v = cookies.substr(p,e-p);
                switch(opt.substr(0,3))
                    {
                    case "txt":
                        options[opt] = unescape(v);
                        break;
                    case "chk":
                        options[opt] = v == "true";
                        break;
                    }
                }
            }
}

function saveOptionCookie(name)
{
    var c = name + "=";
    switch(name.substr(0,3))
        {
        case "txt":
            c += escape(options[name].toString());
            break;
        case "chk":
            c += options[name] ? "true" : "false";
            break;
        }
    c += "; expires=Fri, 1 Jan 2038 12:00:00 UTC; path=/";
    document.cookie = c;
}

function onChangeOption(e)
{
    if (!e) var e = window.event;
    var opt = resolveTarget(e);
    if(opt.id)
        {
        switch(opt.id.substr(0,3))
            {
            case "txt":
                options[opt.id] = opt.value;
                break;
            case "chk":
                options[opt.id] = opt.checked;
                break;
            }
        saveOptionCookie(opt.id);
        changeOption(opt.id);
        }
    return(true);
}

// React to an option having been changed
function changeOption(name)
{
    switch(name)
        {
        case "chkRegExp":
            break;
        case "chkCaseSens":
            break;
        case "txtUserName":
            break;
        }
}

// ---------------------------------------------------------------------------------
// Saving
// ---------------------------------------------------------------------------------

var startSaveArea = '<div id="' + 'storeArea">'; // Split up into two so that indexOf() of this source doesn't find it
var endSaveArea = '</d' + 'iv>';

// Save this tiddlywiki with the pending changes
function saveChanges(message)
{
    clearMessage();
    // Get the URL of the document
    var originalPath = document.location.toString();
    // Check we were loaded from a file URL
    if(originalPath.substr(0,5) != "file:")
        {
        alert("You need to save this TiddlyWiki to a file before you can save changes");
        displayTiddler(null,"SaveChanges",0,null,null,null,false);
        return;
        }
    // Remove any location part of the URL
    var hashPos = originalPath.indexOf("#");
    if(hashPos != -1)
        originalPath = originalPath.substr(0,hashPos);
    // Convert to a native file format assuming
    // "file:///x:/path/path/path..." - pc local file --> "x:\path\path\path..."
    // "file://///server/share/path/path/path..." - FireFox pc network file --> "\\server\share\path\path\path..."
    // "file:///path/path/path..." - mac/unix local file --> "/path/path/path..."
    // "file://server/share/path/path/path..." - pc network file --> "\\server\share\path\path\path..."
    var localPath;
    if(originalPath.charAt(9) == ":") // pc local file
        localPath = unescape(originalPath.substr(8)).replace(new RegExp("/","g"),"\\");
    else if(originalPath.indexOf("file://///") == 0) // FireFox pc network file
        localPath = "\\\\" + unescape(originalPath.substr(10)).replace(new RegExp("/","g"),"\\");
    else if(originalPath.indexOf("file:///") == 0) // mac/unix local file
        localPath = unescape(originalPath.substr(7));
    else // pc network file
        localPath = "\\\\" + unescape(originalPath.substr(7)).replace(new RegExp("/","g"),"\\");
    // Load the original file
    var original = loadFile(localPath);
    if(original == null)
        {
        alert("It's not possible to save changes using this browser. Use FireFox if you can");
        displayTiddler(null,"SaveChanges",0,null,null,null,false);
        return;
        }
    // Locate the storeArea div's
    var posOpeningDiv = original.indexOf(startSaveArea);
    var posClosingDiv = original.lastIndexOf(endSaveArea);
    if((posOpeningDiv == -1) || (posClosingDiv == -1))
        {
        alert("The file '" + localPath + "' doesn't appear to be a valid TiddlyWiki");
        return;
        }
    // Save the backup
    if(options.chkSaveBackups)
        {
    var backSlash = true;
    var dirPathPos = localPath.lastIndexOf("\\");
    if (dirPathPos == -1) {
    	dirPathPos = localPath.lastIndexOf("/");
    	backSlash = false;
    }

    //put it in the backup directory
    var backupPath = localPath.substr(0,dirPathPos) + (backSlash ? "\\" : "/")
    				+ "backup" + localPath.substr(dirPathPos, localPath.length - dirPathPos);

    backupPath = backupPath.substr(0,backupPath.lastIndexOf(".")) + "." + convertToYYYYMMDDHHMMSSMMM(new Date()) + ".html";

//        var backupPath = localPath.substr(0,localPath.lastIndexOf(".")) + "." + convertToYYYYMMDDHHMMSSMMM(new Date()) + ".html";
        var backup = saveFile(backupPath,original);
        if(message) {
            if(backup)
                displayMessage("Backup file saved as ","file://" + backupPath);
            else
                alert("Couldn't save backup file");
            }
        }
    // Save Rss
    if(options.chkGenerateAnRssFeed)
        {
        var rssPath = localPath.substr(0,localPath.lastIndexOf(".")) + ".xml";
        var rssSave = saveFile(rssPath,convertUnicodeToUTF8(generateRss()));
        if(message) {
            if(rssSave)
                displayMessage("RSS feed saved as ","file://" + rssPath);
            else
                alert("Failed to save RSS feed");
        }
        }
    // Save empty template
    if(options.chkSaveEmptyTemplate)
        {
        var emptyPath,p;
        if((p = localPath.lastIndexOf("/")) != -1)
            emptyPath = localPath.substr(0,p) + "/empty.html";
        else if((p = localPath.lastIndexOf("\\")) != -1)
            emptyPath = localPath.substr(0,p) + "\\empty.html";
        else
            emptyPath = localPath + ".empty.html";
        var empty = original.substr(0,posOpeningDiv + startSaveArea.length) + convertUnicodeToUTF8(generateEmpty()) + original.substr(posClosingDiv);
        var emptySave = saveFile(emptyPath,empty);
        if(message) {
            if(emptySave)
                displayMessage("Empty template saved as ","file://" + emptyPath);
            else
                alert("Failed to save empty template file");
        }
        }
    // Save new file
    var revised = original.substr(0,posOpeningDiv + startSaveArea.length) + convertUnicodeToUTF8(allTiddlersAsHtml()) + original.substr(posClosingDiv);
    var save = saveFile(localPath,revised);
    if(message) {
        if(save)
            displayMessage("Main TiddlyWiki file saved as ","file://" + localPath);
        else
            alert("Failed to save file");
    }
}

function generateRss()
{
    var s = [];
    var d = new Date();
    var u = store.getTiddlerText("SiteUrl","");
    // Assemble the header
    s.push("<?xml version=\"1.0\"?>");
    s.push("<rss version=\"2.0\">");
    s.push("<channel>");
	s.push("<title>" + store.getTiddlerText("SiteTitle","") + "</title>");
    s.push("<link>" + u + "</link>");
	s.push("<description>" + store.getTiddlerText("SiteSubtitle","") + "</description>");
	s.push("<language>en-us</language>");
	s.push("<copyright>Copyright " + d.getFullYear() + " " + htmlEncode(options.txtUserName) + "</copyright>");
	s.push("<pubDate>" + d.toGMTString() + "</pubDate>");
	s.push("<lastBuildDate>" + d.toGMTString() + "</lastBuildDate>");
	s.push("<docs>http://blogs.law.harvard.edu/tech/rss</docs>");
	s.push("<generator>TiddlyWiki</generator>");
    // The body
    var tiddlers = store.getTiddlers("modified");
    var n = numRssItems > tiddlers.length ? tiddlers.length : tiddlers.length-numRssItems;
    for (var t=tiddlers.length-1; t>=n; t--)
        s.push(tiddlers[t].saveToRss(u));
    // And footer
    s.push("</channel>");
	s.push("</rss>");
    // Save it all
    return s.join("\n");
}

function generateEmpty()
{
    var savedTiddlers = [];
    for(var s=0; s<specialTiddlers.length; s++)
        {
        var tiddler = store.tiddlers[specialTiddlers[s]];
        if(tiddler)
            savedTiddlers.push(tiddler.saveToDiv());
        }
    return savedTiddlers.join("\n");
}

function allTiddlersAsHtml()
{
    var savedTiddlers = [];
    var tiddlers = store.getTiddlers("modified");
    for (var t = 0; t < tiddlers.length; t++)
        savedTiddlers.push(tiddlers[t].saveToDiv());
    return savedTiddlers.join("\n");
}

// UTF-8 encoding rules:
// 0x0000 - 0x007F:	0xxxxxxx
// 0x0080 - 0x07FF:	110xxxxx 10xxxxxx
// 0x0800 - 0xFFFF:	1110xxxx 10xxxxxx 10xxxxxx

function convertUTF8ToUnicode(u)
{
    var s = "";
    var t = 0;
    var b1, b2, b3;
    while(t < u.length)
        {
        b1 = u.charCodeAt(t++);
        if(b1 < 0x80)
            s += String.fromCharCode(b1);
        else if(b1 < 0xE0)
            {
            b2 = u.charCodeAt(t++);
            s += String.fromCharCode(((b1 & 0x1F) << 6) | (b2 & 0x3F));
            }
        else
            {
            b2 = u.charCodeAt(t++);
            b3 = u.charCodeAt(t++);
            s += String.fromCharCode(((b1 & 0xF) << 12) | ((b2 & 0x3F) << 6) | (b3 & 0x3F));
            }
    }
    return(s);
}

function convertUnicodeToUTF8(s)
{
    var u = "";
    for(var t=0;t<s.length;t++)
        {
        var c = s.charCodeAt(t);
        if(c <= 0x7F)
            u += String.fromCharCode(c);
        else
            u += "&#" + c.toString() + ";";
        }
    return(u);
}

function saveFile(fileUrl, content)
{
    var r = mozillaSaveFile(fileUrl, content);
    if((r == null) || (r == false))
        r = ieSaveFile(fileUrl, content);
    return(r);
}

function loadFile(fileUrl)
{
    var r = mozillaLoadFile(fileUrl);
    if((r == null) || (r == false))
        r = ieLoadFile(fileUrl);
    return(r);
}

// Returns null if it can't do it, false if there's an error, true if it saved OK
function ieSaveFile(filePath, content)
{
    try
        {
        var fso = new ActiveXObject("Scripting.FileSystemObject");
        }
    catch(e)
        {
        //alert("Exception while attempting to save\n\n" + e.toString());
        return(null);
        }
    var file = fso.OpenTextFile(filePath,2,-1,0);
    file.Write(content);
    file.Close();
    return(true);
}

// Returns null if it can't do it, false if there's an error, or a string of the content if successful
function ieLoadFile(filePath)
{
    try
        {
        var fso = new ActiveXObject("Scripting.FileSystemObject");
        }
    catch(e)
        {
        //alert("Exception while attempting to load\n\n" + e.toString());
        return(null);
        }
    var file = fso.OpenTextFile(filePath,1);
    var content = file.ReadAll();
    file.Close();
    return(content);
}

// Returns null if it can't do it, false if there's an error, true if it saved OK
function mozillaSaveFile(filePath, content)
{
    if(window.Components)
        try
            {
            netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
            var file = Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsILocalFile);
            file.initWithPath(filePath);
            if (!file.exists())
                file.create(0, 0664);
            var out = Components.classes["@mozilla.org/network/file-output-stream;1"].createInstance(Components.interfaces.nsIFileOutputStream);
            out.init(file, 0x20 | 0x02, 00004,null);
            out.write(content, content.length);
            out.flush();
            out.close();
            return(true);
            }
        catch(e)
            {
            //alert("Exception while attempting to save\n\n" + e);
            return(false);
            }
    return(null);
}

// Returns null if it can't do it, false if there's an error, or a string of the content if successful
function mozillaLoadFile(filePath)
{
    if(window.Components)
        try
            {
            netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
            var file = Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsILocalFile);
            file.initWithPath(filePath);
            if (!file.exists())
                return(null);
            var inputStream = Components.classes["@mozilla.org/network/file-input-stream;1"].createInstance(Components.interfaces.nsIFileInputStream);
            inputStream.init(file, 0x01, 00004, null);
            var sInputStream = Components.classes["@mozilla.org/scriptableinputstream;1"].createInstance(Components.interfaces.nsIScriptableInputStream);
            sInputStream.init(inputStream);
            return(sInputStream.read(sInputStream.available()));
            }
        catch(e)
            {
            //alert("Exception while attempting to load\n\n" + e);
            return(false);
            }
    return(null);
}

// ---------------------------------------------------------------------------------
// Event handlers
// ---------------------------------------------------------------------------------

function onEditKey(e)
{
    if (!e) var e = window.event;
    clearMessage();
    var consume = false;
    switch(e.keyCode)
        {
        case 13: // Ctrl-Enter
        case 10: // Ctrl-Enter on IE PC
        case 77: // Ctrl-Enter is "M" on some platforms
            if(e.ctrlKey && this.id && this.id.substr(0,6) == "editor")
                {
                saveTiddler(this.id.substr(6));
                consume = true;
                }
            break;
        case 27: // Escape
            if(this.id && this.id.substr(0,6) == "editor")
                {
                displayTiddler(null,this.id.substr(6),1,null,null,false,false);
                consume = true;
                }
            break;
        }
    e.cancelBubble = consume;
    if(consume)
        if (e.stopPropagation) e.stopPropagation();
    return(!consume);

}

// Event handler for clicking on a tiddly link
function onClickTiddlerLink(e)
{
    if (!e) var e = window.event;
    var theTarget = resolveTarget(e);
    var theLink = theTarget;
    var title = null;
    do {
        title = theLink.getAttribute("tiddlyLink");
        theLink = theLink.parentNode;
    } while(title == null && theLink != null);
    if(title)
        {
        var opening;
        if(e.metaKey || e.ctrlKey)
            opening = document.getElementById("tiddler" + title) == null;
        else
            opening = true;
        if(opening)
            displayTiddler(theTarget,title,0,null,null,e.shiftKey || e.altKey,false);
        else
            closeTiddler(title,e.shiftKey || e.altKey);
        }
    clearMessage();
    e.cancelBubble = true;
    if (e.stopPropagation) e.stopPropagation();
    return(false);
}

// Event handler for mouse over a tiddler
function onMouseOverTiddler(e)
{
    var tiddler;
    if(this.id.substr(0,7) == "tiddler")
        tiddler = this.id.substr(7);
    if(tiddler)
        selectTiddler(tiddler);
}

// Event handler for mouse out of a tiddler
function onMouseOutTiddler(e)
{
    var tiddler;
    if(this.id.substr(0,7) == "tiddler")
        tiddler = this.id.substr(7);
    if(tiddler)
        deselectTiddler(tiddler);
}

// Event handler for double click on a tiddler
function onDblClickTiddler(e)
{
    clearMessage();
    if(document.selection)
        document.selection.empty();
    var tiddler;
    if(this.id.substr(0,7) == "tiddler")
        tiddler = this.id.substr(7);
    if(tiddler) {	// SJR
        unfoldTiddler(tiddler);
        displayTiddler(null,tiddler,2,null,null,false,false);
    }
}

// BEGIN SJR
// Event handler for clicking on toolbar fold
function onClickToolbarFold(e)
{
    if (!e) var e = window.event;
    clearMessage();
    if(this.parentNode.id)
	  foldTiddler(this.parentNode.id.substr(7));
}

// Event handler for clicking on toolbar fold
function onClickToolbarUnfold(e)
{
    if (!e) var e = window.event;
    clearMessage();
    if(this.parentNode.id)
	  unfoldTiddler(this.parentNode.id.substr(7));
}

// Event handler for clicking on toolbar fold
function onClickToolbarCloseOthers(e)
{
    if (!e) var e = window.event;
    clearMessage();
    if(this.parentNode.id)
	  closeAllBut(this.parentNode.id.substr(7));
}
// END SJR

// Event handler for clicking on toolbar close
function onClickToolbarClose(e)
{
    if (!e) var e = window.event;
    clearMessage();
    if(this.parentNode.id)
        closeTiddler(this.parentNode.id.substr(7),e.shiftKey || e.altKey);
    e.cancelBubble = true;
    if (e.stopPropagation) e.stopPropagation();
    return(false);
}

// Event handler for clicking on toolbar permalink
function onClickToolbarPermaLink(e)
{
    if(this.parentNode.id)
        {
        var title = this.parentNode.id.substr(7);
        var t = encodeURIComponent(encodeTiddlyLink(title));
        if(window.location.hash != t)
            window.location.hash = t;
        }
}

// Event handler for clicking on toolbar close
function onClickToolbarDelete(e)
{
    clearMessage();
    if(this.parentNode.id)
        deleteTiddler(this.parentNode.id.substr(7));
}

// Event handler for clicking on the toolbar references button
function onClickToolbarReferences(e)
{
    if (!e) var e = window.event;
    var theTarget = resolveTarget(e);
    var popup = createTiddlerPopup(this);
    if(popup && this.parentNode.id)
        {
        var title = this.parentNode.id.substr(7);
        var references = store.getReferringTiddlers(title,title);
        var c = false;
        for(var r in references)
            {
            createTiddlyLink(popup,references[r].title,true);
            c = true;
            }
        if(!c)
            popup.appendChild(document.createTextNode("No references"));
        }
    e.cancelBubble = true;
    if (e.stopPropagation) e.stopPropagation();
    return(false);
}

// Event handler for clicking on a tiddler tag
function onClickTag(e)
{
    if (!e) var e = window.event;
    var theTarget = resolveTarget(e);
    var popup = createTiddlerPopup(this);
    var tag = this.getAttribute("tag");
    if(popup && tag)
        {
        var title = this.parentNode.id.substr(10);
        var tagged = store.getTaggedTiddlers(tag,title);
        var c = false;
        for(var r in tagged)
            {
            createTiddlyLink(popup,tagged[r].title,true);
            c = true;
            }
        if(!c)
            popup.appendChild(document.createTextNode("No other tiddlers tagged with '" + tag + "'"));
        }
    e.cancelBubble = true;
    if (e.stopPropagation) e.stopPropagation();
    return(false);
}

// Event handler for clicking on toolbar edit
function onClickToolbarEdit(e)
{
    var title = this.parentNode.id.substr(7);
    clearMessage();
    if(this.parentNode.id) {
	  unfoldTiddler(title);
        displayTiddler(null,title,2,null,null,false,false);
    }
}

// Event handler for clicking on toolbar save
function onClickToolbarSave(e)
{
    if(this.parentNode.id)
        saveTiddler(this.parentNode.id.substr(7));
}

// Event handler for clicking on toolbar save
function onClickToolbarUndo(e)
{
    if(this.parentNode.id)
        displayTiddler(null,this.parentNode.id.substr(7),1,null,null,false,false);
}

var optionsOpen = false;

// Options button
function onClickOptions(e)
{
    if (!e) var e = window.event;
    var thePanel = document.getElementById("optionsPanel");
    optionsOpen = !optionsOpen;
    if(options.chkAnimate)
        startSlider(thePanel,optionsOpen,e.shiftKey || e.altKey,"none");
    else
        thePanel.style.display = optionsOpen ? "block" : "none";
    e.cancelBubble = true;
    if (e.stopPropagation) e.stopPropagation();
    return(false);
}

var lastSearchText = ""; // For keeping track of when the search text actually changes
var searchTimeout = null;

function onSearchKey(e)
{
    if (!e) var e = window.event;
    switch(e.keyCode)
        {
        case 27:
            onClearSearch();
            break;
        }
    var text = document.getElementById("searchText").value;
    if((text.length > 2) && (text != lastSearchText))
        {
        if(searchTimeout)
            clearTimeout(searchTimeout);
        searchTimeout = setTimeout("doSearch();",200);
        }
}

function doSearch()
{
    var text = document.getElementById("searchText").value;
    searchTiddlers(text,options.chkCaseSens,options.chkRegExp,false);
    lastSearchText = text;
}

function onClearSearch()
{
    var text = document.getElementById("searchText");
    text.value = "";
    clearMessage();
}

function onFocusSearch()
{
    var text = document.getElementById("searchText");
    text.select();
}

// Eek... it's bad that this is done via a function rather than a normal, copy-able href
function onClickPermaView()
{
    var wikiRegExp = new RegExp("^" + wikiNamePattern + "$","");
    var tiddlerDisplay = document.getElementById("tiddlerDisplay");
    var links = [];
    for(var t=0;t<tiddlerDisplay.childNodes.length;t++)
        {
        var tiddlerName = tiddlerDisplay.childNodes[t].id.substr(7);
        links.push(encodeTiddlyLink(tiddlerName));
        }
    window.location.hash = encodeURIComponent(links.join(" "));
}

function onClickSaveChanges()
{
    saveChanges(true);
}

// ---------------------------------------------------------------------------------
// Animation engine
// ---------------------------------------------------------------------------------

// Animation housekeeping
var animating = 0; // Incremented at start of each animation, decremented afterwards. If zero, the interval timer is disabled
var animaterID; // ID of the timer used for animating
// 'zoomer' module of the animation engine smoothly moves an element from the position/size of the start element to the target element
var zoomerElement = null; // Element being shifted; null if none
var zoomerStart; // Where we're shifting from
var zoomerTarget; // Where we're shifting to
var zoomerStartScroll; // Where we're scrolling from
var zoomerTargetScroll; // Where we're scrolling to
var zoomerProgress; // 0..1 of how far we are
var zoomerStep; // 0..1 of how much to shift each step
// 'slider' module of the animation engine slides an element smoothly open or closed
var sliderElement = null; // Element being slid open or closed; null if none
var sliderDeleteMode;
var sliderOpening; // True if the element is being opened
var sliderRealHeight; // Starting height
var sliderProgress; // 0..1 of how far we are
var sliderStep; // 0..1 of how much to shift each step

// Start animation engine
function startAnimating()
{
    if(animating++ == 0)
        animaterID = window.setInterval("doAnimate();",25);
}

// Stop animation engine
function stopAnimating()
{
    if(--animating == 0)
        window.clearInterval(animaterID)
}

// Perform an animation engine tick, calling each of the known animation modules
function doAnimate()
{
    if(zoomerElement)
        doZoomer();
    if(sliderElement)
        doSlider();
}

// Start moving the element 'e' from the position of the element 'start' to the position of the element 'target'
function startZoomer(e,start,target,slowly)
{
    stopZoomer();
    zoomerElement = e;
    zoomerStart = start;
    zoomerStartScroll = findScrollY();
    zoomerTargetScroll = ensureVisible(target);
    zoomerTarget = target;
    zoomerProgress = 0;
    zoomerStep = slowly ? 0.01 : 0.12;
    startAnimating();
}

// Stop any ongoing zoomer animation
function stopZoomer()
{
    if(zoomerElement)
        {
        stopAnimating();
        zoomerElement.style.display = "none";
        zoomerTarget.style.opacity = 1;
        window.scrollTo(0,zoomerTargetScroll);
        zoomerElement = null;
        }
}

// Perform a tick of the zoomer animation
function doZoomer()
{
    zoomerProgress += zoomerStep;
    if(zoomerProgress >= 1.0)
        stopZoomer();
    else
        {
        var f = slowInSlowOut(zoomerProgress);
        var zoomerStartLeft = findPosX(zoomerStart);
        var zoomerStartTop = findPosY(zoomerStart);
        var zoomerStartWidth = zoomerStart.offsetWidth;
        var zoomerStartHeight = zoomerStart.offsetHeight;
        var zoomerTargetLeft = findPosX(zoomerTarget);
        var zoomerTargetTop = findPosY(zoomerTarget);
        var zoomerTargetWidth = zoomerTarget.offsetWidth;
        var zoomerTargetHeight = zoomerTarget.offsetHeight;
        zoomerElement.style.left = zoomerStartLeft + (zoomerTargetLeft-zoomerStartLeft) * f;
        zoomerElement.style.top = zoomerStartTop + (zoomerTargetTop-zoomerStartTop) * f;
        zoomerElement.style.width = zoomerStartWidth + (zoomerTargetWidth-zoomerStartWidth) * f;
        zoomerElement.style.height = zoomerStartHeight + (zoomerTargetHeight-zoomerStartHeight) * f;
        zoomerElement.style.display = "block";
        zoomerTarget.style.opacity = zoomerProgress;
        window.scrollTo(0,zoomerStartScroll + (zoomerTargetScroll-zoomerStartScroll) * f);
        }
}

// Start sliding an element
// deleteMode - "none", "all" [delete target element and it's children], [only] "children" [but not the target element]
function startSlider(e,opening,slowly,deleteMode)
{
    stopSlider();
    sliderDeleteMode = deleteMode;
    sliderElement = e;
        sliderElement.style.display = "block";
    sliderElement.style.height = "auto";
    sliderRealHeight = sliderElement.offsetHeight;
    sliderOpening = opening;
    sliderStep = slowly ? 0.01 : 0.16;
    if(opening)
        {
        sliderProgress = 0;
        sliderElement.style.height = "2px";
        sliderElement.style.display = "block";
        }
    else
        {
        sliderStep = -sliderStep;
        sliderProgress = 1;
        }
    sliderElement.style.overflow = "hidden";
    startAnimating();
}

// Stop sliding the current element
function stopSlider()
{
    if(sliderElement)
        {
        stopAnimating();
        if(sliderOpening)
            sliderElement.style.height = "auto";
        else
            {
            switch(sliderDeleteMode)
                {
                case "none":
                    sliderElement.style.display = "none";
                    break;
                case "all":
                    sliderElement.parentNode.removeChild(sliderElement);
                    break;
                case "children":
                    while(sliderElement.hasChildNodes())
                        sliderElement.removeChild(sliderElement.firstChild);
                    break;
                }
            }
        sliderElement = null;
        }
}

// Perform a tick of the slider animation
function doSlider()
{
    sliderProgress += sliderStep;
    if((sliderProgress < 0) || (sliderProgress > 1.0))
        stopSlider();
    else
        {
        var f = slowInSlowOut(sliderProgress);
        var h = sliderRealHeight*f;
        sliderElement.style.height = (h <= 2) ? 2 : h;
        sliderElement.style.opacity = f;
        }
}

// ---------------------------------------------------------------------------------
// Standalone utility functions
// ---------------------------------------------------------------------------------

function escapeRegExp(s)
{
    // Escape any special RegExp characters with that character preceded by a backslash
    return(s.replace(new RegExp("[\\\\\\^\\$\\*\\+\\?\\(\\)\\=\\!\\|\\,\\{\\}\\[\\]\\.]","g"),"\\$&"));
}

// Return a date in UTC YYYYMMDDHHMM format
function convertToYYYYMMDDHHMM(d)
{
    return(zeroPad(d.getFullYear(),4) + zeroPad(d.getMonth()+1,2) + zeroPad(d.getDate(),2) + zeroPad(d.getHours(),2) + zeroPad(d.getMinutes(),2));
}

// Left-pad a string with 0s to a certain width
function zeroPad(n,d)
{
    var s = n.toString();
    if(s.length < d)
        s = "000000000000000000000000000".substr(0,d-s.length) + s;
    return(s);
}

// Return a date in UTC YYYYMMDD.HHMMSSMMM format
function convertToYYYYMMDDHHMMSSMMM(d)
{
    return(zeroPad(d.getFullYear(),4) + zeroPad(d.getMonth()+1,2) + zeroPad(d.getDate(),2) + "." + zeroPad(d.getHours(),2) + zeroPad(d.getMinutes(),2) + zeroPad(d.getSeconds(),2) + zeroPad(d.getMilliseconds(),4));
}

// Convert a date in UTC YYYYMMDDHHMM format to date type
function convertFromYYYYMMDDHHMM(d)
{
    var theDate = new Date(parseInt(d.substr(0,4),10),
                            parseInt(d.substr(4,2),10)-1,
                            parseInt(d.substr(6,2),10),
                            parseInt(d.substr(8,2),10),
                            parseInt(d.substr(10,2),10),0,0);
    return(theDate);
}

// Map a 0..1 value to 0..1, but slow down at the start and end
function slowInSlowOut(progress)
{
    return(1-((Math.cos(progress * Math.PI)+1)/2));
}

// Resolve the target object of an event
function resolveTarget(e)
{
    var obj;
    if (e.target)
        obj = e.target;
    else if (e.srcElement)
        obj = e.srcElement;
    if (obj.nodeType == 3) // defeat Safari bug
        obj = obj.parentNode;
    return(obj);
}

// Get the scroll position for window.scrollTo necessary to scroll a given element into view
function ensureVisible(e)
{
    var posTop = findPosY(e);
    var posBot = posTop + e.offsetHeight;
    var winTop = findScrollY();
    var winHeight = findWindowHeight();
    var winBot = winTop + winHeight;
    if(posTop < winTop)
        return(posTop);
    else if(posBot > winBot)
        {
        if(e.offsetHeight < winHeight)
            return(posTop - (winHeight - e.offsetHeight));
        else
            return(posTop);
        }
    else
        return(winTop);
}

function findWindowHeight()
{
    return(window.innerHeight ? window.innerHeight : document.body.clientHeight);
}

function findScrollY()
{
    return(window.scrollY ? window.scrollY : document.body.scrollTop);
}

// From QuirksMode.com
function findPosX(obj)
{
    var curleft = 0;
    if (obj.offsetParent)
    {
        while (obj.offsetParent)
        {
            curleft += obj.offsetLeft;
            obj = obj.offsetParent;
        }
    }
    else if (obj.x)
        curleft += obj.x;
    return curleft;
}

// From QuirksMode.com
function findPosY(obj)
{
    var curtop = 0;
    if (obj.offsetParent)
    {
        while (obj.offsetParent)
        {
            curtop += obj.offsetTop;
            obj = obj.offsetParent;
        }
    }
    else if (obj.y)
        curtop += obj.y;
    return curtop;
}

// Create a non-breaking space
function insertSpacer(place)
{
    place.appendChild(document.createTextNode(String.fromCharCode(160)));
}

function removeChildren(e)
{
    while(e.hasChildNodes())
        e.removeChild(e.firstChild);
}


// Add a stylesheet
function addStylesheet(s)
{
    try
        {
        if(document.createStyleSheet)
            {
            document.createStyleSheet("javascript:'" + s + "'");
            }
        else
            {
            var n = document.createElement("link");
            n.rel = "stylesheet";
            n.href = "data:text/css," + escape(s);
            document.getElementsByTagName("head")[0].appendChild(n);
            }
        }
    catch(e)
        {
        clearMessage();
        displayMessage("Error in StyleSheet: " + e.message);
        }
}

// ---------------------------------------------------------------------------------
// End of scripts
// ---------------------------------------------------------------------------------

</SCRIPT><STYLE type="text/css">
</STYLE><LINK rel="stylesheet" href="data:text/css,/*%20--------%20OVERALL%20--------%20*/%0A%0Abody%20%7B%0A%20%20%20color%3A%20%23000%3B%0A%20%20%20%20%20%20%20background-color%3A%20%23fff%3B%0A%20%20%20%20%20%20%20font-size%3A%2090%25%3B%0A%20%20%20%20%20%20%20font-family%3A%20%22frutiger%20linotype%22%2C%20verdana%2C%20arial%2C%20helvetica%2C%20sans-serif%3B%20%0A/*%20font-family%3A%20%22lucida%20sans%22%2C%20%22lucida%20grande%22%2C%20verdana%2C%20arial%2C%20helvetica%3B%20*/%0A%20%20%20%20%20%20%20%20margin%3A%200%3B%0A%20%20%20%20%20%20%20padding%3A%200%3B%0A%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%7D%0A%0Aa%3Alink%2C%20a%3Avisited%2C%20a%3Ahover%2C%20a%3Aactive%20%7B%0A%20%20%20%20text-decoration%3A%20none%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23storeArea%2C%20%23copyright%2C%20%23saveTest%20%7B%0A%20%20%20%20%20display%3A%20none%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20--------%20SITE%20MASTHEAD%20--------%20*/%0A%0A%23header%20%7B%0A%20%20margin-bottom%3A%201em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23titleLine%20%7B%0A%20%20%20%20%20%20%20color%3A%20%23666%3B%0A%20%20%20%20%20%20%20background-color%3A%20%23fff%3B%0A%20%20%20%20%20%20%20border-bottom%3A1px%20solid%20%23FFDF84%3B%0A%20%20%20%20%20%20font-family%3A%20Georgia%2C%20%22Palatino%20Linotype%22%2C%20Palatino%2C%20%22Book%20Antiqua%22%2C%20Times%2C%20%22Times%20New%20Roman%22%2C%20serif%3B%0A%20%20%20%20%20padding%3A%200.75em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23titleLine%20a%20%7B%0A%20%20%20%20%20%20color%3A%20%230080C4%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23titleLine%20a%3Ahover%2C%20%23titleLine%20a%3Afocus%2C%20%23titleLine%20a%3Aactive%20%7B%0A%20%20color%3A%20%2300A4FB%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23siteTitle%20%7B%0A%20%20%20%20%20%20%20font-size%3A%20180%25%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23siteSubtitle%20%7B%0A%20%20%20%20%20%20%20padding-left%3A%201em%3B%0A%20%20%20%20%20%20%20font-size%3A%20110%25%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20--------%20LEFT%20SIDEBAR%20--------%20*/%0A%0A%23leftside%20%7B%0A%20%20border-right%3A%201px%20solid%20%23FFDF84%3B%0A%20%20%20%20%20line-height%3A%20160%25%3B%0A%20%20%20%20%20%20%20padding%3A%200%201em%201em%200.5em%3B%0A%20%20%20%20width%3A%2014em%3B%0A%20%20%20%20%20%20%20float%3A%20left%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23mainMenu%2C%20%23tagMenuTitle%2C%20%23tagMenu%20%7B%0A%20%20%20%20%20width%3A%2013em%3B%0A%20%20%20%20%20%20%20padding%3A%200.5em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20main%20menu%20at%20top%20left%20---%20*/%0A%0A%23mainMenu%20%7B%0A%20%20%20%20%20%20%20text-align%3A%20right%3B%0A%20%20%20%20%20%20%20float%3A%20left%3B%0A%20%20%20%20%20%20%20padding%3A%200%200.5em%201em%200.5em%3B%0A%20%20%20%20margin-bottom%3A%200.75em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23mainMenu%20a%20%7B%0A%20%20%20%20%20%20color%3A%20%230080C4%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23mainMenu%20a%3Ahover%2C%20%23mainMenu%20a%3Afocus%20%7B%0A%20%20%20%20color%3A%20%2300A4FB%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20tag%20list%20area%20for%20finding%20tiddlers%20---%20*/%0A%0A%23tagMenuTitle%20%7B%20/*%20title%20for%20tags%20list%20*/%0A%20%20%20%20%20%20%20%20color%3A%20%23333%3B%0A%20%20%20%20%20%20%20/*%20background%3A%20%23FFFAE8%3B%20*/%0A%20%20%20%20%20border-bottom%3A%201px%20solid%20%23FFDF84%3B%0A%20%20%20%20%20font-weight%3A%20bold%3B%0A%20%20%20%20%20%20%20line-height%3A%20100%25%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23tagMenu%20%7B%20/*%20tag%20list%20area%20*/%0A%20%20color%3A%20%23666%3B%0A%20%20%20%20%20%20%20text-align%3A%20right%3B%0A%20%20%20%20%20%20%20margin-bottom%3A%200.75em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23tagMenu%20A%20%7B%0A%20%20%20%20%20%20color%3A%20%230080C4%3B%0A%20%20%20%20%20%20%20display%3A%20block%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23tagMenu%20a%3Ahover%2C%20%23tagMenu%20a%3Afocus%2C%20%23tagMenu%20a%3Aactive%20%7B%0A%20%20color%3A%20%2300A4FB%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20--------%20TIDDLER%20DISPLAY%20AREA%20--------%20*/%0A%0A/*%20---%20overall%20styles%20for%20tiddler%20display%20area%20---%20*/%0A%0A%23displayArea%20%7B%20/*%20contains%20all%20tiddlers%20on%20display%20*/%0A%20border-left%3A%201px%20solid%20%23FFDF84%3B%0A%20%20%20%20%20border-right%3A%201px%20solid%20%23FFDF84%3B%0A%20%20%20%20%20margin%3A%200%2016em%3B%0A%20%20%20%20%20%20%7D%0A%0A%23displayArea%20.externalLink%20%7B%0A%20%20%20%20%20%20text-decoration%3A%20underline%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23displayArea%20.tiddlyLinkExisting%20%7B%0A%20%20%20%20%20%20font-weight%3A%20bold%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23displayArea%20.tiddlyLinkNonExisting%20%7B%0A%20%20%20%20%20%20font-style%3A%20italic%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20for%20message%20area%20that%20appears%20when%20you%20save%20changes%20---%20*/%0A%0A%23messageArea%20%7B%0A%20%20%20background-color%3A%20%23FFF1C6%3B%0A%20%20%20%20%20%20%20color%3A%20%23333%3B%0A%20%20%20%20%20%20%20font-size%3A85%25%3B%0A%20%20%20%20%20%20%20%20padding%3A%200.75em%3B%0A%20%20%20%20%20%20%20display%3A%20none%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23messageArea%20a%3Alink%2C%20%23messageArea%20a%3Avisited%20%7B%0A%20%20%20%20color%3A%20%230080C4%3B%0A%20%20%20%20%20%20%20text-decoration%3A%20underline%3B%0A%20%20%20%20%20%20%20display%3A%20inline%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23messageArea%20a%3Ahover%2C%20%23messageArea%20a%3Aactive%20%7B%0A%20%20%20%20color%3A%20%2300A4FB%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20--------%20TIDDLER%20COMPONENTS%20--------%20*/%0A%0A.tiddler%20%7B%20/*%20layer%201%2C%20outermost%20*/%0A%20%20%20%20%20font-size%3A%20110%25%3B%0A%20%20%20%20%20%20%20padding%3A%200%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.innerTiddler%20%7B%20/*%20layer%202%20*/%0A%20%20padding%3A%201em%201em%200%201em%3B%0A%20%20%20%20%20%7D%0A%0A.body%20%7B%20/*%20layer%203%2C%20holds%20bodytext%20of%20tiddler%20*/%0A%20%20%20%20%20%20%20padding-top%3A%200.5em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20tiddler%20title%20---%20*/%0A%0A.title%20%7B%20/*%20layer%203%20*/%0A%20%20%20%20%20%20font-size%3A%20105%25%3B%0A%20%20%20%20%20%20%20font-weight%3A%20bold%3B%0A%20%20%20%20%20%20%20font-family%3A%20Georgia%2C%20%22Palatino%20Linotype%22%2C%20Palatino%2C%20%22Book%20Antiqua%22%2C%20Times%2C%20%22Times%20New%20Roman%22%2C%20serif%3B%0A%20%20%20%20%20float%3A%20left%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20tiddler%20toolbar%20---%20*/%0A%0A.toolbar%20%7B%20/*%20layer%203%20*/%0A%20%20%20%20%20%20color%3A%20%23666%3B%0A%20%20%20%20%20%20%20font-size%3A%2090%25%3B%0A%20%20%20%20%20%20%20font-weight%3A%20normal%3B%0A%20%20%20%20%20%20%20text-align%3A%20right%3B%0A%20%20%20%20%20%20%20padding%3A%200%3B%0A%20%20%20%20%20%20%20visibility%3A%20hidden%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.toolbar%20A%20%7B%0A%20%20%20%20%20%20color%3A%20%23666%3B%0A%20%20%20%20%20%20%20border%3A%201px%20dotted%20%23999%3B%0A%20%20%20%20%20padding%3A%200.15em%200.3em%3B%0A%20%20%20%20%20%20%7D%0A%0A.toolbar%20A%3Ahover%2C%20.toolbar%20A%3Aactive%20%7B%0A%20%20%20%20color%3A%20%230080C4%3B%0A%20%20%20%20%20%20%20border%3A%201px%20solid%20%2300A4FB%3B%0A%20%20%20%20%20font-weight%3A%20bold%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20tags%20line%20at%20bottom%20---%20*/%0A%0A.tags%20%7B%0A%20%20%20%20%20%20%20%20color%3A%20%23666%3B%0A%20%20%20%20%20%20%20font-size%3A%2090%25%3B%0A%20%20%20%20%20%20%20margin%3A%200.5em%200%3B%0A%20%20%20%20%20%20padding%3A%200%3B%0A%20%20%20%20%20%20%20visibility%3A%20hidden%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.tags%20a%20%7B%0A%20%20%20%20%20%20color%3A%20%230080C4%3B%0A%20%20%20%20%20%20%20padding%3A%200.2em%200.4em%3B%0A%20%20%20%20%20%20%7D%0A%0A.tags%20a%3Ahover%2C%20.tags%20a%3Afocus%2C%20.tags%20a%3Aactive%20%7B%0A%20%20color%3A%20%2300A4FB%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20--------%20TIDDLER%20VIEWING%20--------%20*/%0A%0A.viewer%20%7B%20/*%20layer%204%20*/%0A%20%20%20%20%20%20border-top%3A%202px%20solid%20%23FFC430%3B%0A%20%20%20%20%20line-height%3A%20140%25%3B%0A%20%20%20%20%20%20%20padding-top%3A%200.4em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20headings%20---%20*/%0A%0A.viewer%20h2%2C%20h3%2C%20h4%2C%20h5%2C%20h6%20%7B%0A%20%20%20%20%20%20color%3A%20%23DEA100%3B%0A%20%20%20%20%20%20%20font-weight%3A%20bold%3B%0A%20%20%20%20%20%20%20font-family%3A%20Georgia%2C%20%22Palatino%20Linotype%22%2C%20Palatino%2C%20%22Book%20Antiqua%22%2C%20Times%2C%20%22Times%20New%20Roman%22%2C%20serif%3B%0A%20%20%20%20%20padding-left%3A%200.5em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.viewer%20h2%20%7B%0A%20%20%20%20%20%20font-size%3A%20125%25%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.viewer%20h3%20%7B%0A%20%20%20%20%20%20font-size%3A%20110%25%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.viewer%20h4%20%7B%0A%20%20%20%20%20%20font-size%3A%20100%25%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.viewer%20h5%20%7B%0A%20%20%20%20%20%20font-size%3A%2095%25%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.viewer%20h6%20%7B%0A%20%20%20%20%20%20font-size%3A%2085%25%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20links%20---%20*/%0A%0A.viewer%20a%20%7B%0A%20%20color%3A%20%230080C4%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.viewer%20a%3Ahover%2C%20.viewer%20a%3Afocus%2C%20.viewer%20a%3Aactive%20%7B%0A%20%20color%3A%20%2300A4FB%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.viewer%20a.externalLink%3Avisited%20%7B%0A%20%20%20%20%20%20color%3A%20%23DE5F00%3B%0A%20%20%20%20%20%20%20%7D%20%20%20%20%20%20%20%20%0A%0A/*%20---%20lists%20---%20*/%0A%0A.viewer%20ol%20%7B%0A%20%20margin-left%3A%200.5em%3B%0A%20%20%20%20%20%20%20padding-left%3A%201.5em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.viewer%20ul%20%7B%0A%20%20%20%20%20%20margin-left%3A%200.5em%3B%0A%20%20%20%20%20%20%20padding-left%3A%201.5em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20miscellaneous%20---%20*/%0A%0A.viewer%20blockquote%20%7B%0A%20%20border-left%3A%203px%20solid%20%23666%3B%0A%20%20%20%20%20font-size%3A%2092%25%3B%0A%20%20%20%20%20%20%20line-height%3A%20150%25%3B%0A%20%20%20%20%20%20%20margin-left%3A%202em%3B%0A%20%20%20%20%20%20%20padding-left%3A%200.8em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.viewer%20blockquote%20blockquote%20%7B%0A%20%20%20%20%20font-size%3A%20100%25%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.viewer%20hr%20%7B%0A%20%20%20%20%20%20color%3A%20%23666%3B%0A%20%20%20%20%20%20%20border%3A%20none%3B%0A%20%20%20%20%20%20%20border-top%3A%20dashed%201px%20%23606060%3B%0A%20%20%20%20%20height%3A%201px%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.viewer%20pre%2C%20.viewer%20code%20%7B%0A%20%20%20%20color%3A%20%23666%3B%0A%20%20%20%20%20%20%20font-size%3A%2090%25%3B%0A%20%20%20%20%20%20%20font-family%3A%22lucida%20sans%20typewriter%22%2C%20%22andale%20mono%22%2C%20%22lucida%20console%22%2C%20monospace%3B%0A%20line-height%3A%201.4em%3B%0A%20%20%20%20%20%20%20overflow%3A%20auto%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20tables%20---%20*/%0A%0A.viewer%20table%20%7B%0A%20%20border%3A%201px%20solid%20%23333%3B%0A%20%20%20%20%20border-collapse%3A%20collapse%3B%0A%20%20%20%20%20%20%20font-size%3A%2090%25%3B%0A%20%20%20%20%20%20%20margin%3A%200.8em%201em%0A%20%20%20%20%20%20%7D%0A%0A.viewer%20th%20%7B%0A%20%20%20%20%20%20color%3A%20%23000%3B%0A%20%20%20%20%20%20%20background-color%3A%20%23FFF1C6%3B%0A%20%20%20%20%20%20%20border%3A%201px%20dotted%20%23666%3B%0A%20%20%20%20%20border-bottom%3A%201px%20solid%20%23333%3B%0A%20%20%20%20%20padding%3A%200.2em%200.4em%3B%0A%20%20%20%20%20%20%7D%0A%0A.viewer%20td%2C%20tr%20%7B%0A%20%20%20%20%20border%3A%201px%20dotted%20%23666%3B%0A%20%20%20%20%20padding%3A%200.2em%200.4em%3B%0A%20%20%20%20%20%20%7D%0A%0A.viewer%20caption%20%7B%0A%20%20%20%20%20%20background%3A%20%23FFF7DE%3B%0A%20%20%20%20%20%20%20padding%3A%200.15em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20--------%20TIDDLER%20EDITING%20--------%20*/%0A%0A.editor%20input%20%7B%0A%20border%3A%201px%20solid%20%23666%3B%0A%20%20%20%20%20display%3A%20block%3B%0A%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.editor%20textarea%20%7B%0A%20%20%20%20%20%20border%3A%201px%20solid%20%23666%3B%0A%20%20%20%20%20font%3A%2090%25/130%25%20%22andale%20mono%22%2C%20%22lucida%20console%22%2C%20%22bitstream%20vera%20sans%20mono%22%2C%20monospace%20%21important%3B%0A%20%20%20%20%20height%3A%2020em%3B%0A%20%20%20%20%20%20%20display%3A%20block%3B%0A%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20margin%3A%200.5em%200%3B%0A%20%20%20%20%20%20%7D%0A%0A.editor%20input%3Ahover%2C%20.editor%20input%3Afocus%2C%20.editor%20textarea%3Ahover%20%7B%0A%20%20border%3A%201px%20solid%20%23FFC430%3B%0A%20%20%20%20%20%7D%0A%0A.editorPrompt%20%7B%20/*%20help%20tip%20on%20how%20to%20type%20tags%20*/%0A%20%20%20%20%20%20color%3A%20%23666%3B%0A%20%20%20%20%20%20%20font-size%3A%2085%25%3B%0A%20%20%20%20%20%20%20margin%3A%200.3em%200%3B%0A%20%20%20%20%20%20%7D%0A%0A/*%20---%20RIGHT%20SIDEBAR%20---%20*/%0A/*%20---%20starting%20at%20the%20top%20and%20going%20down%20---%20*/%0A%0A%23sidebar%20%7B%0A%20%20%20%20%20%20%20%20color%3A%20%23666%3B%0A%20%20%20%20%20%20%20border-left%3A%201px%20solid%20%23FFDF84%3B%0A%20%20%20%20%20line-height%3A%20140%25%3B%0A%20%20%20%20%20%20%20padding%3A%200%200.5em%201em%201em%3B%0A%20%20%20%20float%3A%20right%3B%0A%20%20%20%20%20%20%20width%3A%2014em%3B%0A%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20tiddlywiki%20command%20block%20---%20*/%0A%0A%23commandPanel%20%7B%0A%20background-color%3A%20%23fff%3B%0A%20%20%20%20%20%20%20border-bottom%3A%201px%20solid%20%23FFDF84%3B%0A%20%20%20%20%20padding-top%3A%200.5em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23commandPanel%20A%20%7B%0A%20%20%20%20%20%20color%3A%20%230080C4%3B%0A%20%20%20%20%20%20%20display%3A%20block%3B%0A%20%20%20%20%20%20%20padding%3A%200.2em%200.2em%200.2em%200.5em%3B%0A%20%20%20%20%7D%0A%0A%23commandPanel%20A%3Ahover%2C%20%23commandPanel%20A%3Afocus%20%7B%0A%20%20%20%20color%3A%20%2300A4FB%3B%0A%20%20%20%20%20%20%20background-color%3A%20%23FFF1C6%3B%0A%20%20%20%20%20%20%20font-weight%3Abold%3B%0A%20%20%20%20%20%20%20%20text-decoration%3A%20none%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23commandPanel%20A%3Aactive%20%7B%0A%20%20%20%20%20%20color%3A%20%2300A4FB%3B%0A%20%20%20%20%20%20%20background-color%3A%20%23FFF1C6%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23commandPanel%20input%20%7B%0A%20%20%20%20%20%20border%3A%201px%20solid%20%23FFDF84%3B%0A%20%20%20%20%20margin%3A%200.4em%200%200.3em%200.5em%3B%0A%20%20%20%20%7D%0A%0A/*%20---%20options%20block%20%28usually%20hidden%29%20---%20*/%0A%0A%23optionsPanel%20%7B%0A%20%20%20%20%20%20%20%20background-color%3A%20%23FFF7DE%3B%0A%20%20%20%20%20%20%20border%3A%201px%20solid%20%23FFDF84%3B%0A%20%20%20%20%20font-size%3A%2090%25%3B%0A%20%20%20%20%20%20%20line-height%3A130%25%3B%0A%20%20%20%20%20%20%20%20display%3A%20none%3B%0A%20%20%20%20%20%20%20padding%3A%200.5em%200.5em%200.5em%200.5em%3B%0A%20%20%20%20%7D%0A%0A%23optionsPanel%20a%3Alink%2C%20%23optionsPanel%20a%3Avisited%20%7B%0A%20%20%20%20color%3A%20%230080C4%3B%0A%20%20%20%20%20%20%20font-weight%3A%20bold%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23optionsPanel%20a%3Ahover%20%7B%0A%20%20%20%20%20%20color%3A%20%2300A4FB%3B%0A%20%20%20%20%20%20%20text-decoration%3A%20none%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23optionsPanel%20input%20%7B%0A%20%20%20%20%20%20border%3A%201px%20solid%20%23FFDF84%3B%0A%20%20%20%20%20margin%3A%200.4em%200%200.3em%201em%3B%0A%20%20%20%20%7D%0A%0A.optionsText%20%7B%0A%20%20%20%20%20%20%20margin-top%3A%200.25em%3B%0A%20%20%20%20%20%20%20margin-bottom%3A%200.75em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.optionsItem%20%7B%0A%20%20%20%20%20%20%20font-size%3A%2090%25%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20tabs%20for%20right%20sidebar%20---%20*/%0A%0A%23sidebarTabs%20%7B%0A%20%20%20%20%20%20%20%20padding%3A%201.5em%200%200%200.5em%3B%0A%20%20%20%20margin-bottom%3A-1px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%23sidebarTabs%20a%20%7B%0A%20%20%20%20%20%20color%3A%20%23505050%3B%0A%20%20%20%20%20%20%20border-top%3A%204px%20solid%20transparent%3B%0A%20%20%20%20%20border-right%3A%201px%20solid%20transparent%3B%0A%20%20%20%20%20border-left%3A%201px%20solid%20transparent%3B%0A%20%20%20%20%20font-weight%3A%20bold%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23sidebarTabs%20a%3Ahover%2C%20%23sidebarTabs%20a%3Afocus%2C%20%23sidebarTabs%20a%3Aactive%20%7B%0A%20%20color%3A%20%23000%3B%0A%20%20%20%20%20%20%20border-top%3A%204px%20solid%20%23FFC430%3B%0A%20%20%20%20%20border-right%3A%201px%20solid%20%23FFC430%3B%0A%20%20%20%20%20border-left%3A%201px%20solid%20%23FFC430%3B%0A%20%20%20%20%20text-decoration%3A%20none%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23tabTimeline%2C%20%23tabTags%2C%20%23tabMore%20%7B%0A%20%20%20%20%20font-size%3A%2095%25%3B%0A%20%20%20%20%20%20%20display%3A%20inline%3B%0A%20%20%20%20%20%20%20padding%3A%202px%203px%202px%203px%3B%0A%20%20%20%20margin%3A%200%202px%3B%0A%20%20%20%20%20%20%7D%0A%0A%23tabTimeline%2C%20.tabContentTimeline%20%7B%0A%20%20%20%20%20%20background-color%3A%20%23FBF6E4%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23tabTags%2C%20.tabContentTags%20%7B%0A%20%20%20%20%20%20background-color%3A%20%23F2F2F0%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23tabMore%2C%20.tabContentMore%20%7B%0A%20%20%20%20%20%20background-color%3A%20%23EAF8FD%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20for%20contents%20shown%20when%20you%20select%20a%20tab%20---%20*/%0A%0A%23sidebarContent%20%7B%0A%20%20%20%20font-size%3A90%25%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%23sidebarContent%20a%20%7B%0A%20%20%20%20%20%20color%3A%20%230080C4%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23sidebarContent%20a%3Ahover%20%7B%0A%20%20%20%20%20%20color%3A%20%2300A4FB%3B%0A%20%20%20%20%20%20%20background-color%3A%20%23fff%3B%0A%20%20%20%20%20%20%20text-decoration%3A%20none%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.tabContentTimeline%2C%20.tabContentTags%2C%20.tabContentMore%20%7B%0A%20%20%20%20%20padding%3A%200.5em%3B%0A%20%20%20%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.sidebarSubHeading%20%7B%20/*%20dates%20in%20timeline%20*/%0A%20%20color%3A%20%23666%3B%0A%20%20%20%20%20%20%20border-bottom%3A%201px%20solid%20%23FFC430%3B%0A%20%20%20%20%20font-size%3A%20110%25%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.tabContentMorePrompt%20%7B%20/*%20affects%20dropdown%20and%20help%20tip%20in%20more%20tab%20*/%0A%20%20%20%20%20color%3A%20%23666%3B%0A%20%20%20%20%20%20%20padding%3A%200.5em%200%200.75em%200%3B%0A%20%20%20%20%7D%0A%0A/*%20---%20affects%20popup%20menu%20from%20clicking%20tag%20---%20*/%0A%0A%23popup%20%7B%0A%20%20%20%20%20%20background-color%3A%20%23fff%3B%0A%20%20%20%20%20%20%20border%3A%201px%20solid%20%23ccc%3B%0A%20%20%20%20%20border-left%3A%203px%20solid%20%23FFDF84%3B%0A%20%20%20%20%20display%3A%20none%3B%0A%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20padding%3A%200.5em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23popup%20a%20%7B%0A%20%20%20%20%20%20color%3A%20%230080C4%3B%0A%20%20%20%20%20%20%20display%3A%20block%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23popup%20a%3Ahover%20%7B%0A%20%20%20%20%20%20color%3A%20%23fff%3B%0A%20%20%20%20%20%20%20background-color%3A%20%2300A4FB%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20---%20for%20license%20panel%20at%20very%20bottom%20---%20*/%0A%0A%23licensePanel%20%7B%0A%20%20%20%20%20%20font-size%3A%2085%25%3B%0A%20%20%20%20%20%20%20padding-top%3A%201em%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23licensePanel%20A%20%7B%0A%20%20%20%20%20%20color%3A%20%23666%3B%0A%20%20%20%20%20%20%20display%3A%20block%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23licensePanel%20A%3Ahover%2C%20%23licensePanel%20A%3Aactive%20%7B%0A%20%20%20%20color%3A%20%230080C4%3B%0A%20%20%20%20%20%20%20text-decoration%3A%20none%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20--------%20UNKNOWN%20FUNCTION%20--------%20*/%0A%0A.hide%20%7B%0A%20%20border%3A%206px%20dashed%20red%3B%0A%20%20%20%20%20display%3A%20inline%3B%0A%20%20%20%20%20%20%20float%3A%20right%3B%0A%20%20%20%20%20%20%20%7D%0A%0A.highlight%2C%20.marked%20%7B%0A%20%20%20%20%20%20color%3A%20%23000000%3B%0A%20%20%20%20%20%20%20background-color%3A%20%23ffe72f%3B%0A%20%20%20%20%20%20%20border%3A%206px%20dashed%20red%3B%0A%20%20%20%20%20%7D%0A%0A/*%20---%20I%20believe%20this%20is%20related%20to%20the%20zooming%20box%20animation%20---%20*/%0A%0A%23floater%20%7B%0A%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20background-color%3A%20%23E8E8E8%3B%0A%20%20%20%20%20%20%20font-size%3A%20100%25%3B%0A%20%20%20%20%20%20%20display%3A%20none%3B%0A%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20padding%3A%201em%3B%0A%20%20%20%20%20%20%20opacity%3A%200.5%3B%0A%20%20%20%20%20%20%20filter%3A%20alpha%28opacity%3D50%29%3B%0A%20%20%20%20%20%20%20%7D%0A%0A/*%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20Stuff%20to%20hide%20when%20printing%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20*/%0A%0A@media%20print%20%7B%0A%0A%23titleLine%20%7B%0A%20%20%20%20%20display%3A%20none%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23displayArea%20%7B%0A%20%20%20%20%20%20%20margin%3A%201em%201em%200%201em%3B%0A%20%20%20%20%7D%0A%0A%23mainMenu%20%7B%0A%20%20%20%20%20%20%20display%3A%20none%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%23leftside%20%7B%0A%20%20%20%20%20%20%20display%3Anone%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%23sidebar%20%7B%0A%20%20%20%20%20%20%20display%3A%20none%3B%0A%20%20%20%20%20%20%20%7D%0A%7D%0A"></HEAD><BODY onload="main()">
    <DIV id="copyright">    Welcome to TiddlyWiki by Jeremy Ruston, Copyright ¬© 2005 Osmosoft Limited
    </DIV>
    <DIV id="saveTest">savetest</DIV>
    <DIV id="header">        <DIV id="titleLine">            <SPAN id="siteTitle">House Ideas</SPAN>
            <SPAN id="siteSubtitle">For buying or building</SPAN>
        </DIV>
    </DIV>
    <DIV id="sidebar">        <DIV id="commandPanel">            <A href="JavaScript:;" onclick="doSearch()" title="Search this TiddlyWiki">search</A>
            <INPUT id="searchText" size="15" onkeyup="onSearchKey(event)" onfocus="onFocusSearch(event)" autocomplete="off" title="Search this TiddlyWiki">
            <A href="javascript:;" onclick="closeAllTiddlers(event)" title="Close all displayed tiddlers (except any that are being edited)">close all</A>
            <A href="javascript:;" onclick="foldAllTiddlers(event)" title="Fold all displayed tiddlers (except any that are being edited)">fold all</A>
            <A href="javascript:;" onclick="unfoldAllTiddlers(event)" title="Unfold all displayed tiddlers (except any that are being edited)">unfold all</A>
            <A href="javascript:;" onclick="onClickPermaView(event)" title="Link to an URL that retrieves all the currently displayed tiddlers">permaview</A>
            <A href="javascript:;" onclick="onClickSaveChanges(event)" title="Save all tiddlers to create a new TiddlyWiki">save changes</A>
            <A href="javascript:;" onclick="onClickOptions(event)" title="Change TiddlyWikiOptions">options</A>
        </DIV>
        <DIV id="optionsPanel">            <DIV class="optionsText">These
                <A href="javascript:;" tiddlylink="InterfaceOptions" onclick="onClickTiddlerLink(event);">InterfaceOptions</A>
                for customising
                <A href="javascript:;" tiddlylink="TiddlyWiki" onclick="onClickTiddlerLink(event);">TiddlyWiki</A>
                are saved in your browser
            </DIV>
            <DIV class="optionsText">Your username for signing your edits. Write it as a
                <A href="javascript:;" tiddlylink="WikiWord" onclick="onClickTiddlerLink(event);">WikiWord</A>
                (eg
                <A href="javascript:;" tiddlylink="JoeBloggs" onclick="onClickTiddlerLink(event);">JoeBloggs</A>)
            </DIV>
            <INPUT id="txtUserName" size="15" onkeyup="onChangeOption(event)" autocomplete="off">
            <DIV class="optionsItem"><INPUT type="checkbox" onclick="onChangeOption(event);" id="chkSaveBackups">
                <A href="javascript:;" tiddlylink="SaveBackups" onclick="onClickTiddlerLink(event);">SaveBackups</A>
            </DIV>
            <DIV class="optionsItem"><INPUT type="checkbox" onclick="onChangeOption(event);" id="chkAutoSave">
                <A href="javascript:;" tiddlylink="AutoSave" onclick="onClickTiddlerLink(event);">AutoSave</A>
            </DIV>
            <DIV class="optionsItem"><INPUT type="checkbox" onclick="onChangeOption(event);" id="chkAutoSaveMessage">
                <A href="javascript:;" tiddlylink="AutoSaveMessage" onclick="onClickTiddlerLink(event);">AutoSaveMessage</A>
            </DIV>
            <DIV class="optionsItem"><INPUT type="checkbox" onclick="onChangeOption(event);" id="chkGenerateAnRssFeed">
                <A href="javascript:;" tiddlylink="GenerateAnRssFeed" onclick="onClickTiddlerLink(event);">GenerateAnRssFeed</A>
            </DIV>
            <DIV class="optionsItem"><INPUT type="checkbox" onclick="onChangeOption(event);" id="chkSaveEmptyTemplate">
                <A href="javascript:;" tiddlylink="SaveEmptyTemplate" onclick="onClickTiddlerLink(event);">SaveEmptyTemplate</A>
            </DIV>
            <DIV class="optionsItem"><INPUT type="checkbox" onclick="onChangeOption(event);" id="chkRegExp">
                <A href="javascript:;" tiddlylink="RegExpSearch" onclick="onClickTiddlerLink(event);">RegExpSearch</A>
            </DIV>
            <DIV class="optionsItem"><INPUT type="checkbox" onclick="onChangeOption(event);" id="chkCaseSens">
                <A href="javascript:;" tiddlylink="CaseSensitiveSearch" onclick="onClickTiddlerLink(event);">CaseSensitiveSearch</A>
            </DIV>
            <DIV class="optionsItem"><INPUT type="checkbox" onclick="onChangeOption(event);" id="chkAnimate">
                <A href="javascript:;" tiddlylink="EnableAnimations" onclick="onClickTiddlerLink(event);">EnableAnimations</A>
            </DIV>
            <DIV class="optionsItem"><INPUT type="checkbox" onclick="onChangeOption(event);" id="chkFoldedSearch">
                <A href="javascript:;" tiddlylink="FoldedSearch" onclick="onClickTiddlerLink(event);">FoldedSearch</A>
            </DIV>
        </DIV>
        <DIV id="sidebarTabs">            <A href="JavaScript:;" onclick="onClickTab(event)" id="tabTimeline">Timeline</A>
            <A href="JavaScript:;" onclick="onClickTab(event)" id="tabTags">Tags</A>
            <A href="JavaScript:;" onclick="onClickTab(event)" id="tabMore">More</A>
        </DIV>
        <DIV id="sidebarContent" class="tabContentTimeline"><SPAN class="sidebarSubHeading">25 June 2005</SPAN><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 25 June 2005 01:50:00 BDT" class="tiddlyLinkExisting" tiddlylink="Large bathrooms">Large bathrooms</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 25 June 2005 01:48:00 BDT" class="tiddlyLinkExisting" tiddlylink="Ease of maintenance">Ease of maintenance</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 25 June 2005 01:47:00 BDT" class="tiddlyLinkExisting" tiddlylink="Garage">Garage</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 25 June 2005 01:38:00 BDT" class="tiddlyLinkExisting" tiddlylink="SiteSubtitle">SiteSubtitle</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 25 June 2005 01:36:00 BDT" class="tiddlyLinkExisting" tiddlylink="SiteTitle">SiteTitle</A><BR><SPAN class="sidebarSubHeading">24 June 2005</SPAN><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 24 June 2005 23:18:00 BDT" class="tiddlyLinkExisting" tiddlylink="StyleSheet">StyleSheet</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 24 June 2005 23:16:00 BDT" class="tiddlyLinkExisting" tiddlylink="Get your own copy">Get your own copy</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 24 June 2005 23:15:00 BDT" class="tiddlyLinkExisting" tiddlylink="ExternalLinks">ExternalLinks</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 24 June 2005 23:13:00 BDT" class="tiddlyLinkExisting" tiddlylink="Welcome to YATWA">Welcome to YATWA</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 24 June 2005 23:10:00 BDT" class="tiddlyLinkExisting" tiddlylink="DefaultTiddlers">DefaultTiddlers</A><BR><SPAN class="sidebarSubHeading">21 June 2005</SPAN><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 21 June 2005 01:21:00 BDT" class="tiddlyLinkExisting" tiddlylink="MainMenu">MainMenu</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 21 June 2005 01:20:00 BDT" class="tiddlyLinkExisting" tiddlylink="Tables">Tables</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 21 June 2005 01:20:00 BDT" class="tiddlyLinkExisting" tiddlylink="Preformatted blocks">Preformatted blocks</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 21 June 2005 01:20:00 BDT" class="tiddlyLinkExisting" tiddlylink="Multi-level quotes">Multi-level quotes</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 21 June 2005 01:20:00 BDT" class="tiddlyLinkExisting" tiddlylink="Horizontal rules">Horizontal rules</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 21 June 2005 01:20:00 BDT" class="tiddlyLinkExisting" tiddlylink="Numbered Lists">Numbered Lists</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 21 June 2005 01:11:00 BDT" class="tiddlyLinkExisting" tiddlylink="Headings & Sub-headings">Headings &amp; Sub-headings</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 21 June 2005 01:11:00 BDT" class="tiddlyLinkExisting" tiddlylink="Embedded images">Embedded images</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 21 June 2005 01:11:00 BDT" class="tiddlyLinkExisting" tiddlylink="Character formatting">Character formatting</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 21 June 2005 01:10:00 BDT" class="tiddlyLinkExisting" tiddlylink="Bullet lists">Bullet lists</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 21 June 2005 01:10:00 BDT" class="tiddlyLinkExisting" tiddlylink="Block quotes">Block quotes</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 21 June 2005 01:08:00 BDT" class="tiddlyLinkExisting" tiddlylink="Formatting">Formatting</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 21 June 2005 01:07:00 BDT" class="tiddlyLinkExisting" tiddlylink="Upgrade YATWA">Upgrade YATWA</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 21 June 2005 01:04:00 BDT" class="tiddlyLinkExisting" tiddlylink="LinkToTiddlers">LinkToTiddlers</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 21 June 2005 01:01:00 BDT" class="tiddlyLinkExisting" tiddlylink="SaveChanges">SaveChanges</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 21 June 2005 00:54:00 BDT" class="tiddlyLinkExisting" tiddlylink="About YATWA">About YATWA</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 21 June 2005 00:52:00 BDT" class="tiddlyLinkExisting" tiddlylink="AutoSaveMessage">AutoSaveMessage</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 21 June 2005 00:52:00 BDT" class="tiddlyLinkExisting" tiddlylink="AutoSave">AutoSave</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 21 June 2005 00:50:00 BDT" class="tiddlyLinkExisting" tiddlylink="SaveBackups">SaveBackups</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 21 June 2005 00:49:00 BDT" class="tiddlyLinkExisting" tiddlylink="HowTo">HowTo</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 21 June 2005 00:47:00 BDT" class="tiddlyLinkExisting" tiddlylink="YATWA Preferences">YATWA Preferences</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 21 June 2005 00:41:00 BDT" class="tiddlyLinkExisting" tiddlylink="Bugs">Bugs</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 21 June 2005 00:40:00 BDT" class="tiddlyLinkExisting" tiddlylink="What's next?">What's next?</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 21 June 2005 00:39:00 BDT" class="tiddlyLinkExisting" tiddlylink="FoldedSearch">FoldedSearch</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 21 June 2005 00:30:00 BDT" class="tiddlyLinkExisting" tiddlylink="Folding">Folding</A><BR><SPAN class="sidebarSubHeading">20 June 2005</SPAN><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 07:54:00 BDT" class="tiddlyLinkExisting" tiddlylink="Drafting table">Drafting table</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 07:53:00 BDT" class="tiddlyLinkExisting" tiddlylink="Multiple desks">Multiple desks</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 07:50:00 BDT" class="tiddlyLinkExisting" tiddlylink="Noise zones">Noise zones</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 07:48:00 BDT" class="tiddlyLinkExisting" tiddlylink="Variable lighting">Variable lighting</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 07:45:00 BDT" class="tiddlyLinkExisting" tiddlylink="Controlled daylight">Controlled daylight</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 07:44:00 BDT" class="tiddlyLinkExisting" tiddlylink="Dressing table">Dressing table</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 07:32:00 BDT" class="tiddlyLinkExisting" tiddlylink="Gift wrap center">Gift wrap center</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 07:31:00 BDT" class="tiddlyLinkExisting" tiddlylink="Two kitchen sinks">Two kitchen sinks</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 07:30:00 BDT" class="tiddlyLinkExisting" tiddlylink="Unbreakable dishes">Unbreakable dishes</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 07:28:00 BDT" class="tiddlyLinkExisting" tiddlylink="Easy-care yard">Easy-care yard</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 07:23:00 BDT" class="tiddlyLinkExisting" tiddlylink="Clutter-free">Clutter-free</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 07:16:00 BDT" class="tiddlyLinkExisting" tiddlylink="Heat pump">Heat pump</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 07:10:00 BDT" class="tiddlyLinkExisting" tiddlylink="Front hall">Front hall</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 06:59:00 BDT" class="tiddlyLinkExisting" tiddlylink="Drop zones">Drop zones</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 06:56:00 BDT" class="tiddlyLinkExisting" tiddlylink="Kick vacuum">Kick vacuum</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 06:47:00 BDT" class="tiddlyLinkExisting" tiddlylink="Intelligent climate controls">Intelligent climate controls</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 06:37:00 BDT" class="tiddlyLinkExisting" tiddlylink="Lightswitch sensors">Lightswitch sensors</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 06:35:00 BDT" class="tiddlyLinkExisting" tiddlylink="Ramps and elevator">Ramps and elevator</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 06:33:00 BDT" class="tiddlyLinkExisting" tiddlylink="Pleasant mechanical room">Pleasant mechanical room</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 06:28:00 BDT" class="tiddlyLinkExisting" tiddlylink="Easily accessible">Easily accessible</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 06:27:00 BDT" class="tiddlyLinkExisting" tiddlylink="Stepstools">Stepstools</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 06:26:00 BDT" class="tiddlyLinkExisting" tiddlylink="Accessible tools">Accessible tools</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 03:20:00 BDT" class="tiddlyLinkExisting" tiddlylink="Plate racks">Plate racks</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 03:17:00 BDT" class="tiddlyLinkExisting" tiddlylink="Large bathtub">Large bathtub</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 02:55:00 BDT" class="tiddlyLinkExisting" tiddlylink="Splashproofness">Splashproofness</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 02:51:00 BDT" class="tiddlyLinkExisting" tiddlylink="Sensible faucets">Sensible faucets</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 20 June 2005 02:47:00 BDT" class="tiddlyLinkExisting" tiddlylink="Handshower">Handshower</A><BR><SPAN class="sidebarSubHeading">19 June 2005</SPAN><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 23:03:00 BDT" class="tiddlyLinkExisting" tiddlylink="Lever door handles">Lever door handles</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 02:32:00 BDT" class="tiddlyLinkExisting" tiddlylink="Easy-clean cooktop">Easy-clean cooktop</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 02:30:00 BDT" class="tiddlyLinkExisting" tiddlylink="Living machine">Living machine</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 02:25:00 BDT" class="tiddlyLinkExisting" tiddlylink="Clothesline">Clothesline</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 02:20:00 BDT" class="tiddlyLinkExisting" tiddlylink="No cabinets over kitchen sink">No cabinets over kitchen sink</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 02:17:00 BDT" class="tiddlyLinkExisting" tiddlylink="Dirty dishes zone">Dirty dishes zone</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 02:13:00 BDT" class="tiddlyLinkExisting" tiddlylink="Temperate basement">Temperate basement</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 02:10:00 BDT" class="tiddlyLinkExisting" tiddlylink="Exercise area">Exercise area</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 02:08:00 BDT" class="tiddlyLinkExisting" tiddlylink="Soundproof room">Soundproof room</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 02:06:00 BDT" class="tiddlyLinkExisting" tiddlylink="Bicycle storage">Bicycle storage</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 02:02:00 BDT" class="tiddlyLinkExisting" tiddlylink="Mail processing station">Mail processing station</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 01:59:00 BDT" class="tiddlyLinkExisting" tiddlylink="House office">House office</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 01:54:00 BDT" class="tiddlyLinkExisting" tiddlylink="Filing cabinets">Filing cabinets</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 01:48:00 BDT" class="tiddlyLinkExisting" tiddlylink="Trapped on the toilet">Trapped on the toilet</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 01:46:00 BDT" class="tiddlyLinkExisting" tiddlylink="Tupperware drawers">Tupperware drawers</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 01:44:00 BDT" class="tiddlyLinkExisting" tiddlylink="Efficient storage">Efficient storage</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 01:44:00 BDT" class="tiddlyLinkExisting" tiddlylink="Pot and pan drawers">Pot and pan drawers</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 01:41:00 BDT" class="tiddlyLinkExisting" tiddlylink="Modern dishwasher">Modern dishwasher</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 01:39:00 BDT" class="tiddlyLinkExisting" tiddlylink="Composting system">Composting system</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 01:38:00 BDT" class="tiddlyLinkExisting" tiddlylink="Clothes belong in closets">Clothes belong in closets</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 01:38:00 BDT" class="tiddlyLinkExisting" tiddlylink="Cabinet accessories">Cabinet accessories</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 01:37:00 BDT" class="tiddlyLinkExisting" tiddlylink="Bottom-freezer fridge">Bottom-freezer fridge</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 01:37:00 BDT" class="tiddlyLinkExisting" tiddlylink="Appliance garages">Appliance garages</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 01:33:00 BDT" class="tiddlyLinkExisting" tiddlylink="Janitorial closet">Janitorial closet</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 01:25:00 BDT" class="tiddlyLinkExisting" tiddlylink="Lots of bookshelves">Lots of bookshelves</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 01:18:00 BDT" class="tiddlyLinkExisting" tiddlylink="Linen closets">Linen closets</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 01:14:00 BDT" class="tiddlyLinkExisting" tiddlylink="Tub shelves">Tub shelves</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 00:57:00 BDT" class="tiddlyLinkExisting" tiddlylink="Separate pantry">Separate pantry</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 00:50:00 BDT" class="tiddlyLinkExisting" tiddlylink="Rearrange clothes seasonally">Rearrange clothes seasonally</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 19 June 2005 00:00:00 BDT" class="tiddlyLinkExisting" tiddlylink="Workshop">Workshop</A><BR><SPAN class="sidebarSubHeading">18 June 2005</SPAN><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 23:43:00 BDT" class="tiddlyLinkExisting" tiddlylink="Streaming media system">Streaming media system</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 23:43:00 BDT" class="tiddlyLinkExisting" tiddlylink="House server">House server</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 15:53:00 BDT" class="tiddlyLinkExisting" tiddlylink="Laundry room">Laundry room</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 15:53:00 BDT" class="tiddlyLinkExisting" tiddlylink="Nonclogging drains">Nonclogging drains</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 15:51:00 BDT" class="tiddlyLinkExisting" tiddlylink="Larger dining area">Larger dining area</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 15:51:00 BDT" class="tiddlyLinkExisting" tiddlylink="Home theater">Home theater</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 15:43:00 BDT" class="tiddlyLinkExisting" tiddlylink="Living room is for people">Living room is for people</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 15:40:00 BDT" class="tiddlyLinkExisting" tiddlylink="Accessible wiring">Accessible wiring</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 15:37:00 BDT" class="tiddlyLinkExisting" tiddlylink="Thoroughly wired">Thoroughly wired</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 15:33:00 BDT" class="tiddlyLinkExisting" tiddlylink="No museum rooms">No museum rooms</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 15:32:00 BDT" class="tiddlyLinkExisting" tiddlylink="Hot water right away">Hot water right away</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 15:29:00 BDT" class="tiddlyLinkExisting" tiddlylink="Solar tiled roof">Solar tiled roof</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 15:21:00 BDT" class="tiddlyLinkExisting" tiddlylink="Make your own electricity">Make your own electricity</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 15:18:00 BDT" class="tiddlyLinkExisting" tiddlylink="Lower household bills">Lower household bills</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 15:17:00 BDT" class="tiddlyLinkExisting" tiddlylink="Lots of daylight">Lots of daylight</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 15:15:00 BDT" class="tiddlyLinkExisting" tiddlylink="Less artificial lighting">Less artificial lighting</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 15:14:00 BDT" class="tiddlyLinkExisting" tiddlylink="Solar water heating">Solar water heating</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 15:09:00 BDT" class="tiddlyLinkExisting" tiddlylink="Energy efficient appliances and fixtures">Energy efficient appliances and fixtures</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 14:59:00 BDT" class="tiddlyLinkExisting" tiddlylink="Forced air cooling">Forced air cooling</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 14:55:00 BDT" class="tiddlyLinkExisting" tiddlylink="Solar pipes">Solar pipes</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 14:44:00 BDT" class="tiddlyLinkExisting" tiddlylink="Attractive finishes">Attractive finishes</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 14:41:00 BDT" class="tiddlyLinkExisting" tiddlylink="Green roof">Green roof</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 14:30:00 BDT" class="tiddlyLinkExisting" tiddlylink="Passive solar">Passive solar</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 14:28:00 BDT" class="tiddlyLinkExisting" tiddlylink="Less heating and cooling">Less heating and cooling</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 14:17:00 BDT" class="tiddlyLinkExisting" tiddlylink="Display cases">Display cases</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 14:05:00 BDT" class="tiddlyLinkExisting" tiddlylink="Recycling station">Recycling station</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 13:58:00 BDT" class="tiddlyLinkExisting" tiddlylink="Garbage room">Garbage room</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 13:54:00 BDT" class="tiddlyLinkExisting" tiddlylink="Laundry feeder system">Laundry feeder system</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 13:52:00 BDT" class="tiddlyLinkExisting" tiddlylink="Front-loading washer">Front-loading washer</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 02:02:00 BDT" class="tiddlyLinkExisting" tiddlylink="High R-values">High R-values</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 02:02:00 BDT" class="tiddlyLinkExisting" tiddlylink="Thermal mass">Thermal mass</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 01:59:00 BDT" class="tiddlyLinkExisting" tiddlylink="Radiant heating">Radiant heating</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 01:55:00 BDT" class="tiddlyLinkExisting" tiddlylink="Hard floors">Hard floors</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 01:52:00 BDT" class="tiddlyLinkExisting" tiddlylink="Control humidity">Control humidity</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 01:51:00 BDT" class="tiddlyLinkExisting" tiddlylink="Purify the air">Purify the air</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 01:49:00 BDT" class="tiddlyLinkExisting" tiddlylink="High indoor air quality">High indoor air quality</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 01:48:00 BDT" class="tiddlyLinkExisting" tiddlylink="Lots of fresh air">Lots of fresh air</A><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 18 June 2005 01:34:00 BDT" class="tiddlyLinkExisting" tiddlylink="Sustainable materials">Sustainable materials</A><BR><SPAN class="sidebarSubHeading">17 June 2005</SPAN><BR>¬†¬†<A href="JavaScript:;" title="BronwynB, 17 June 2005 13:20:00 BDT" class="tiddlyLinkExisting" tiddlylink="Ecofriendly construction method">Ecofriendly construction method</A><BR></DIV>
        <DIV id="licensePanel">            <A rel="license" href="http://www.tiddlywiki.com" target="_new">                TiddlyWiki is published by Osmosoft under a BSD open source license
            </A>
        </DIV>
    </DIV>

    <DIV id="leftside">        <DIV id="mainMenu"><B><A href="JavaScript:;" title="CreateNewTiddler doesn't yet exist" class="tiddlyLinkNonExisting" tiddlylink="CreateNewTiddler">CreateNewTiddler</A></B><BR><BR><A href="JavaScript:;" title="BronwynB, 21 June 2005 00:49:00 BDT" class="tiddlyLinkExisting" tiddlylink="HowTo">HowTo</A><BR><A href="JavaScript:;" title="BronwynB, 21 June 2005 00:47:00 BDT" class="tiddlyLinkExisting" tiddlylink="YATWA Preferences">YATWA Preferences</A><BR><A href="JavaScript:;" title="BronwynB, 21 June 2005 00:54:00 BDT" class="tiddlyLinkExisting" tiddlylink="About YATWA">About YATWA</A><BR></DIV>
        <DIV id="tagMenuTitle">All Tags</DIV>
          <DIV id="tagMenu"><A href="javascript:searchTags('accessibility')">accessibility<SPAN>(5)</SPAN></A><A href="javascript:searchTags('aesthetics')">aesthetics<SPAN>(2)</SPAN></A><A href="javascript:searchTags('appliances')">appliances<SPAN>(8)</SPAN></A><A href="javascript:searchTags('bathroom')">bathroom<SPAN>(7)</SPAN></A><A href="javascript:searchTags('bedroom')">bedroom<SPAN>(2)</SPAN></A><A href="javascript:searchTags('comfort')">comfort<SPAN>(3)</SPAN></A><A href="javascript:searchTags('ecofriendly')">ecofriendly<SPAN>(19)</SPAN></A><A href="javascript:searchTags('efficiency')">efficiency<SPAN>(31)</SPAN></A><A href="javascript:searchTags('electronics')">electronics<SPAN>(3)</SPAN></A><A href="javascript:searchTags('entertainment')">entertainment<SPAN>(5)</SPAN></A><A href="javascript:searchTags('exercise')">exercise<SPAN>(2)</SPAN></A><A href="javascript:searchTags('fixtures')">fixtures<SPAN>(5)</SPAN></A><A href="javascript:searchTags('furnishings')">furnishings<SPAN>(8)</SPAN></A><A href="javascript:searchTags('garage')">garage<SPAN>(2)</SPAN></A><A href="javascript:searchTags('health')">health<SPAN>(5)</SPAN></A><A href="javascript:searchTags('hvac')">hvac<SPAN>(14)</SPAN></A><A href="javascript:searchTags('kitchen')">kitchen<SPAN>(15)</SPAN></A><A href="javascript:searchTags('layout')">layout<SPAN>(21)</SPAN></A><A href="javascript:searchTags('lighting')">lighting<SPAN>(6)</SPAN></A><A href="javascript:searchTags('maintenance')">maintenance<SPAN>(21)</SPAN></A><A href="javascript:searchTags('materials')">materials<SPAN>(5)</SPAN></A><A href="javascript:searchTags('noise')">noise<SPAN>(2)</SPAN></A><A href="javascript:searchTags('office')">office<SPAN>(4)</SPAN></A><A href="javascript:searchTags('outdoors')">outdoors<SPAN>(8)</SPAN></A><A href="javascript:searchTags('philosophy')">philosophy<SPAN>(8)</SPAN></A><A href="javascript:searchTags('plumbing')">plumbing<SPAN>(9)</SPAN></A><A href="javascript:searchTags('processes')">processes<SPAN>(5)</SPAN></A><A href="javascript:searchTags('services')">services<SPAN>(5)</SPAN></A><A href="javascript:searchTags('storage')">storage<SPAN>(27)</SPAN></A><A href="javascript:searchTags('techniques')">techniques<SPAN>(9)</SPAN></A><A href="javascript:searchTags('wishlist')">wishlist<SPAN>(6)</SPAN></A><A href="javascript:searchTags('yatwa about')">yatwa about<SPAN>(4)</SPAN></A><A href="javascript:searchTags('yatwa help')">yatwa help<SPAN>(18)</SPAN></A><A href="javascript:searchTags('yatwa prefs')">yatwa prefs<SPAN>(5)</SPAN></A></DIV>
    </DIV>
    <DIV id="displayArea">                <DIV id="messageArea"></DIV>
        <DIV id="tiddlerDisplay"><DIV class="tiddler" id="tiddlerHowTo"><DIV class="innerTiddler"><DIV class="title" id="titleHowTo" title="BronwynB, 21 June 2005 00:49:00 BDT">HowTo</DIV><DIV class="toolbar" id="toolbarHowTo" style="visibility: hidden; ">¬†<A href="JavaScript:;" title="Fold this tiddler">fold</A>¬†<A href="JavaScript:;" title="Close this tiddler">close</A>¬†<A href="JavaScript:;" title="Close other tiddlers">close others</A>¬†<A href="JavaScript:;" title="Edit this tiddler">edit</A>¬†<A href="JavaScript:;" title="Permalink for this tiddler">permalink</A>¬†<A href="JavaScript:;" title="Show tiddlers that link to this one">references</A>¬†</DIV><DIV class="body" id="bodyHowTo"><DIV class="viewer" id="viewerHowTo"><UL><LI> <A href="JavaScript:;" title="BronwynB, 24 June 2005 23:16:00 BDT" class="tiddlyLinkExisting" tiddlylink="Get your own copy">Get your own copy</A><BR></LI><LI> <A href="JavaScript:;" title="BronwynB, 21 June 2005 01:01:00 BDT" class="tiddlyLinkExisting" tiddlylink="SaveChanges">SaveChanges</A><BR></LI><LI> <A href="JavaScript:;" title="BronwynB, 21 June 2005 01:04:00 BDT" class="tiddlyLinkExisting" tiddlylink="LinkToTiddlers">LinkToTiddlers</A><BR></LI><LI> Make <A href="JavaScript:;" title="BronwynB, 24 June 2005 23:15:00 BDT" class="tiddlyLinkExisting" tiddlylink="ExternalLinks">ExternalLinks</A><BR></LI><LI> Apply <A href="JavaScript:;" title="BronwynB, 21 June 2005 01:08:00 BDT" class="tiddlyLinkExisting" tiddlylink="Formatting">Formatting</A> to your text<BR></LI><LI> Edit the <A href="JavaScript:;" title="BronwynB, 25 June 2005 01:36:00 BDT" class="tiddlyLinkExisting" tiddlylink="SiteTitle">SiteTitle</A> and <A href="JavaScript:;" title="BronwynB, 25 June 2005 01:38:00 BDT" class="tiddlyLinkExisting" tiddlylink="SiteSubtitle">SiteSubtitle</A><BR></LI><LI> Edit the <A href="JavaScript:;" title="BronwynB, 24 June 2005 23:18:00 BDT" class="tiddlyLinkExisting" tiddlylink="StyleSheet">StyleSheet</A><BR></LI><LI> <A href="JavaScript:;" title="BronwynB, 21 June 2005 01:07:00 BDT" class="tiddlyLinkExisting" tiddlylink="Upgrade YATWA">Upgrade YATWA</A><BR></LI><LI> <A href="JavaScript:;" title="BronwynB, 21 June 2005 00:50:00 BDT" class="tiddlyLinkExisting" tiddlylink="SaveBackups">SaveBackups</A><BR></LI></UL><DIV class="tags" id="viewerTagsHowTo" style="visibility: hidden; ">tags:<A href="JavaScript:;" title="Show tiddlers tagged with 'yatwa help'" tag="yatwa help">yatwa help</A>¬†</DIV></DIV></DIV></DIV></DIV></DIV>
        ¬†
        <DIV id="floater">¬†</DIV>
    </DIV>
    <DIV id="storeArea"><DIV id="storeEcofriendly construction method" modified="200506171320" modifier="BronwynB" tags="techniques ecofriendly">* earthship\n* strawbale\n* cordword\n* rammed earth (a.k.a cob and adobe)</DIV>
<DIV id="storeSustainable materials" modified="200506180134" modifier="BronwynB" tags="ecofriendly materials">Will make the house safer to build and live in, and add resale value.\n\nExamples:\n* bamboo\n* sustainably harvested wood</DIV>
<DIV id="storeLots of fresh air" modified="200506180148" modifier="BronwynB" tags="hvac health outdoors">* Combine natural crossdrafts from windows with a ventilation system for winter and rainy days\n* Have a garden in front of the air intake to cool down the air in summer</DIV>
<DIV id="storeHigh indoor air quality" modified="200506180149" modifier="BronwynB" tags="hvac health ecofriendly">Will reduce problems with asthma, allergies, and sensitivites.\n\nWays to improve indoor air quality:\n* [[Lots of fresh air]]\n* avoid materials with [[volatile organic chemicals|http://www.health.state.mn.us/divs/eh/indoorair/voc/]]\n* [[Purify the air]]\n* [[Hard floors]]\n* [[Laundry feeder system]]\n* [[Garbage room]]\n* [[Display cases]]\n</DIV>
<DIV id="storePurify the air" modified="200506180151" modifier="BronwynB" tags="hvac health">There should be a HEPA filter or some other whole-house system to clean the air of dust, allergens, and pollutants.\n\nI also want something to [[Control humidity]]</DIV>
<DIV id="storeControl humidity" modified="200506180152" modifier="BronwynB" tags="hvac">Have a system that can humidify or dehumidify as necessary. </DIV>
<DIV id="storeHard floors" modified="200506180155" modifier="BronwynB" tags="materials ecofriendly health">Hard floors are easier to clean, less allergenic, and can look beautiful.\n\n* bamboo is lovely and sustainable\n* wood is good\n* linoleum or other resilient flooring is ideal for wet/messy rooms like kitchen, bath, and entryways\n* ceramic tile looks nice, but is damn cold unless there's [[Radiant heating]] underneath it.\n\nAll the above can be ecofriendly.</DIV>
<DIV id="storeRadiant heating" modified="200506180159" modifier="BronwynB" tags="hvac efficiency techniques">Radiant heating doesn't blow dust around, and is otherwise gentler and more effective than forced air heating.  There's no breeze that cools you down when you need to be warmed up.\n\nRadiators are probably the best choice unless the floor is ceramic tile, but this needs looking into.\n\nContrast with [[Forced air cooling]].</DIV>
<DIV id="storeHigh R-values" modified="200506180202" modifier="BronwynB" tags="efficiency hvac techniques">Building materials with high R-values insulate better, and therefore make the house easier to heat and cool.</DIV>
<DIV id="storeThermal mass" modified="200506180202" modifier="BronwynB" tags="efficiency hvac techniques">High thermal mass will make the house more efficient to heat/cool by:\n* keeping the house closer to a baseline temperature\n* releasing or absorbing heat slowly</DIV>
<DIV id="storeFront-loading washer" modified="200506181352" modifier="BronwynB" tags="efficiency appliances ecofriendly">Front-loading washers are gentler on clothes and use less water.  Energy-efficient models are available.</DIV>
<DIV id="storeLaundry feeder system" modified="200506181354" modifier="BronwynB" tags="maintenance processes storage">I'm tired of having dirty clothes all over the bedroom, which then smells of dirty laundry.  Ick.  Instead, let's try this:\n# bedrooms and non-guest bathrooms have laundry collectors, such as chutes or small, easily carried bins or buckets.\n## items from hangers will have their hangers stuck in a side pocket on said bin.\n# collected clothing goes to the [[Laundry room]].\n# laundry room has a storage and sorting station, with categorized hampers, e.g.\n** whites\n** darks\n** colours\n** delicates\n** even more delicate (bleeds dye, for example)\n# these hampers are sized for 1 or 2 loads.\n# when a particular bin gets full, do the laundry.\n\n</DIV>
<DIV id="storeGarbage room" modified="200506181358" modifier="BronwynB" tags="maintenance layout hvac">The garbage room will help keep garbage and recyclables from stinking up the house and getting in the way.  \n\nFeatures:\n* kept at a lower temperature to minimize odours\n* separately ventilated\n* weatherstripped, insulating door\n* [[Recycling station]]</DIV>
<DIV id="storeRecycling station" modified="200506181405" modifier="BronwynB" tags="ecofriendly maintenance processes">The garbage room will have a station for storing and sorting recyclables, to make this easier and more pleasant...and less of a hassle when we miss a week.  Stuff will get there with a system similar to the [[Laundry feeder system]].\n\nThere should be a door leading outside to the garbage pickup area, by the most direct path.\n\nPossibly there should be access to the [[Composting system]]?</DIV>
<DIV id="storeDisplay cases" modified="200506181417" modifier="BronwynB" tags="furnishings health hvac storage">Some display cases will make it much less annoying to have knick-knacks, because it will cut down tremendously on dust and dusting and people breaking things.</DIV>
<DIV id="storeLess heating and cooling" modified="200506181428" modifier="BronwynB" tags="materials layout techniques efficiency ecofriendly">The house should be designed to:\n* be well-insulated ([[High R-values]])\n* have significant [[Thermal mass]]\n* take advantage of\n** how people feel temperature (see [[Radiant heating]] and [[Forced air cooling]])\n** natural energy flows -- look into [[Passive solar]] techniques\n* consider unusual possibilities, like a [[Green roof]]\n\nThese measures should mean that there's less need for forced heating and cooling, and hence [[Lower household bills]].  The house should regulate its own temperature much more than a normal one would.</DIV>
<DIV id="storePassive solar" modified="200506181430" modifier="BronwynB" tags="techniques ecofriendly efficiency">Passive solar building techniques take advantage of the sun to provide heat and light, or avoid them where they're not wanted.  Will need to research.</DIV>
<DIV id="storeGreen roof" modified="200506181441" modifier="BronwynB" tags="ecofriendly outdoors efficiency techniques">Green roofs are like normal ones, except that there's a light layer of soil full of plants. Their benefits:\n* regulates roof temperature by evaporative cooling in summer, and insulating in winter'\n* protects roofing material from destructive sun\n* absorbs storm water\n* cleans and oxygenates the air\n* provides a garden, and therefore habitat for birds and other small creatures\n* can produce electricity (not sure how; book didn't go into that much detail)\n\nOne thing I'd wonder about is what happens when it snows: how much additional load does that add, and how much will it cost to build for it?\n\nFound in //Cradle to Cradle//.\n\n</DIV>
<DIV id="storeAttractive finishes" modified="200506181444" modifier="BronwynB" tags="materials aesthetics">The house (inside and out) should appeal to the senses through its proportions, materials, colours, finishes, and trimming.</DIV>
<DIV id="storeSolar pipes" modified="200506181455" modifier="BronwynB" tags="techniques lighting efficiency">An alternative to conventional skylights, and which supposedly work better.  Can be used to light dark interior rooms, even if no roof is directly above.\n\nHow do they deal with winter snow?</DIV>
<DIV id="storeForced air cooling" modified="200506181459" modifier="BronwynB" tags="hvac efficiency techniques">Breezes help cool you down, so a forced air cooling system will work better than one that doesn't create breezes, all else being equal.\n\nUse the ventilation system mentioned in [[Lots of fresh air]], possibly ceiling fans, and if absolutely necessary, an air conditioner.</DIV>
<DIV id="storeEnergy efficient appliances and fixtures" modified="200506181509" modifier="BronwynB" tags="efficiency ecofriendly appliances fixtures">You can get energy-efficient versions of most appliances and fixtures, especially if you're willing to pay a little more, and they pay themselves back through lower hydro and water bills.\n\nExamples:\n* [[Bottom-freezer fridge]]\n* [[Modern dishwasher]]\n* [[Front-loading washer]] for clothes\n* low-flow water faucets and showerheads\n</DIV>
<DIV id="storeSolar water heating" modified="200506181514" modifier="BronwynB" tags="efficiency plumbing">Ever noticed how hot the water in a sunned garden hose is?  Solar water heating systems take advantage of that, so you aren't paying to have a tank of hot water sit there unused.  Instead, the sun heats it partway, and the water heater does the rest.\n\nFind out how to implement this so that we get [[Hot water right away]].</DIV>
<DIV id="storeLess artificial lighting" modified="200506181515" modifier="BronwynB" tags="lighting efficiency">Intelligent architecture (especially using [[Passive solar]] techniques) can lessen the need for artificial light.\n\nBesides which, most people like [[Lots of daylight]].\n\n* consider [[Solar pipes]]</DIV>
<DIV id="storeLots of daylight" modified="200506181517" modifier="BronwynB" tags="lighting efficiency aesthetics">Daylight is free, pleasant to work in, and makes people happier, because they feel connected with nature.  So I want a house with lots of daylight.</DIV>
<DIV id="storeLower household bills" modified="200506181518" modifier="BronwynB" tags="efficiency">Financial failure in our ficton tends to be because people take on too many expenses.  So, lowering the household bills directly increases your prosperity and credit rating.  There's lots of ways to do it (like eating more healthily and cheaply, and not using a car), but we'll focus on ones tied to the house.\n\n* [[Less heating and cooling]]\n* [[Less artificial lighting]]\n* [[Energy efficient appliances and fixtures]]\n* [[Solar water heating]]\n* [[Make your own electricity]]\n* shop around for all services\n* buy your own dsl or cable modem, and use an inexpensive independent ISP\n* minimal phone services for both regular and cell lines.  Look into [[VoIP|http://en.wikipedia.org/wiki/Voip]].\n* no or minimal cable/satellite tv service.  Rent things or use the internet instead.\n</DIV>
<DIV id="storeMake your own electricity" modified="200506181521" modifier="BronwynB" tags="efficiency services ecofriendly">* if have access to water, can use a turbine or similar to generate hydro\n* if there is strong wind, can use a windmill\n* best bet is sunpower.  Have a [[Solar tiled roof]] instead of burning more fossil fuels at a distance.</DIV>
<DIV id="storeSolar tiled roof" modified="200506181529" modifier="BronwynB" tags="efficiency ecofriendly services">This is a good way to help [[Make your own electricity]], and you can sell any excess back to the grid.</DIV>
<DIV id="storeHot water right away" modified="200506181532" modifier="BronwynB" tags="plumbing wishlist">I hate it when you turn on the hot water tap and it takes several minutes to get hot water.  Surely we can do better than that.  Ideas to try:\n\n* [[Solar water heating]] or other system to preheat the water\n* run a little hot water down the pipes constantly</DIV>
<DIV id="storeNo museum rooms" modified="200506181533" modifier="BronwynB" tags="philosophy layout">All rooms shall be used and inviting, instead of shut up as "too good for everyday".</DIV>
<DIV id="storeThoroughly wired" modified="200506181537" modifier="BronwynB" tags="services">The whole house shall be thoroughly wired for power, phone, internet, and other desirable services.  \n\nI also want [[Accessible wiring]].</DIV>
<DIV id="storeAccessible wiring" modified="200506181540" modifier="BronwynB" tags="services">Meaning that wiring shall not only be hidden from sight, but shall be easily accessible when required, with pulls for new wiring.  Perhaps they should be in a hidden, shallow duct running through the wall just above the baseboards, with covers that can be detached with common household tools.  Ask some wiring experts for best practices.</DIV>
<DIV id="storeLiving room is for people" modified="200506181543" modifier="BronwynB" tags="philosophy layout">The living room is for people to relax and talk to eachother, so its furniture will be arranged to facilitate that.  There is no television.  That lives in the [[Home theater]].</DIV>
<DIV id="storeLarger dining area" modified="200506181551" modifier="BronwynB" tags="layout">I want a dining area with enough space to seat 6 or more people.</DIV>
<DIV id="storeHome theater" modified="200506181551" modifier="BronwynB" tags="entertainment storage layout">* space for four or more people to sit down and watch movies or play with the game console(s)\n* plentiful small tables and garbage cans\n* at least one lounge on which to lie down\n* remote control storage\n* game controller storage\n* media storage\n* connected to [[House server]] for access to centrally stored video and music files\n* wireless keyboard and mouse, stored with/near remote controls\n* equipment racks that are accessible on their front and back sides (probably on casters)\n* nearby bathroom\n* projector and screen instead of a crazy-big tv set that needs a specially reinforced floor\n* acoustics and soundproofing should be considered</DIV>
<DIV id="storeLaundry room" modified="200506181553" modifier="BronwynB" tags="maintenance layout entertainment">I want a luxurious laundry room.  It should be on the same floor as the bedrooms, and easily accessible from them.\n\nIroning sucks.  Let's fix that: \n* ironing station facing TV, with shelves for iron and spray bottle, and a conveniently located plug.\n* stuff to watch while ironing\n* capacious pegs on which to hang empty hangers and ironed clothes\n* supply of empty hangers\n\nOther features:\n* bright and cheerful\n* a wheeled hamper with a clothesrack on top, to make it easier to return items to the closet.\n* a sink for hand laundry\n* [[Front-loading washer]]\n</DIV>
<DIV id="storeNonclogging drains" modified="200506181553" modifier="BronwynB" tags="plumbing maintenance">The house shall be plumbed so that drains only clog under extreme provocation.</DIV>
<DIV id="storeStreaming media system" modified="200506182343" modifier="BronwynB" tags="entertainment electronics">Modern version of "music throughout the house" systems.  You need just as many stereos as before, but there's no fussing with your cd library, or "where did that tape go?".\n\ne.g. http://sonos.com</DIV>
<DIV id="storeHouse server" modified="200506182343" modifier="BronwynB" tags="entertainment electronics">There will be a house server or server cluster (as necessary).  It will act as a file and print server primarily.  \n* stores all personal data for ease of disaster recovery\n* RAIDed so that hard drive crashes are no big problem\n* serves media files to other computers and to the [[Streaming media system]]\n* probably *nix based</DIV>
<DIV id="storeWorkshop" modified="200506190000" modifier="BronwynB" tags="storage layout maintenance">Every house has at least a few tools, and occasionally needs something to be sawn, hammered, or glued.  There will be a workshop with tool and material storage, and a passable or better workbench.</DIV>
<DIV id="storeRearrange clothes seasonally" modified="200506190050" modifier="BronwynB" tags="storage processes">All the books and magazines say you should rearrange your clothes seasonally, but I never get around to it.  It's too much trouble to take everything out of the drawers and from under the bed, and of course the drawers aren't interchangeable.\n\nHang on a minute.  What if all my folded clothes lived in drawers that were easily interchangeable?  In minutes?  \n\nAssume the closet has some floor-to ceiling sets of pull-out baskets, all the same.  All baskets are labelled.  The baskets can be easily removed and placed in different runners without disrupting the contents.  This way, I can quickly move the unseasonable clothes to the difficult to reach sections.</DIV>
<DIV id="storeSeparate pantry" modified="200506190057" modifier="BronwynB" tags="storage kitchen">Most kitchens don't have enough space to store things, so I think it's important to have a pantry.  Life is easier when the dishes and the food are stored separately, instead of all mixed up.</DIV>
<DIV id="storeTub shelves" modified="200506190114" modifier="BronwynB" tags="bathroom storage efficiency">Most bathrooms have some storage in the vanity, but there's always dozens of items that are used in the tub or shower yet aren't stored there.  Let's change that.\n\nInstead of a useless tiled wall, let's inset waterproof, drained shelving for all the items that need to live in the tub.  They carve medicine cabinet space out of walls, don't they?\n* about 4-6 inches deep -- just right for one row of bottles -- with roughly 1 foot between shelves\n* ideally the shelves would be adjustable\n* number and length of shelves depends on your household and square footage of toiletries\n* guard rails about an inch or two above the shelves to keep things from being knocked out easily\n* some sections must be sheltered from water, e.g. for items like bar soap and razors, so that they don't melt or rust in the shower spray.  They could have clear flip-up doors, like the butter compartment in a fridge.\n* easy to clean\n* washcloth rails\n\n</DIV>
<DIV id="storeLinen closets" modified="200506190118" modifier="BronwynB" tags="storage layout">I grew up in a house whose linen closets had been seized for other uses, and never got to have one since.  Linen closets are useful, as you discover when some of your precious clothes storage gets used up by towels.\n\nLinens should be stored where linens are needed.\n* sheets, blankets, and pillows near bedrooms\n* dishtowels and table linens in kitchen or dining area\n* towels and bathmats in the bathroom\n\n</DIV>
<DIV id="storeLots of bookshelves" modified="200506190125" modifier="BronwynB" tags="storage furnishings layout">Anyplace I live needs lots of book storage, for several different sizes:\n* paperbacks\n* hardcovers\n* larger books\n\nThere also needs to be a special set of shelves for borrowed matter: \n* from friends\n* from library, and haven't read yet\n* from library, and ready to be returned\n\nSeveral friends have used boring old hallways for this noble task.  So, build the hallways wider, and build 9 inch deep shelves along the length, up to just-within-reach height. (There's no space here for ladders.)  If necessary, the taller person can use the upper shelves, and the short person the lower.</DIV>
<DIV id="storeJanitorial closet" modified="200506190133" modifier="BronwynB" tags="storage maintenance layout">Public buildings are allowed janitorial closets.  Why aren't homes?  We all need a place to keep: \n* cleaning products\n* broom and dustpan\n* mops\n* vacuum\n* dusters and rags\n* buckets\n\nThere should be: \n* low sink, possibly with a hose, for filling and emptying buckets\n* holders to store brooms and mops\n* corner for vacuum, and some shelving for its supplies\n* cabinets for cleaning products -- kept out of child's reach, and lockable\n\nThe janitorial closet should be pleasant and well-lit, instead of ugly and unwelcoming.</DIV>
<DIV id="storeBottom-freezer fridge" modified="200506190137" modifier="BronwynB" tags="appliances efficiency kitchen">These spill less cold air (therefore less money) on the floor while you are putting away or fetching items.  It also puts more of the fridge shelves at convenient heights.</DIV>
<DIV id="storeAppliance garages" modified="200506190137" modifier="BronwynB" tags="kitchen storage appliances">Most kitchens have a number of small appliances that are used frequently enough to keep, but clutter up the counter.  There shall be appliance garages with pull-down doors to hide these items, but keep them in reach.  The counter might need to be deeper, though.</DIV>
<DIV id="storeClothes belong in closets" modified="200506190138" modifier="BronwynB" tags="storage maintenance furnishings layout bedroom">Clothes belong in closets, not draped on doorknobs, kicked into corners, and abandoned on desk chairs.  All clothes -- clean, dirty, and in-use -- that aren't on a human body shall be stored in closets or the laundry room.  This means having very large closets, but the benefit is that the bedrooms can be smaller, and yet not be half-full of overstuffed dressers, like ours is.  Instead, there can be armchairs, and bookshelves, and so on.\n\n* large hookrack for in-use clothes, with visually separate section for items like bathrobes and pyjamas\n* staging area to place the components while choosing an outfit, or sort laundry while putting it away\n* fittings will make it easy to [[Rearrange clothes seasonally]]\n</DIV>
<DIV id="storeCabinet accessories" modified="200506190138" modifier="BronwynB" tags="storage efficiency">Cabinets and closets should be fitted out with accessories that help us use the space fully and retrieve things easily, such as slide-out baskets.  See the Lee Valley catalog, IKEA, and similar.</DIV>
<DIV id="storeComposting system" modified="200506190139" modifier="BronwynB" tags="maintenance processes ecofriendly outdoors kitchen">Organic matter should be composted, if a low-odour, low-maintenance system can be found/designed.  There should be easy access to it from the kitchen.  \n\nEven if we can't/don't use the compost, I'm sure we could find people who do, and maybe they'd even pay us.\n\nCheck into the composting micro-organisms mentioned at Metaefficient, which is down right now.</DIV>
<DIV id="storeModern dishwasher" modified="200506190141" modifier="BronwynB" tags="appliances efficiency ecofriendly kitchen">Modern dishwashers not only save labour, but use ''less water and electricity'' (and maybe even less soap) than washing dishes by hand.  O joyous day!\n\nConsider Dilbert's Ultimate House decision to have two dishwashers; one for clean, one for dirty.</DIV>
<DIV id="storeEfficient storage" modified="200506190144" modifier="BronwynB" tags="storage efficiency">Even if you're not a bookworm or packrat, you need a surprising amount of storage.\n\n* [[Clothes belong in closets]]\n* [[Linen closets]]\n* [[Tub shelves]]\n* [[Lots of bookshelves]]\n* [[Janitorial closet]]\n* [[Separate pantry]]\n* [[Appliance garages]]\n* [[Pot and pan drawers]]\n* [[Tupperware drawers]]\n* [[Workshop]]\n* [[Cabinet accessories]]\n* [[Filing cabinets]]\n* [[Trapped on the toilet]]\n* [[Bicycle storage]]</DIV>
<DIV id="storePot and pan drawers" modified="200506190144" modifier="BronwynB" tags="kitchen storage">Stacking pots and pans in normal shelves is dumb.  Pots and pans should live in deep drawers on high-quality runners, so that it is an efficient use of space to store each pot with its lid on it, unstacked, ready for someone to pull it out and cook immediately.</DIV>
<DIV id="storeTupperware drawers" modified="200506190146" modifier="BronwynB" tags="kitchen storage">As with [[Pot and pan drawers]], it is much more efficient to store tupperware in a drawer than in an eye-level shelf.  Provide containers or pin systems to hold the lids.</DIV>
<DIV id="storeTrapped on the toilet" modified="200506190148" modifier="BronwynB" tags="bathroom storage">That situation is never fun.  These things shall be stored close at hand:\n* spare toilet paper\n* maxipads\n* reading matter\n\nOnly the reading matter should be out in front of people's eyes.  The other two can live in drawers or behind frosted glass doors or something.  But they all have to be accessible without standing up.</DIV>
<DIV id="storeFiling cabinets" modified="200506190154" modifier="BronwynB" tags="storage office">When you don't have filing cabinets, you pile papers on things.  Then you can't refer to the papers.  Putting them in special boxes or what have you does not help.  You need a real filing cabinet, alphabetized, so that you can and will file one piece of paper on a new topic, and be able to find it two years later.\n\nEach person in the house should have adequate personal filing space within easy reach of their desks.  There should also be a [[House office]], with its own files.</DIV>
<DIV id="storeHouse office" modified="200506190159" modifier="BronwynB" tags="layout philosophy office">This is a space for storing and dealing with paperwork relating to the house, such as mail, utility bills, appliance manuals, and property taxes.\n\nIt shall have:\n* its own filing cabinet\n* [[Mail processing station]]\n* adequate desk space for processing paperwork\n* internet access for paying bills and looking up recipes -- probably via an old laptop with a wireless card</DIV>
<DIV id="storeMail processing station" modified="200506190202" modifier="BronwynB" tags="office processes maintenance">An area to deal with incoming and outgoing mail.  So, it needs:\n* stamps\n* writing utensils\n* notepaper\n* envelopes in several sizes\n* blank cards for occasions and thank-yous\n* chequebooks\n* internet access for online bill payments etc.\n* filing cabinet\n* baskets for paperwork that needs to be filed elsewhere (probably one per household member)\n* comfortable chair\n* paper recycling bin</DIV>
<DIV id="storeBicycle storage" modified="200506190206" modifier="BronwynB" tags="layout storage outdoors garage exercise">I'm sure I would ride my bike more if I didn't have to haul it up and down 3 floors every time.  That's why I want space to store bicycles, with:\n* bike rack\n* storage for helmets, panniers, and so on\n* easy access to a sink to fill waterbottles\n* toolkit and pump\n* method to hold bike off ground and still for maintenance\n* normal-sized door that stays open when pushed properly -- why bother with an entire garage door for just a bike?</DIV>
<DIV id="storeSoundproof room" modified="200506190208" modifier="BronwynB" tags="layout noise wishlist">I'd like a soundproofed room to be used for music practice or sequestering noisy children.  It will need a window so that parents can see what they're up to.</DIV>
<DIV id="storeExercise area" modified="200506190210" modifier="BronwynB" tags="exercise layout wishlist">I'd like to have exercise areas.  These would probably just be big open spaces with a cabinet to store things like yoga mats and free weights.  I don't know if they would be inside or outside.</DIV>
<DIV id="storeTemperate basement" modified="200506190213" modifier="BronwynB" tags="hvac wishlist">Nobody likes basements.  They're chilly and semi-finished and often smell a little weird.  My house would have a basement that is welcoming and well-ventilated.  During winter I want it to stay the same temperature as the rest of the house -- or at least closer than most do.</DIV>
<DIV id="storeDirty dishes zone" modified="200506190217" modifier="BronwynB" tags="kitchen maintenance">There will always be some dirty dishes that don't fit into the dishwasher or must be handwashed.  There should be a special counter set aside for dirty dishes, right near the garbage, recycling, and composting area so that it's easier to prepare them for washing.  \n\nMaybe there should be a pulldown door or curtain to hide them from view when company comes?</DIV>
<DIV id="storeNo cabinets over kitchen sink" modified="200506190220" modifier="BronwynB" tags="kitchen storage efficiency entertainment">Here we have cabinets over the kitchen sink, and it is a nuisance, because the washer has to stop washing while the dryer puts the bowls away.  There will be no cabinets over the sink in my dream house.  Instead, there will be a stereo within reach, and a nice view or a TV to be looked at while washing.  Maybe some plants on high shelves, too, since they will be easy to water there.</DIV>
<DIV id="storeClothesline" modified="200506190225" modifier="BronwynB" tags="maintenance ecofriendly outdoors appliances">As well as a high-efficiency dryer, consider having a clothesline for summer use.  It should be on a pulley, with a hook for the clothespins bin (use a hanging plant pot), a covered location for storing clothespins out of the weather, and a clean place to put down a laundry hamper while you hang out or reel in the laundry.  It should also be high enough off the ground to let me hang large sheets and tablecloths without them hitting the dirt.</DIV>
<DIV id="storeLiving machine" modified="200506190230" modifier="BronwynB" tags="ecofriendly outdoors maintenance">Look into a living machine to clean wastewater.  See //Cradle to Cradle// pp. 125-7.  Living machines are often constructed wetlands that use organisms to clean sewage, instead of using toxic chemicals.  Plus they provide habitat.\n\nThis is probably too big or expensive to do for just one dwelling, but it would be nice to find out.</DIV>
<DIV id="storeEasy-clean cooktop" modified="200506190232" modifier="BronwynB" tags="kitchen appliances maintenance">The kitchen range should be easy to clean, instead of my being frightened of its ancient grease.  Probably one of those flat-top sorts?</DIV>
<DIV id="storeLever door handles" modified="200506192303" modifier="BronwynB" tags="accessibility fixtures">Doors should have lever handles instead of twist knobs, because levers can be operated with your elbow or very arthritic hands.</DIV>
<DIV id="storeHandshower" modified="200506200247" modifier="BronwynB" tags="plumbing fixtures bathroom">I like handshowers; they keep me from getting my hair quite as wet, and make it easy to rinse off all the soapy spots.</DIV>
<DIV id="storeSensible faucets" modified="200506200251" modifier="BronwynB" tags="bathroom kitchen plumbing fixtures accessibility">All faucets shall permit water temperature and flow to be controlled independently and conveniently.  They will probably have to be single lever designs for that to happen.  They also need to be easy to understand, so that even a guest can see what motions will do what.\n\nSuch faucets are also more accessible than twist designs.</DIV>
<DIV id="storeSplashproofness" modified="200506200255" modifier="BronwynB" tags="bathroom kitchen materials maintenance">Wet areas such as bathrooms and sinks shall be splashproof.  Materials should not rust or rot if water is left on them.  That way, splashes and spills will not have to be wiped up religiously.</DIV>
<DIV id="storeLarge bathtub" modified="200506200317" modifier="BronwynB" tags="bathroom plumbing wishlist comfort fixtures">Normal bathtubs are too small for even me (5'1") to stretch out in, and that's just sad.  Can we finally have bathtubs  where one can lie back comfortably and relax, without hurting one's neck or leaving half one's body out of the water?\nSurely we could if we tried.  \n\n* room for two people, without having to scrunch or stand at attention\n* place to sit and shave legs\n* [[Tub shelves]]\n* [[Handshower]]\n\nConsider:\nhttp://www.us.kohler.com/onlinecatalog/detail.jsp?from=thumb&amp;frm=null&amp;module=Baths&amp;item=38802&amp;prod_num=1249&amp;section=2&amp;category=10\nhttp://www.us.kohler.com/onlinecatalog/detail.jsp?from=thumb&amp;frm=null&amp;module=Baths&amp;item=36702&amp;prod_num=1245&amp;section=2&amp;category=10\n\nInstead of an expensive and small whirlpool bath, consider getting a regular tub, and someday later, a hottub.  That way more people can fit!</DIV>
<DIV id="storePlate racks" modified="200506200320" modifier="BronwynB" tags="kitchen storage">Currently our plates live in heavy stacks and it is difficult to remove one that's not on top without damaging its paint.  \n\nWhy not use something like a dishrack to hold plates upright so that single plates can be removed and replaced very easily?  It won't take that much more cupboard space if well-planned.</DIV>
<DIV id="storeAccessible tools" modified="200506200626" modifier="BronwynB" tags="accessibility efficiency maintenance">At least one stash of commonly needed items like writing implements, scissors, tape, rulers, measuring tape, screwdrivers, and a hammer should live in easily found locations, probably in or near the kitchen.  The [[House office]] is an ideal spot for many of these.\n\nOf course, a full toolkit can be found in the [[Workshop]].\n</DIV>
<DIV id="storeStepstools" modified="200506200627" modifier="BronwynB" tags="furnishings">I'm short enough to need stepstools regularly, so they should be kept handy in rooms where they're likely to be needed, such as the kitchen.</DIV>
<DIV id="storeEasily accessible" modified="200506200628" modifier="BronwynB" tags="accessibility efficiency comfort">A house should be easily accessible, in preparation for old age or disaster.\n\n* [[Sensible faucets]]\n* [[Handshower]]\n* [[Large bathrooms]]\n* [[Lever door handles]]\n* [[Accessible tools]]\n* [[Stepstools]]\n* [[Pleasant mechanical room]]\n* [[Ramps and elevator]]</DIV>
<DIV id="storePleasant mechanical room" modified="200506200633" modifier="BronwynB" tags="maintenance services philosophy plumbing hvac">Most mechanical rooms are downright ugly.  They're unfinished, cold, damp, dark, and dirty.  Who'd want to go check on the equipment under those conditions?\n\nThe mechanical room shall be a pleasant place, or at least not unwelcoming, so it must be finished, painted, and well-lit.  \n\n* circuit breakers\n* HVAC equipment\n* water shutoffs\n* water heating equipment? (maybe that should be in the attic?)</DIV>
<DIV id="storeRamps and elevator" modified="200506200635" modifier="BronwynB" tags="accessibility layout">Even though they probably won't be installed right off, there should be some space allocated for exterior ramps and an interior elevator.  Or we could just accept that the aged and disabled won't want to live in the house.</DIV>
<DIV id="storeLightswitch sensors" modified="200506200637" modifier="BronwynB" tags="lighting efficiency ecofriendly">Consider using sensors for lightswitches, to turn off lights if there is no motion or body heat for some time.  </DIV>
<DIV id="storeIntelligent climate controls" modified="200506200647" modifier="BronwynB" tags="hvac efficiency">Most houses do not have intelligent climate controls.  Typically, you get either\n# A central thermostat, whose temperature inevitably doesn't match some part of the house.\n# Thermostats in each room, but no overall controls.\n\nWhy, oh why, in this age of programmable electronics, can we not have a system like this:\n* There is a default temperature set according to time of day.  Ideally the system would know about and compensate for seasonal changes.\n** This allows it to be warmer or cooler as needed during the day, but cut down on energy consumption when people are sleeping.\n* Each room has its own thermostat that can \n** Sense the room's temperature\n** Display it\n* These per-room thermostats can be set independently, so that if the living room is too cold, we can heat the living room without affecting the rest of the house and its inhabitants.\n* If there has been no input for a set period of time (probably a couple hours), then the room returns to default programming.\n\nObviously we'd have to be able to heat and cool each room separately from the central system, which isn't common yet -- but isn't it time that we had this ability?\n\nIt strikes me that large hotels must need systems remarkably similar to what I've outlined here.  I'll have to look into what they use.</DIV>
<DIV id="storeKick vacuum" modified="200506200656" modifier="BronwynB" tags="maintenance appliances">Find out what a kick vacuum is and what it is good for.</DIV>
<DIV id="storeDrop zones" modified="200506200659" modifier="BronwynB" tags="storage maintenance">Provide places to put things down when they're removed, such as\n* jackets\n* shoes\n* purses\n* other bags\n* jewelry (in bathroom/bedroom)\n\nObviously most of these will need to live in a [[Front hall]].</DIV>
<DIV id="storeFront hall" modified="200506200710" modifier="BronwynB" tags="storage layout outdoors">The Canadian climate demands a front hall, preferably of the airlock type.\n\nConsider having a cloakroom.  For each member of the household, there is:\n* one or two hooks for jackets and purses\n* cubby for 1-2 pairs of footwear\n* cubby or shelf for hats, gloves, and scarves\n* shelf for backpack or tote bag\n\nThis will take perhaps 1 linear foot per person.  Out of season gear would be stored in the front hall closet.\n\nAdding a cloakroom would help combat the mess that would otherwise swallow the front hall.  The formal front entry is small but not unmanageable for guests, but there is a cloakroom off to the side, or reached by a family entrance at the side or back.\n\nThere should be mirrors at hand for last-minute appearance checks before going out.\n</DIV>
<DIV id="storeHeat pump" modified="200506200716" modifier="BronwynB" tags="hvac ecofriendly efficiency">Find out what a heat pump or heat exchanger is, and why it might be useful.</DIV>
<DIV id="storeClutter-free" modified="200506200723" modifier="BronwynB" tags="philosophy storage">While I don't expect to consistently achieve this noble goal, I do wish to strive for it.  I'm tired of being a packrat who lives in a mess.  I write this while surrounded by unfiled papers, a copy of Wuthering Heights to ceremonially burn, bookshelves, two obsolete printers, the dismembered carcasses of four computers, yet more dead computer gear, and other miscellanea.\n\nIs it any surprise that I'd like to get rid of clutter?\n\nI think a large part of this will be discipline -- simply not acquiring things if there will not be a use for them and an appropriate place to store them.  I will have to learn to say "no" to my mother when she wants to give me something that I don't want.  (My mother's house is tidy, but jammed to the rafters with stuff.)\n\n[[Efficient storage]] will help, as will many other things listed in this wiki, but they alone are not enough.  See also storage tag.</DIV>
<DIV id="storeEasy-care yard" modified="200506200728" modifier="BronwynB" tags="outdoors efficiency ecofriendly maintenance">The yard shall be easy to care for.  It shall not be paved over or be contaminated with artificial turf.\n\nInstead, I will leverage my mother to find out about alternative ground covers, mulches, and rock and water gardens.  It's probably quite possible to have a yard that practically takes care of itself, with the possible exception of leaf-raking.\n\nCandidates should be: \n* hardy in this climate\n* not vulnerable to weeds, pests, or diseases\n* spreading\n* otherwise low-maintenance\n\nThere will be NO lawn to mow!</DIV>
<DIV id="storeUnbreakable dishes" modified="200506200730" modifier="BronwynB" tags="kitchen furnishings">Serious thought should be given to purchasing unbreakable dishes.  At the very least, everyday dishes must be dishwasher and microwave safe.  </DIV>
<DIV id="storeTwo kitchen sinks" modified="200506200731" modifier="BronwynB" tags="kitchen plumbing">Consider having two kitchen sinks.  It could make prepping dinner a whole lot easier.</DIV>
<DIV id="storeGift wrap center" modified="200506200732" modifier="BronwynB" tags="storage">All materials needed for wrapping gifts should live in one place, near a table.</DIV>
<DIV id="storeDressing table" modified="200506200744" modifier="BronwynB" tags="furnishings storage bedroom">I should have a dressing table at which to groom, and keep my jewelry, hairstuff, and makeup.  It could be in the bathroom or the bedroom -- either is fine.</DIV>
<DIV id="storeControlled daylight" modified="200506200745" modifier="BronwynB" tags="lighting furnishings">All windows should have window treatments that can filter or block daylight as required, especially in bedrooms and in rooms with computer screens or tvs.</DIV>
<DIV id="storeVariable lighting" modified="200506200748" modifier="BronwynB" tags="lighting">It should be possible in virtually every room to have two or three levels of light.  This can be accomplished with dimmer switches, or through different lights for different purposes.\n\n# Low, for moodlighting\n# Medium, in rooms where it's necessary -- perhaps for conversation?\n# High, for work requiring precise vision.\n\nFind out if compact fluorescent bulbs can be dimmed or come in trilight form.</DIV>
<DIV id="storeNoise zones" modified="200506200750" modifier="BronwynB" tags="noise layout">Consider implementing noise zones, by putting quiet rooms together and noisy ones together, with uncertain ones or underused ones as barrier in between.\n\nOf course, if the house contains teenagers or small children, all bets are off.</DIV>
<DIV id="storeMultiple desks" modified="200506200753" modifier="BronwynB" tags="office electronics efficiency">One works differently with a computer than with paper or other physical crafts, so there should be separate paper and computer desks for each person who needs them.  Or at least wings of one desk.</DIV>
<DIV id="storeDrafting table" modified="200506200754" modifier="BronwynB" tags="furnishings">The house should have a drafting table or easel for working on art projects.</DIV>
<DIV id="storeFolding" modified="200506210030" modifier="BronwynB" tags="[[yatwa help]]">Clicking on a tag in the tags menu can produce a large collection of tiddlers, and finding the one you want can sometimes be tricky. [[Folding]] is a mechanism I've added to TiddlyWiki to deal with this.\n\nEach tiddler has a "fold" button on its toolbar. Clicking on it hides the tiddler body, but leaves the title line. Clicking on the "unfold" button brings the body back again. Editing a folded tiddler unfolds it first.\n\nThe command panel has two new buttons - "fold all" and "unfold all" - that do the obvious thing to all displayed tiddlers.\n\nFinally, there's a new option FoldedSearch. If checked, the results of searches and clicking on tags in the tag menu are folded by default.</DIV>
<DIV id="storeFoldedSearch" modified="200506210039" modifier="BronwynB" tags="[[yatwa prefs]]">If checked, search results and tag searches produce a list of folded tiddlers. If unchecked, the results list is unfolded.</DIV>
<DIV id="storeWhat's next?" modified="200506210040" modifier="BronwynB" tags="[[yatwa about]]">I really don't want to create YATWA. I created this in the first place because there were so many variations around and I wanted bits from several of them! I'd like to try and persuade JeremyRuston to put some (or preferably all:-) of my changes into the standard TiddlyWiki so I can throw YATWA away. Well, I'll probably keep it to experiment with more new stuff (I just can't stop playing), but I'll try and do the same with those too!\n\nOn the other hand, I'd like to try and make it easier for people to tweak TiddlyWiki if it doesn't quite suit their needs, but in a way that is easier to manage. That's the reason why I created the "UserCode" tiddler - to provide a way to add JavaScript code without having to edit the file itself. There are other bits of the wiki that could benefit from the same treatment, particularly the HTML skeleton. I plan to look at that sometime.</DIV>
<DIV id="storeBugs" modified="200506210041" modifier="BronwynB" tags="[[yatwa about]]">There appears to be a bug in the CSS that causes think black lines to appear occasionally, across the middle of a tiddler. It seems to have happened when I incorporated the tagging stuff from TiddlyTagWiki. I haven't looked at this yet because it doesn't happen often enough to annoy me. I will, sometime...\n</DIV>
<DIV id="storeYATWA Preferences" modified="200506210047" modifier="BronwynB" tags="[[yatwa prefs]]">* AutoSave\n* AutoSaveMessage\n* FoldedSearch\n* SaveBackups\n* SaveChanges\n</DIV>
<DIV id="storeHowTo" modified="200506210049" modifier="BronwynB" tags="[[yatwa help]]">* [[Get your own copy]]\n* SaveChanges\n* LinkToTiddlers\n* Make ExternalLinks\n* Apply [[Formatting]] to your text\n* Edit the SiteTitle and SiteSubtitle\n* Edit the StyleSheet\n* [[Upgrade YATWA]]\n* SaveBackups\n</DIV>
<DIV id="storeSaveBackups" modified="200506210050" modifier="BronwynB" tags="[[yatwa prefs]]">If checked, a backup copy of the current version of the HTML file is made before overwriting it with new changes. This happens both for a manual "save changes" operation and when AutoSave is checked. The combination of SaveBackups ad AutoSave can produce a lot of backup files!</DIV>
<DIV id="storeAutoSaveMessage" modified="200506210052" modifier="BronwynB" tags="[[yatwa prefs]]">If you have AutoSave set, then getting a save confirmation message everytime a tiddler is changed can get a little irritating. Uncheck this option to prevent the message. Note this does not prevent the message when you click "save changes".\n\nBeware - if you are in the habit of hacking TiddlyWiki, sometimes your code changes can prevent the save process from working. Disabling these messages will prevent you from spotting the problem until it is too late. I speak from personal experience! I suggest at least doing some manual saves after changing the code, if not turning the message back on for a little while, just to reassure yourself that all is well.</DIV>
<DIV id="storeAutoSave" modified="200506210052" modifier="BronwynB" tags="[[yatwa prefs]]">Save the Wiki whenever a tiddler is created, edited or deleted - no manual "SaveChanges" needed. Beware - if you also have SaveBackups set, this can create a lot of backup files. You should try to clean them out occasionally, especially if you as using this as a WikiOnAStick.</DIV>
<DIV id="storeAbout YATWA" modified="200506210054" modifier="BronwynB" tags="[[yatwa about]]">* [[Welcome to YATWA]]\n* What is [[Folding]]?\n* [[What's next?]]\n* [[Bugs]]\n</DIV>
<DIV id="storeSaveChanges" modified="200506210101" modifier="BronwynB" tags="[[yatwa help]]">Don't use the browser's File &gt; Save function.  Instead, use the "save changes" link at the top right, in the command block.  You can also turn on AutoSave.\n\nSee also [[Get your own copy]].\n</DIV>
<DIV id="storeLinkToTiddlers" modified="200506210104" modifier="BronwynB" tags="[[yatwa help]]"># You can use WikiWords, like SaveChanges.\n# You can surround one or more words with double brackets.\n\n{{{\n[[YATWA Docs]]\n[[Formatting]]\n}}}\n\nproduces \n\n[[YATWA Docs]]\n[[Formatting]]\n\nYou can even do both to the same link -- it won't hurt anything.</DIV>
<DIV id="storeUpgrade YATWA" modified="200506210107" modifier="BronwynB" tags="[[yatwa help]]">As you can see from the [[Recent Changes]], I've been occasionally updating YATWA with bug fixes and minor new features, and keeping up with TiddlyWiki changes by JeremyRushton. If you've been using an earlier revision of YATWA, here's how to upgrade to the latest version:\n* Open your TiddlyWiki file in FireFox (say it's called "mystuff.html")\n* SaveChanges to make sure that you've got a backup of it\n* Without closing that page, right-click on [[this link|</DIV>
<DIV id="storeFormatting" modified="200506210108" modifier="BronwynB" tags="[[yatwa help]]">* [[Block quotes]]\n* [[Bullet lists]]\n* [[Character formatting]]\n* [[Embedded images]]\n* [[Headings &amp; Sub-headings]]\n* [[Horizontal rules]]\n* [[Multi-level quotes]]\n* [[Numbered Lists]]\n* [[Preformatted blocks]]\n* [[Tables]]</DIV>
<DIV id="storeBullet lists" modified="200506210110" modifier="BronwynB" tags="[[yatwa help]]">{{{\n* Like this one\n* And this one\n** And this second-level one\n* And a final one\n}}}\nproduces:\n----\n* Like this one\n* And this one\n** And this second-level one\n* And a final one</DIV>
<DIV id="storeBlock quotes" modified="200506210110" modifier="BronwynB" tags="[[yatwa help]]">{{{\nJeremyRuston said:\n\n&lt;&lt;&lt;\nA TiddlyWiki is like a blog because it's divided up into neat little chunks, but it encourages you to read it by hyperlinking rather than\nsequentially: if you like, a non-linear blog analogue that binds the individual microcontent items into a cohesive whole. I think that TiddlyWiki \nrepresents a novel medium for writing, and will promote it's own distinctive WritingStyle. This is the first version of TiddlyWiki and so, as \ndiscussed in TiddlyWikiDev, it's bound to be FullOfBugs, have many MissingFeatures and fail to meet all of the DesignGoals. And of course \nthere's NoWarranty, and it might be judged a StupidName.\n&lt;&lt;&lt;\n}}}\nproduces:\n----\nJeremyRuston said:\n\n&lt;&lt;&lt;\nA TiddlyWiki is like a blog because it's divided up into neat little chunks, but it encourages you to read it by hyperlinking rather than sequentially: if you like, a non-linear blog analogue that binds the individual microcontent items into a cohesive whole. I think that TiddlyWiki represents a novel medium for writing, and will promote its own distinctive WritingStyle. This is the first version of TiddlyWiki and so, as discussed in TiddlyWikiDev, it's bound to be FullOfBugs, have many MissingFeatures and fail to meet all of the DesignGoals. And of course there's NoWarranty, and it might be judged a StupidName.\n&lt;&lt;&lt;</DIV>
<DIV id="storeHeadings & Sub-headings" modified="200506210111" modifier="BronwynB" tags="[[yatwa help]]">{{{\n!Header 1\n!!Header 2\n!!!Header 3\n!!!!Header 4\n!!!!!Header 5\n}}}\nproduces:\n----\n!Header 1\n!!Header 2\n!!!Header 3\n!!!!Header 4\n!!!!!Header 5</DIV>
<DIV id="storeEmbedded images" modified="200506210111" modifier="BronwynB" tags="[[yatwa help]]">{{{\n[img[SAP logo|images/sunset.jpg]]\n}}}\nproduces:\n----\n[img[SAP logo|images/sunset.jpg]]</DIV>
<DIV id="storeCharacter formatting" modified="200506210111" modifier="BronwynB" tags="[[yatwa help]]">{{{\n''Bold''\n==Strike==\n__Underline__\n//Italic//\n2^^3^^=8\na~~ij~~ = -a~~ji~~\n@@highlight@@\n@@color(green):green colored@@\n@@bgcolor(#ff0000):color(#ffffff):red colored@@\n}}}\nproduces:\n----\n''Bold''\n==Strike==\n__Underline__\n//Italic//\n2^^3^^=8\na~~ij~~ = -a~~ji~~\n@@highlight@@\n@@color(green):green colored@@\n@@bgcolor(#ff0000):color(#ffffff):red colored@@</DIV>
<DIV id="storeTables" modified="200506210120" modifier="BronwynB" tags="[[yatwa help]]">{{{\n|!th1111111111|!th2222222222|\n|&gt;| colspan |\n| rowspan |left|\n|~| right|\n|bgcolor(#a0ffa0):colored| center |\n|caption|c\n}}}\nproduces:\n----\n|!th1111111111|!th2222222222|\n|&gt;| colspan |\n| rowspan |left|\n|~| right|\n|bgcolor(#a0ffa0):colored| center |\n|caption|c</DIV>
<DIV id="storePreformatted blocks" modified="200506210120" modifier="BronwynB" tags="[[yatwa help]]">{{{\n {{{\nThis is a preformatted block.\n  Leading indentation is preserved.\nAnd the text is rendeded in a fixed-width font.\n }}}\n}}}\n(//note: the leading spaces on the "{{{" lines should be omitted//) produces:\n----\n{{{\nThis is a preformatted block.\n  Leading indentation is preserved.\nAnd the text is rendeded in a fixed-width font.\n}}}</DIV>
<DIV id="storeMulti-level quotes" modified="200506210120" modifier="BronwynB" tags="[[yatwa help]]">{{{\n&gt;level 1\n&gt;level 1\n&gt;&gt;level 2\n&gt;&gt;level 2\n&gt;&gt;&gt;level 3\n&gt;&gt;&gt;level 3\n&gt;&gt;level 2\n&gt;level 1\n}}}\nproduces:\n----\n&gt;level 1\n&gt;level 1\n&gt;&gt;level 2\n&gt;&gt;level 2\n&gt;&gt;&gt;level 3\n&gt;&gt;&gt;level 3\n&gt;&gt;level 2\n&gt;level 1</DIV>
<DIV id="storeHorizontal rules" modified="200506210120" modifier="BronwynB" tags="[[yatwa help]]">{{{\nYou can divide a tiddler into\n----\nsections by typing four dashes on a line by themselves\n}}}\nproduces:\n----\nYou can divide a tiddler into\n----\nsections by typing four dashes on a line by themselves</DIV>
<DIV id="storeNumbered Lists" modified="200506210120" modifier="BronwynB" tags="[[yatwa help]]">{{{\n#item1\n#item2\n##item2.1\n##item2.2\n##item2.3\n#item3\n##item3.1\n###item3.1.1\n###item3.1.2\n}}}\n\nproduces:\n----\n#item1\n#item2\n##item2.1\n##item2.2\n##item2.3\n#item3\n##item3.1\n###item3.1.1\n###item3.1.2</DIV>
<DIV id="storeMainMenu" modified="200506210121" modifier="BronwynB" tags="">''CreateNewTiddler''\n\n[[HowTo]]\n[[YATWA Preferences]]\n[[About YATWA]]\n</DIV>
<DIV id="storeDefaultTiddlers" modified="200506242310" modifier="BronwynB" tags="">HowTo</DIV>
<DIV id="storeWelcome to YATWA" modified="200506242313" modifier="BronwynB" tags="[[yatwa about]]">Steve Rumsby said: \n&lt;&lt;&lt;\nAfter playing with the vanilla TiddlyWiki for a bit, and then some of the existing variations, I decided that what I wanted was a combination of a number of adaptations. Specifically:\n* [[TiddlyTagWiki|http://www.digitaldimsum.co.uk/]]\n* [[GTDTiddlyWiki|http://shared.snapgrid.com/gtd_tiddlywiki.html]]\n* and the work done by David Bockes to incorporate [[jscalendar|http://www.dynarch.com/projects/calendar/]]\n\nI've done one or two other little things also:\n* Incorporated the TiddlyTagWiki change to keep automatic backups in a sub-directory, keeping things tidier\n* Made a few style changes using the StyleSheet tiddler\n* Added [[Folding]] to make large collections of tiddlers easier to manage - especially useful with tags\n\nThis is the result. You'll see that I've kept the standard TiddyWiki layout, with the options and timeline on the right and main menu on the left, but joined by the calendar and list of tags.\n\nClick on the "development" tag in the "All Tags" menu to see the complete revision history, bugs list and development plans.\n\n[[Steve Rumsby|mailto:yatwa@rumsby.org]]\n&lt;&lt;&lt;\n\nMyself, I've \n* changed the stylesheet massively\n* moved a few lines in the HTML skeleton\n* removed said calendar code because I don't need it</DIV>
<DIV id="storeExternalLinks" modified="200506242315" modifier="BronwynB" tags="[[yatwa help]]">{{{\n[[TiddlyWiki rocks|http://tiddlywiki.com/]]\n}}}\nbecomes [[TiddlyWiki rocks|http://tiddlywiki.com/]].</DIV>
<DIV id="storeGet your own copy" modified="200506242316" modifier="BronwynB" tags="[[yatwa help]]">To download this wiki you need to do two things:\n# Save your own blank TiddlyWiki to your local drive by right clicking on [[this link|empty_improved.html]] and selecting 'Save link as...' or 'Save target as...'. You can choose where to save the file, and what to call it (but keep the .HTML extension).\n\n\nFor those with Windows XP Service Pack 2, you must open the file in a text editor and save it under a new name.  (You can rename it right back afterwards.)  This fixes the problem detailed [[here|http://tiddlywiki.com/#DownloadSoftware%20SaveUnpredictabilities%20SaveChanges%20ServicePack2Problems]].</DIV>
<DIV id="storeStyleSheet" modified="200506242318" modifier="BronwynB" tags="">/* -------- OVERALL -------- */\n\nbody {\n   color: #000;\n       background-color: #fff;\n       font-size: 90%;\n       font-family: "frutiger linotype", verdana, arial, helvetica, sans-serif; \n/* font-family: "lucida sans", "lucida grande", verdana, arial, helvetica; */\n        margin: 0;\n       padding: 0;\n       position: relative;\n       }\n\na:link, a:visited, a:hover, a:active {\n    text-decoration: none;\n       }\n\n#storeArea, #copyright, #saveTest {\n     display: none;\n       }\n\n/* -------- SITE MASTHEAD -------- */\n\n#header {\n  margin-bottom: 1em;\n       }\n\n#titleLine {\n       color: #666;\n       background-color: #fff;\n       border-bottom:1px solid #FFDF84;\n      font-family: Georgia, "Palatino Linotype", Palatino, "Book Antiqua", Times, "Times New Roman", serif;\n     padding: 0.75em;\n       }\n\n#titleLine a {\n      color: #0080C4;\n       }\n\n#titleLine a:hover, #titleLine a:focus, #titleLine a:active {\n  color: #00A4FB;\n       }\n\n#siteTitle {\n       font-size: 180%;\n       }\n\n#siteSubtitle {\n       padding-left: 1em;\n       font-size: 110%;\n       }\n\n/* -------- LEFT SIDEBAR -------- */\n\n#leftside {\n  border-right: 1px solid #FFDF84;\n     line-height: 160%;\n       padding: 0 1em 1em 0.5em;\n    width: 14em;\n       float: left;\n       }\n\n#mainMenu, #tagMenuTitle, #tagMenu {\n     width: 13em;\n       padding: 0.5em;\n       }\n\n/* --- main menu at top left --- */\n\n#mainMenu {\n       text-align: right;\n       float: left;\n       padding: 0 0.5em 1em 0.5em;\n    margin-bottom: 0.75em;\n       }\n\n#mainMenu a {\n      color: #0080C4;\n       }\n\n#mainMenu a:hover, #mainMenu a:focus {\n    color: #00A4FB;\n       }\n\n/* --- tag list area for finding tiddlers --- */\n\n#tagMenuTitle { /* title for tags list */\n        color: #333;\n       /* background: #FFFAE8; */\n     border-bottom: 1px solid #FFDF84;\n     font-weight: bold;\n       line-height: 100%;\n       }\n\n#tagMenu { /* tag list area */\n  color: #666;\n       text-align: right;\n       margin-bottom: 0.75em;\n       }\n\n#tagMenu A {\n      color: #0080C4;\n       display: block;\n       }\n\n#tagMenu a:hover, #tagMenu a:focus, #tagMenu a:active {\n  color: #00A4FB;\n       }\n\n/* -------- TIDDLER DISPLAY AREA -------- */\n\n/* --- overall styles for tiddler display area --- */\n\n#displayArea { /* contains all tiddlers on display */\n border-left: 1px solid #FFDF84;\n     border-right: 1px solid #FFDF84;\n     margin: 0 16em;\n      }\n\n#displayArea .externalLink {\n      text-decoration: underline;\n       }\n\n#displayArea .tiddlyLinkExisting {\n      font-weight: bold;\n       }\n\n#displayArea .tiddlyLinkNonExisting {\n      font-style: italic;\n       }\n\n/* --- for message area that appears when you save changes --- */\n\n#messageArea {\n   background-color: #FFF1C6;\n       color: #333;\n       font-size:85%;\n        padding: 0.75em;\n       display: none;\n       }\n\n#messageArea a:link, #messageArea a:visited {\n    color: #0080C4;\n       text-decoration: underline;\n       display: inline;\n       }\n\n#messageArea a:hover, #messageArea a:active {\n    color: #00A4FB;\n       }\n\n/* -------- TIDDLER COMPONENTS -------- */\n\n.tiddler { /* layer 1, outermost */\n     font-size: 110%;\n       padding: 0;\n       }\n\n.innerTiddler { /* layer 2 */\n  padding: 1em 1em 0 1em;\n     }\n\n.body { /* layer 3, holds bodytext of tiddler */\n       padding-top: 0.5em;\n       }\n\n/* --- tiddler title --- */\n\n.title { /* layer 3 */\n      font-size: 105%;\n       font-weight: bold;\n       font-family: Georgia, "Palatino Linotype", Palatino, "Book Antiqua", Times, "Times New Roman", serif;\n     float: left;\n       }\n\n/* --- tiddler toolbar --- */\n\n.toolbar { /* layer 3 */\n      color: #666;\n       font-size: 90%;\n       font-weight: normal;\n       text-align: right;\n       padding: 0;\n       visibility: hidden;\n       }\n\n.toolbar A {\n      color: #666;\n       border: 1px dotted #999;\n     padding: 0.15em 0.3em;\n      }\n\n.toolbar A:hover, .toolbar A:active {\n    color: #0080C4;\n       border: 1px solid #00A4FB;\n     font-weight: bold;\n       }\n\n/* --- tags line at bottom --- */\n\n.tags {\n        color: #666;\n       font-size: 90%;\n       margin: 0.5em 0;\n      padding: 0;\n       visibility: hidden;\n       }\n\n.tags a {\n      color: #0080C4;\n       padding: 0.2em 0.4em;\n      }\n\n.tags a:hover, .tags a:focus, .tags a:active {\n  color: #00A4FB;\n       }\n\n/* -------- TIDDLER VIEWING -------- */\n\n.viewer { /* layer 4 */\n      border-top: 2px solid #FFC430;\n     line-height: 140%;\n       padding-top: 0.4em;\n       }\n\n/* --- headings --- */\n\n.viewer h2, h3, h4, h5, h6 {\n      color: #DEA100;\n       font-weight: bold;\n       font-family: Georgia, "Palatino Linotype", Palatino, "Book Antiqua", Times, "Times New Roman", serif;\n     padding-left: 0.5em;\n       }\n\n.viewer h2 {\n      font-size: 125%;\n       }\n\n.viewer h3 {\n      font-size: 110%;\n       }\n\n.viewer h4 {\n      font-size: 100%;\n       }\n\n.viewer h5 {\n      font-size: 95%;\n       }\n\n.viewer h6 {\n      font-size: 85%;\n       }\n\n/* --- links --- */\n\n.viewer a {\n  color: #0080C4;\n       }\n\n.viewer a:hover, .viewer a:focus, .viewer a:active {\n  color: #00A4FB;\n       }\n\n.viewer a.externalLink:visited {\n      color: #DE5F00;\n       }        \n\n/* --- lists --- */\n\n.viewer ol {\n  margin-left: 0.5em;\n       padding-left: 1.5em;\n       }\n\n.viewer ul {\n      margin-left: 0.5em;\n       padding-left: 1.5em;\n       }\n\n/* --- miscellaneous --- */\n\n.viewer blockquote {\n  border-left: 3px solid #666;\n     font-size: 92%;\n       line-height: 150%;\n       margin-left: 2em;\n       padding-left: 0.8em;\n       }\n\n.viewer blockquote blockquote {\n     font-size: 100%;\n       }\n\n.viewer hr {\n      color: #666;\n       border: none;\n       border-top: dashed 1px #606060;\n     height: 1px;\n       }\n\n.viewer pre, .viewer code {\n    color: #666;\n       font-size: 90%;\n       font-family:"lucida sans typewriter", "andale mono", "lucida console", monospace;\n line-height: 1.4em;\n       overflow: auto;\n       }\n\n/* --- tables --- */\n\n.viewer table {\n  border: 1px solid #333;\n     border-collapse: collapse;\n       font-size: 90%;\n       margin: 0.8em 1em\n      }\n\n.viewer th {\n      color: #000;\n       background-color: #FFF1C6;\n       border: 1px dotted #666;\n     border-bottom: 1px solid #333;\n     padding: 0.2em 0.4em;\n      }\n\n.viewer td, tr {\n     border: 1px dotted #666;\n     padding: 0.2em 0.4em;\n      }\n\n.viewer caption {\n      background: #FFF7DE;\n       padding: 0.15em;\n       }\n\n/* -------- TIDDLER EDITING -------- */\n\n.editor input {\n border: 1px solid #666;\n     display: block;\n       width: 100%;\n       }\n\n.editor textarea {\n      border: 1px solid #666;\n     font: 90%/130% "andale mono", "lucida console", "bitstream vera sans mono", monospace !important;\n     height: 20em;\n       display: block;\n       width: 100%;\n       margin: 0.5em 0;\n      }\n\n.editor input:hover, .editor input:focus, .editor textarea:hover {\n  border: 1px solid #FFC430;\n     }\n\n.editorPrompt { /* help tip on how to type tags */\n      color: #666;\n       font-size: 85%;\n       margin: 0.3em 0;\n      }\n\n/* --- RIGHT SIDEBAR --- */\n/* --- starting at the top and going down --- */\n\n#sidebar {\n        color: #666;\n       border-left: 1px solid #FFDF84;\n     line-height: 140%;\n       padding: 0 0.5em 1em 1em;\n    float: right;\n       width: 14em;\n       position: relative;\n       }\n\n/* --- tiddlywiki command block --- */\n\n#commandPanel {\n background-color: #fff;\n       border-bottom: 1px solid #FFDF84;\n     padding-top: 0.5em;\n       }\n\n#commandPanel A {\n      color: #0080C4;\n       display: block;\n       padding: 0.2em 0.2em 0.2em 0.5em;\n    }\n\n#commandPanel A:hover, #commandPanel A:focus {\n    color: #00A4FB;\n       background-color: #FFF1C6;\n       font-weight:bold;\n        text-decoration: none;\n       }\n\n#commandPanel A:active {\n      color: #00A4FB;\n       background-color: #FFF1C6;\n       }\n\n#commandPanel input {\n      border: 1px solid #FFDF84;\n     margin: 0.4em 0 0.3em 0.5em;\n    }\n\n/* --- options block (usually hidden) --- */\n\n#optionsPanel {\n        background-color: #FFF7DE;\n       border: 1px solid #FFDF84;\n     font-size: 90%;\n       line-height:130%;\n        display: none;\n       padding: 0.5em 0.5em 0.5em 0.5em;\n    }\n\n#optionsPanel a:link, #optionsPanel a:visited {\n    color: #0080C4;\n       font-weight: bold;\n       }\n\n#optionsPanel a:hover {\n      color: #00A4FB;\n       text-decoration: none;\n       }\n\n#optionsPanel input {\n      border: 1px solid #FFDF84;\n     margin: 0.4em 0 0.3em 1em;\n    }\n\n.optionsText {\n       margin-top: 0.25em;\n       margin-bottom: 0.75em;\n       }\n\n.optionsItem {\n       font-size: 90%;\n       }\n\n/* --- tabs for right sidebar --- */\n\n#sidebarTabs {\n        padding: 1.5em 0 0 0.5em;\n    margin-bottom:-1px;\n        }\n\n#sidebarTabs a {\n      color: #505050;\n       border-top: 4px solid transparent;\n     border-right: 1px solid transparent;\n     border-left: 1px solid transparent;\n     font-weight: bold;\n       }\n\n#sidebarTabs a:hover, #sidebarTabs a:focus, #sidebarTabs a:active {\n  color: #000;\n       border-top: 4px solid #FFC430;\n     border-right: 1px solid #FFC430;\n     border-left: 1px solid #FFC430;\n     text-decoration: none;\n       }\n\n#tabTimeline, #tabTags, #tabMore {\n     font-size: 95%;\n       display: inline;\n       padding: 2px 3px 2px 3px;\n    margin: 0 2px;\n      }\n\n#tabTimeline, .tabContentTimeline {\n      background-color: #FBF6E4;\n       }\n\n#tabTags, .tabContentTags {\n      background-color: #F2F2F0;\n       }\n\n#tabMore, .tabContentMore {\n      background-color: #EAF8FD;\n       }\n\n/* --- for contents shown when you select a tab --- */\n\n#sidebarContent {\n    font-size:90%;\n        }\n\n#sidebarContent a {\n      color: #0080C4;\n       }\n\n#sidebarContent a:hover {\n      color: #00A4FB;\n       background-color: #fff;\n       text-decoration: none;\n       }\n\n.tabContentTimeline, .tabContentTags, .tabContentMore {\n     padding: 0.5em;\n       overflow: hidden;\n       }\n\n.sidebarSubHeading { /* dates in timeline */\n  color: #666;\n       border-bottom: 1px solid #FFC430;\n     font-size: 110%;\n       }\n\n.tabContentMorePrompt { /* affects dropdown and help tip in more tab */\n     color: #666;\n       padding: 0.5em 0 0.75em 0;\n    }\n\n/* --- affects popup menu from clicking tag --- */\n\n#popup {\n      background-color: #fff;\n       border: 1px solid #ccc;\n     border-left: 3px solid #FFDF84;\n     display: none;\n       position: absolute;\n       padding: 0.5em;\n       }\n\n#popup a {\n      color: #0080C4;\n       display: block;\n       }\n\n#popup a:hover {\n      color: #fff;\n       background-color: #00A4FB;\n       }\n\n/* --- for license panel at very bottom --- */\n\n#licensePanel {\n      font-size: 85%;\n       padding-top: 1em;\n       }\n\n#licensePanel A {\n      color: #666;\n       display: block;\n       }\n\n#licensePanel A:hover, #licensePanel A:active {\n    color: #0080C4;\n       text-decoration: none;\n       }\n\n/* -------- UNKNOWN FUNCTION -------- */\n\n.hide {\n  border: 6px dashed red;\n     display: inline;\n       float: right;\n       }\n\n.highlight, .marked {\n      color: #000000;\n       background-color: #ffe72f;\n       border: 6px dashed red;\n     }\n\n/* --- I believe this is related to the zooming box animation --- */\n\n#floater {\n  color: white;\n       background-color: #E8E8E8;\n       font-size: 100%;\n       display: none;\n       position: absolute;\n       padding: 1em;\n       opacity: 0.5;\n       filter: alpha(opacity=50);\n       }\n\n/* =============== Stuff to hide when printing ============= */\n\n@media print {\n\n#titleLine {\n     display: none;\n       }\n\n#displayArea {\n       margin: 1em 1em 0 1em;\n    }\n\n#mainMenu {\n       display: none;\n       }\n\n#leftside {\n       display:none;\n        }\n\n#sidebar {\n       display: none;\n       }\n}\n</DIV>
<DIV id="storeSiteTitle" modified="200506250136" modifier="BronwynB" tags="">House Ideas</DIV>
<DIV id="storeSiteSubtitle" modified="200506250138" modifier="BronwynB" tags="">For buying or building</DIV>
<DIV id="storeGarage" modified="200506250147" modifier="BronwynB" tags="garage storage philosophy layout">I'm not sure if there should be a garage or not, or how it would be done.  \n\nGood points: \n* storage space\n* adds resale value\n\nBad points:\n* usually ugly\n* is it really necessary?\n* is it a waste of space given the lot's size and shape?\n\nHow to do:\n* de-emphasize \n** set back from street\n** put on side\n** put at back on alleyway\n** careful paint job\n* separate, small garage instead of some 2-car job\n** attach with (covered?) walkway\n</DIV>
<DIV id="storeEase of maintenance" modified="200506250148" modifier="BronwynB" tags="maintenance efficiency philosophy">There is too much damn housework in the world.  Some of it can be alleviated with intelligent design.  See the maintenance tag...</DIV>
<DIV id="storeLarge bathrooms" modified="200506250150" modifier="BronwynB" tags="bathroom plumbing philosophy layout comfort wishlist efficiency">Powder rooms aside, all bathrooms are often used by more than one person at once, but most are designed so that you can't fit in even one person //and// open the door.  This is dumb, and I refuse to have small bathrooms in any house I design.\n\nA bathroom needs space for: \n* a tub and/or shower\n* one or more sinks\n* toilet, and storage for items needed while [[Trapped on the toilet]]\n* towel racks\n* clothes hooks\n* lotions and potions\n* tables to deposit reading matter or other items\n* linen closet\n* robing and disrobing\n\nCan this all occur comfortably in a room like [[this|http://www.us.kohler.com/designkb/designservice/5x8product.jsp]] or [[this|http://www.us.kohler.com/designkb/designservice/6x11product.jsp]], even for one person at a time?  I don't think so.\n\nOne of the nicest things about my parents' house was that the original bathroom had roughly //sixteen// or more square feet of empty space not used by fixtures, closets, or furnishings.\n\nHere's my attempt at a layout for the main or master bath.  It's 10x12 ft, which I admit isn't small, but neither is it a really big room.\n[img[bathrooms.png]]\n</DIV></DIV>
    
</BODY></HTML>_6http://arndis.godsong.org/tiddlywiki/house_ideas2.htmlYtext/html        1  3  :  L  [  q . Äq Äz ÄÉ Ä° Äß÷ÿ◊                          ◊